var M=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var B=Object.getOwnPropertyNames;var z=Object.prototype.hasOwnProperty;var w=e=>M(e,"__esModule",{value:!0});var L=(e,u)=>{for(var r in u)M(e,r,{get:u[r],enumerable:!0})},T=(e,u,r,t)=>{if(u&&typeof u=="object"||typeof u=="function")for(let n of B(u))!z.call(e,n)&&(r||n!=="default")&&M(e,n,{get:()=>u[n],enumerable:!(t=C(u,n))||t.enumerable});return e};var P=(e=>(u,r)=>e&&e.get(u)||(r=T(w({}),u,1),e&&e.set(u,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var _={};L(_,{computePointOnSpline:()=>G,cubicBezier:()=>D,getCurvePoints:()=>H,getSpline:()=>F,getTLBezierCurveSegments:()=>A,simplify:()=>E});function A(e,u=.4){let r=e.length,t=[...e];if(r<2)throw Error("Curve must have at least two points.");for(let c=1;c<r-1;c++){let l=e[c-1],o=e[c],a=e[c+1],x=a[0]-l[0],f=a[1]-l[1],d=Math.hypot(x,f),g=x/d,i=f/d,y=Math.hypot(o[0]-l[0],o[1]-l[1]),p=Math.hypot(o[0]-a[0],o[1]-a[1]);t[c]=[o[0]-g*y*u,o[1]-i*y*u,o[0]+g*p*u,o[1]+i*p*u,g,i]}let n=Math.hypot(e[0][0]+t[1][0]);t[0][2]=(e[0][0]+t[1][0])/2,t[0][3]=(e[0][1]+t[1][1])/2,t[0][4]=(t[1][0]-e[0][0])/n,t[0][5]=(t[1][1]-e[0][1])/n;let s=Math.hypot(e[r-1][1]+t[r-1][1]);t[r-1][0]=(e[r-1][0]+t[r-2][2])/2,t[r-1][1]=(e[r-1][1]+t[r-2][3])/2,t[r-1][4]=(t[r-2][2]-e[r-1][0])/-s,t[r-1][5]=(t[r-2][3]-e[r-1][1])/-s;let b=[];for(let c=1;c<t.length;c++)b.push({start:e[c-1].slice(0,2),tangentStart:t[c-1].slice(2,4),normalStart:t[c-1].slice(4,6),pressureStart:2+((c-1)%2===0?1.5:0),end:e[c].slice(0,2),tangentEnd:t[c].slice(0,2),normalEnd:t[c].slice(4,6),pressureEnd:2+(c%2===0?1.5:0)});return b}function D(e,u,r,t,n){let o=1-3*t+3*u-0,a=3*t-6*u+3*0,x=3*u-3*0,f=0,d=1-3*n+3*r-0,g=3*n-6*r+3*0,i=3*r-3*0,y=0,p=5,h,S,v,m=e;for(h=0;h<p;h++)v=o*m*m*m+a*m*m+x*m+f,S=1/(3*o*m*m+2*a*m+x),m-=(v-e)*S,m=m>1?1:m<0?0:m;return Math.abs(d*m*m*m+g*m*m+i*m*y)}function F(e,u=.5){let r,[t,n,s]=e,b=[];for(let c=1,l=e.length;c<l;c++)r=t,t=n,n=s,s=e[c+2]?e[c+2]:n,b.push([t[0]+(n[0]-r[0])/6*u,t[1]+(n[1]-r[1])/6*u,n[0]-(s[0]-t[0])/6*u,n[1]-(s[1]-t[1])/6*u,e[c][0],e[c][1]]);return b}function G(e,u){if(e===0)return u[0];let r=u.length-1;if(e===1)return u[r];let t=1-e,n=u;if(r===0)return u[0];if(r===1)return[t*n[0][0]+e*n[1][0],t*n[0][1]+e*n[1][1]];let s=t*t,b=e*e,c,l,o,a=0;return r===2?(n=[n[0],n[1],n[2],[0,0]],c=s,l=t*e*2,o=b):(c=s*t,l=s*e*3,o=t*b*3,a=e*b),[c*n[0][0]+l*n[1][0]+o*n[2][0]+a*n[3][0],c*n[0][1]+l*n[1][1]+o*n[2][1]+a*n[3][1]]}function H(e,u=.5,r=!1,t=3){let n=[...e],s=e.length,b=[],c,l,o,a,x,f,d,g,i,y,p;r?(n.unshift(n[s-1]),n.push(n[0])):(n.unshift(n[0]),n.push(n[s-1]));for(let h=1;h<n.length-2;h++)for(let S=0;S<=t;S++)i=S/t,y=Math.pow(i,2),p=Math.pow(i,3),x=2*p-3*y+1,f=-(2*p)+3*y,d=p-2*y+i,g=p-y,c=(n[h+1][0]-n[h-1][0])*u,l=(n[h+2][0]-n[h][0])*u,o=(n[h+1][1]-n[h-1][1])*u,a=(n[h+2][1]-n[h][1])*u,b.push([x*n[h][0]+f*n[h+1][0]+d*c+g*l,x*n[h][1]+f*n[h+1][1]+d*o+g*a]);return b.push(e[e.length-1]),b}function E(e,u=1){let r=e.length,t=e[0],n=e[r-1],[s,b]=t,[c,l]=n;if(r>2){let o=0,a=0,x=Math.hypot(l-b,c-s);for(let f=1;f<r-1;f++){let[d,g]=e[f],i=Math.abs((l-b)*d-(c-s)*g+c*b-l*s)/x;o>i||(o=i,a=f)}if(o>u){let f=E(e.slice(0,a+1),u),d=E(e.slice(a+1),u);return f.concat(d.slice(1))}}return[t,n]}module.exports=P(_);
//# sourceMappingURL=index.js.map
