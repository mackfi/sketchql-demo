"use strict";var ru=Object.create;var sr=Object.defineProperty,su=Object.defineProperties,iu=Object.getOwnPropertyDescriptor,au=Object.getOwnPropertyDescriptors,lu=Object.getOwnPropertyNames,jr=Object.getOwnPropertySymbols,du=Object.getPrototypeOf,Ti=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable;var bi=(s,o,e)=>o in s?sr(s,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[o]=e,S=(s,o)=>{for(var e in o||(o={}))Ti.call(o,e)&&bi(s,e,o[e]);if(jr)for(var e of jr(o))Pa.call(o,e)&&bi(s,e,o[e]);return s},k=(s,o)=>su(s,au(o));var De=(s,o)=>{var e={};for(var t in s)Ti.call(s,t)&&o.indexOf(t)<0&&(e[t]=s[t]);if(s!=null&&jr)for(var t of jr(s))o.indexOf(t)<0&&Pa.call(s,t)&&(e[t]=s[t]);return e};var Ma=(s,o)=>{for(var e in o)sr(s,e,{get:o[e],enumerable:!0})},Gr=(s,o,e,t)=>{if(o&&typeof o=="object"||typeof o=="function")for(let n of lu(o))!Ti.call(s,n)&&n!==e&&sr(s,n,{get:()=>o[n],enumerable:!(t=iu(o,n))||t.enumerable});return s},Vr=(s,o,e)=>(Gr(s,o,"default"),e&&Gr(e,o,"default")),R=(s,o,e)=>(e=s!=null?ru(du(s)):{},Gr(o||!s||!s.__esModule?sr(e,"default",{value:s,enumerable:!0}):e,s)),cu=s=>Gr(sr({},"__esModule",{value:!0}),s);var l=(s,o,e)=>(bi(s,typeof o!="symbol"?o+"":o,e),e);var F=(s,o,e)=>new Promise((t,n)=>{var r=a=>{try{d(e.next(a))}catch(c){n(c)}},i=a=>{try{d(e.throw(a))}catch(c){n(c)}},d=a=>a.done?t(a.value):Promise.resolve(a.value).then(r,i);d((e=e.apply(s,o)).next())});var Ug={};Ma(Ug,{AlignStyle:()=>bt,AlignType:()=>ar,Arrow:()=>Oo,ColorStyle:()=>Yr,DashStyle:()=>Wt,Decoration:()=>cr,DistributeType:()=>dr,Draw:()=>Ws,Ellipse:()=>Ns,FlipType:()=>_r,FontSize:()=>Oa,FontStyle:()=>So,Group:()=>Vc,Image:()=>$c,MoveType:()=>Ur,Rectangle:()=>Vs,SessionType:()=>ge,SizeStyle:()=>pr,Sticky:()=>Ir,StretchType:()=>lr,TDAssetType:()=>Zr,TDEventHandler:()=>ir,TDExportBackground:()=>bo,TDExportType:()=>Un,TDShapeType:()=>q,TDStatus:()=>at,TDUserStatus:()=>za,TLDR:()=>x,Text:()=>Gc,Tldraw:()=>Gg,TldrawApp:()=>$t,Triangle:()=>$s,Video:()=>Nc,getShapeUtil:()=>na,shapeUtils:()=>tn,useFileSystem:()=>Ha});module.exports=cu(Ug);var ZA=require("@fontsource/caveat-brush"),XA=require("@fontsource/crimson-pro"),qA=require("@fontsource/recursive"),JA=require("@fontsource/source-code-pro"),QA=require("@fontsource/source-sans-pro"),Xp=require("@tldraw/core"),re=R(require("react")),qp=require("react-error-boundary"),Jp=require("react-intl");var de=R(require("@radix-ui/react-context-menu")),Ae=require("@radix-ui/react-icons"),Q=R(require("react")),Te=require("react-intl");var $r=require("@stitches/react");var{styled:M,createTheme:pu}=(0,$r.createStitches)({themeMap:S({},$r.defaultThemeMap),theme:{colors:{bounds:"rgba(65, 132, 244, 1.000)",boundsBg:"rgba(65, 132, 244, 0.05)",hover:"#ececec",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#fefefe",panelContrast:"#ffffff",selected:"rgba(66, 133, 244, 1.000)",selectedContrast:"#fefefe",text:"#333333",tooltip:"#1d1d1d",tooltipContrast:"#ffffff",warn:"rgba(255, 100, 100, 1)",canvas:"rgb(248, 249, 250)"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.14)",3:"0px 2px 3px rgba(0, 0, 0, 0.14)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.14)",8:"0px 12px 17px rgba(0, 0, 0, 0.14)",12:"0px 12px 17px rgba(0, 0, 0, 0.14)",24:"0px 24px 38px rgba(0, 0, 0, 0.14)",key:"1px 1px rgba(0,0,0,1)",panel:`0px 0px 16px -1px rgba(0, 0, 0, 0.05), 
        0px 0px 16px -8px rgba(0, 0, 0, 0.05), 
        0px 0px 16px -12px rgba(0, 0, 0, 0.12),
        0px 0px 2px 0px rgba(0, 0, 0, 0.08)`},space:{0:"2px",1:"3px",2:"4px",3:"8px",4:"12px",5:"16px",6:"32px",7:"48px"},fontSizes:{0:"10px",1:"12px",2:"13px",3:"16px",4:"18px"},fonts:{ui:'"Recursive", system-ui, sans-serif',body:'"Recursive", system-ui, sans-serif',mono:'"Recursive Mono", monospace'},fontWeights:{},lineHeights:{},letterSpacings:{},sizes:{},borderWidths:{0:"$1"},borderStyles:{},radii:{0:"2px",1:"4px",2:"8px",3:"12px",4:"16px"},zIndices:{},transitions:{}},media:{micro:"(max-width: 370px)",sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)"},utils:{zStrokeWidth:()=>s=>Array.isArray(s)?{strokeWidth:`calc(${s[0]}px / var(--camera-zoom))`}:{strokeWidth:`calc(${s}px / var(--camera-zoom))`}}}),yi=pu({colors:{bounds:"rgba(38, 150, 255, 1.000)",boundsBg:"rgba(38, 150, 255, 0.05)",hover:"#444A50",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#363D44",panelContrast:"#49555f",selected:"rgba(38, 150, 255, 1.000)",selectedContrast:"#fefefe",text:"#f8f9fa",tooltip:"#1d1d1d",tooltipContrast:"#ffffff",canvas:"#212529"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.24)",3:"0px 2px 3px rgba(0, 0, 0, 0.24)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.24)",8:"0px 12px 17px rgba(0, 0, 0, 0.24)",12:"0px 12px 17px rgba(0, 0, 0, 0.24)",24:"0px 24px 38px rgba(0, 0, 0, 0.24)",panel:`0px 0px 16px -1px rgba(0, 0, 0, 0.05), 
      0px 0px 16px -8px rgba(0, 0, 0, 0.09), 
      0px 0px 16px -12px rgba(0, 0, 0, 0.2)`}});var ee=M("hr",{height:0,paddingTop:1,width:"calc(100%+8px)",backgroundColor:"$hover",border:"none",margin:"$2 -4px"});var St=M("div",{position:"relative",overflow:"hidden",userSelect:"none",WebkitUserSelect:"none",display:"flex",flexDirection:"column",zIndex:99997,minWidth:180,pointerEvents:"all",backgroundColor:"$panel",border:"1px solid $panelContrast",boxShadow:"$panel",padding:"$2 $2",borderRadius:"$3",font:"$ui",maxHeight:"100vh",overflowY:"auto",overflowX:"hidden","&::webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none",scrollbarWidth:"none",variants:{size:{small:{minWidth:72}},overflow:{true:{maxHeight:"60vh"}}}});var Ra=require("@radix-ui/react-dropdown-menu"),Nr=require("@radix-ui/react-icons"),Aa=R(require("react"));var Ba=require("@tldraw/core");var Ea=require("react/jsx-runtime"),uu=()=>Ba.Utils.isDarwin()?"\u2318":"Ctrl";function mo({variant:s,children:o}){return(0,Ea.jsx)(hu,{variant:s,children:o.split("").map((e,t)=>(0,Ea.jsx)("span",{children:e.replace("#",uu())},t))})}var hu=M("kbd",{marginLeft:"$3",textShadow:"$2",textAlign:"center",fontSize:"$0",fontFamily:"$ui",color:"$text",background:"none",fontWeight:400,gap:"$1",display:"flex",alignItems:"center","& > span":{padding:"$0",borderRadius:"$0",display:"flex",alignItems:"center",justifyContent:"center"},variants:{variant:{tooltip:{"& > span":{color:"$tooltipContrast",background:"$overlayContrast",boxShadow:"$key",width:"20px",height:"20px"}},menu:{}}}});var je=M("div",{height:"100%",borderRadius:"4px",marginRight:"1px",width:"fit-content",display:"grid",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",color:"currentColor","& svg":{height:16,width:16,strokeWidth:1},"& > *":{gridRow:1,gridColumn:1}});var Pe={"@initial":"mobile","@micro":"micro","@sm":"small","@md":"medium","@lg":"large"};var an=require("react/jsx-runtime"),pe=Aa.forwardRef((u,p)=>{var h=u,{onClick:s,isActive:o=!1,isWarning:e=!1,hasIndicator:t=!1,hasArrow:n=!1,disabled:r=!1,variant:i,kbd:d,children:a}=h,c=De(h,["onClick","isActive","isWarning","hasIndicator","hasArrow","disabled","variant","kbd","children"]);return(0,an.jsx)(mu,k(S({ref:p,bp:Pe,isWarning:e,isActive:o,disabled:r,onClick:s,variant:i},c),{children:(0,an.jsxs)(La,{children:[a,d?(0,an.jsx)(mo,{variant:"menu",children:d}):void 0,t&&(0,an.jsx)(Ra.ItemIndicator,{dir:"ltr",children:(0,an.jsx)(je,{children:(0,an.jsx)(Nr.CheckIcon,{})})}),n&&(0,an.jsx)(je,{children:(0,an.jsx)(Nr.ChevronRightIcon,{})})]})}))}),La=M("div",{height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",display:"flex",gap:"$1",flexDirection:"row",alignItems:"center",padding:"0 $3",justifyContent:"space-between",border:"1px solid transparent","& svg":{position:"relative",stroke:"$overlay",strokeWidth:1,zIndex:1},[`& > ${je}`]:{paddingLeft:"$3"}}),mu=M("button",{position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",height:32,minHeight:32,outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",borderRadius:4,userSelect:"none",WebkitUserSelect:"none",margin:0,padding:"0 0","&[data-disabled]":{opacity:.3},"&:disabled":{opacity:.3},[`&:focus:not(:disabled) ${La}`]:{backgroundColor:"$hover"},"& a":{textDecoration:"none",color:"$text"},variants:{bp:{mobile:{},small:{}},variant:{styleMenu:{margin:"$1 0 $1 0"},wide:{gridColumn:"1 / span 4"}},size:{icon:{padding:"4px ",width:"auto"}},isWarning:{true:{color:"$warn"}},isActive:{true:{backgroundColor:"$hover"},false:{}}}});var ur=R(require("react"));var Nt=R(require("@radix-ui/react-tooltip"));var ln=require("react/jsx-runtime");function ae({children:s,label:o,kbd:e,id:t,side:n="top"}){return(0,ln.jsx)("span",{id:t,children:(0,ln.jsx)(Nt.Provider,{children:(0,ln.jsxs)(Nt.Root,{children:[(0,ln.jsx)(Nt.Trigger,{dir:"ltr",asChild:!0,children:(0,ln.jsx)("span",{children:s})}),(0,ln.jsxs)(gu,{dir:"ltr",side:n,sideOffset:8,children:[o,e?(0,ln.jsx)(mo,{variant:"tooltip",children:e}):null,(0,ln.jsx)(fu,{})]})]})})})}var gu=M(Nt.Content,{borderRadius:3,padding:"$3 $3 $3 $3",fontSize:"$1",backgroundColor:"$tooltip",color:"$tooltipContrast",boxShadow:"$3",display:"flex",alignItems:"center",fontFamily:"$ui",userSelect:"none",WebkitUserSelect:"none"}),fu=M(Nt.Arrow,{fill:"$tooltip",margin:"0 8px"});var go=R(require("react"));function Ha(){let s=go.useCallback((r,i)=>F(this,null,function*(){i(r.fileSystemHandle?"saveFirstTime":"saveAgain",()=>F(this,null,function*(){try{yield r.saveProject(),r.newProject()}catch(d){}}),()=>F(this,null,function*(){r.newProject()}),()=>F(this,null,function*(){}))}),[]),o=go.useCallback((r,i)=>F(this,null,function*(){i(r.fileSystemHandle?"saveFirstTime":"saveAgain",()=>F(this,null,function*(){try{yield r.saveProject(),yield r.openProject()}catch(d){}}),()=>F(this,null,function*(){r.openProject()}),()=>F(this,null,function*(){}))}),[]),e=go.useCallback(r=>{r.saveProject()},[]),t=go.useCallback(r=>{r.saveProjectAs()},[]),n=go.useCallback(r=>F(this,null,function*(){var i;(i=r.openAsset)==null||i.call(r)}),[]);return{onNewProject:s,onSaveProject:e,onSaveProjectAs:t,onOpenProject:o,onOpenMedia:n}}var fo=R(require("react"));function Wr(){let s=V(),{openDialog:o}=Kr(),e=fo.useCallback(d=>F(this,null,function*(){var a,c;d&&s.callbacks.onOpenProject&&d.preventDefault(),(c=(a=s.callbacks).onNewProject)==null||c.call(a,s,o)}),[s,o]),t=fo.useCallback(d=>{var a,c;d&&s.callbacks.onOpenProject&&d.preventDefault(),(c=(a=s.callbacks).onSaveProject)==null||c.call(a,s)},[s]),n=fo.useCallback(d=>{var a,c;d&&s.callbacks.onOpenProject&&d.preventDefault(),(c=(a=s.callbacks).onSaveProjectAs)==null||c.call(a,s)},[s]),r=fo.useCallback(d=>F(this,null,function*(){var a,c;d&&s.callbacks.onOpenProject&&d.preventDefault(),(c=(a=s.callbacks).onOpenProject)==null||c.call(a,s,o)}),[s,o]),i=fo.useCallback(d=>F(this,null,function*(){var a,c;d&&s.callbacks.onOpenMedia&&d.preventDefault(),(c=(a=s.callbacks).onOpenMedia)==null||c.call(a,s)}),[s]);return{onNewProject:e,onSaveProject:t,onSaveProjectAs:n,onOpenProject:r,onOpenMedia:i}}var Xr=R(require("react")),j=require("react-hotkeys-hook");var ir=class{constructor(){l(this,"onPinchStart");l(this,"onPinchEnd");l(this,"onPinch");l(this,"onKeyDown");l(this,"onKeyUp");l(this,"onPointerMove");l(this,"onPointerUp");l(this,"onPan");l(this,"onZoom");l(this,"onPointerDown");l(this,"onPointCanvas");l(this,"onDoubleClickCanvas");l(this,"onRightPointCanvas");l(this,"onDragCanvas");l(this,"onReleaseCanvas");l(this,"onPointShape");l(this,"onDoubleClickShape");l(this,"onRightPointShape");l(this,"onDragShape");l(this,"onHoverShape");l(this,"onUnhoverShape");l(this,"onReleaseShape");l(this,"onPointBounds");l(this,"onDoubleClickBounds");l(this,"onRightPointBounds");l(this,"onDragBounds");l(this,"onHoverBounds");l(this,"onUnhoverBounds");l(this,"onReleaseBounds");l(this,"onPointBoundsHandle");l(this,"onDoubleClickBoundsHandle");l(this,"onRightPointBoundsHandle");l(this,"onDragBoundsHandle");l(this,"onHoverBoundsHandle");l(this,"onUnhoverBoundsHandle");l(this,"onReleaseBoundsHandle");l(this,"onPointHandle");l(this,"onDoubleClickHandle");l(this,"onRightPointHandle");l(this,"onDragHandle");l(this,"onHoverHandle");l(this,"onUnhoverHandle");l(this,"onReleaseHandle");l(this,"onShapeBlur");l(this,"onShapeClone")}},za=(n=>(n.Idle="idle",n.Connecting="connecting",n.Connected="connected",n.Disconnected="disconnected",n))(za||{}),ge=(u=>(u.Transform="transform",u.Translate="translate",u.TransformSingle="transformSingle",u.Brush="brush",u.Arrow="arrow",u.Draw="draw",u.Erase="erase",u.Rotate="rotate",u.Handle="handle",u.Grid="grid",u.Edit="edit",u))(ge||{}),at=(m=>(m.Idle="idle",m.PointingHandle="pointingHandle",m.PointingBounds="pointingBounds",m.PointingBoundsHandle="pointingBoundsHandle",m.TranslatingLabel="translatingLabel",m.TranslatingHandle="translatingHandle",m.Translating="translating",m.Transforming="transforming",m.Rotating="rotating",m.Pinching="pinching",m.Brushing="brushing",m.Creating="creating",m.EditingText="editing-text",m))(at||{}),Ur=(n=>(n.Backward="backward",n.Forward="forward",n.ToFront="toFront",n.ToBack="toBack",n))(Ur||{}),ar=(i=>(i.Top="top",i.CenterVertical="centerVertical",i.Bottom="bottom",i.Left="left",i.CenterHorizontal="centerHorizontal",i.Right="right",i))(ar||{}),lr=(e=>(e.Horizontal="horizontal",e.Vertical="vertical",e))(lr||{}),dr=(e=>(e.Horizontal="horizontal",e.Vertical="vertical",e))(dr||{}),_r=(e=>(e.Horizontal="horizontal",e.Vertical="vertical",e))(_r||{}),q=(u=>(u.Sticky="sticky",u.Ellipse="ellipse",u.Rectangle="rectangle",u.Triangle="triangle",u.Draw="draw",u.Arrow="arrow",u.Line="line",u.Text="text",u.Group="group",u.Image="image",u.Video="video",u))(q||{}),cr=(o=>(o.Arrow="arrow",o))(cr||{}),Yr=(h=>(h.White="white",h.LightGray="lightGray",h.Gray="gray",h.Black="black",h.Green="green",h.Cyan="cyan",h.Blue="blue",h.Indigo="indigo",h.Violet="violet",h.Red="red",h.Orange="orange",h.Yellow="yellow",h))(Yr||{}),pr=(t=>(t.Small="small",t.Medium="medium",t.Large="large",t))(pr||{}),Wt=(n=>(n.Draw="draw",n.Solid="solid",n.Dashed="dashed",n.Dotted="dotted",n))(Wt||{}),Oa=(n=>(n.Small="small",n.Medium="medium",n.Large="large",n.ExtraLarge="extraLarge",n))(Oa||{}),bt=(n=>(n.Start="start",n.Middle="middle",n.End="end",n.Justify="justify",n))(bt||{}),So=(n=>(n.Script="script",n.Sans="sans",n.Serif="serif",n.Mono="mono",n))(So||{}),Zr=(e=>(e.Image="image",e.Video="video",e))(Zr||{}),Un=(r=>(r.PNG="png",r.JPG="jpeg",r.WEBP="webp",r.SVG="svg",r.JSON="json",r))(Un||{}),bo=(n=>(n.Transparent="transparent",n.Auto="auto",n.Light="light",n.Dark="dark",n))(bo||{});function Fa(s){let o=V(),e=Xr.useCallback((a=!1)=>{let c=s.current;return a&&(o.isMenuOpen||o.settings.keepStyleMenuOpen)?!0:c&&(document.activeElement===c||c.contains(document.activeElement))},[s]);Xr.useEffect(()=>{if(!o)return;let a=u=>{if(!!e(!0)){if(o.readOnly){o.copy(void 0,u);return}o.cut(void 0,u)}},c=u=>{!e(!0)||o.copy(void 0,u)},p=u=>{!e(!0)||o.readOnly||o.paste(void 0,u)};return document.addEventListener("cut",a),document.addEventListener("copy",c),document.addEventListener("paste",p),()=>{document.removeEventListener("cut",a),document.removeEventListener("copy",c),document.removeEventListener("paste",p)}},[o]),(0,j.useHotkeys)("v,1",()=>{!e(!0)||o.selectTool("select")},[o,s.current]),(0,j.useHotkeys)("d,p,2",()=>{!e(!0)||o.selectTool("draw")},void 0,[o]),(0,j.useHotkeys)("e,3",()=>{!e(!0)||o.selectTool("erase")},void 0,[o]),(0,j.useHotkeys)("r,4",()=>{!e(!0)||o.selectTool("rectangle")},void 0,[o]),(0,j.useHotkeys)("o,5",()=>{!e(!0)||o.selectTool("ellipse")},void 0,[o]),(0,j.useHotkeys)("g,6",()=>{!e()||o.selectTool("triangle")},void 0,[o]),(0,j.useHotkeys)("l,7",()=>{!e(!0)||o.selectTool("line")},void 0,[o]),(0,j.useHotkeys)("a,8",()=>{!e(!0)||o.selectTool("arrow")},void 0,[o]),(0,j.useHotkeys)("t,9",()=>{!e(!0)||o.selectTool("text")},void 0,[o]),(0,j.useHotkeys)("s,0",()=>{!e(!0)||o.selectTool("sticky")},void 0,[o]),(0,j.useHotkeys)("ctrl+shift+d,\u2318+shift+d",a=>{!e(!0)||(o.toggleDarkMode(),a.preventDefault())},void 0,[o]),(0,j.useHotkeys)("ctrl+.,\u2318+.",()=>{!e(!0)||o.toggleFocusMode()},void 0,[o]),(0,j.useHotkeys)("ctrl+shift+g,\u2318+shift+g",()=>{!e(!0)||o.toggleGrid()},void 0,[o]);let{onNewProject:t,onOpenProject:n,onSaveProject:r,onSaveProjectAs:i,onOpenMedia:d}=Wr();(0,j.useHotkeys)("ctrl+n,\u2318+n",a=>{a.preventDefault(),e()&&t(a)},void 0,[o]),(0,j.useHotkeys)("ctrl+s,\u2318+s",a=>{!e()||r(a)},void 0,[o]),(0,j.useHotkeys)("ctrl+shift+s,\u2318+shift+s",a=>{!e()||i(a)},void 0,[o]),(0,j.useHotkeys)("ctrl+alt+1,\u2318+alt+1",a=>{!e()||o.exportImage("svg",{scale:2,quality:1})},void 0,[o]),(0,j.useHotkeys)("ctrl+alt+2,\u2318+alt+2",a=>{!e()||o.exportImage("png",{scale:2,quality:1})},void 0,[o]),(0,j.useHotkeys)("ctrl+alt+3,\u2318+alt+3",a=>{!e()||o.exportImage("jpeg",{scale:2,quality:1})},void 0,[o]),(0,j.useHotkeys)("ctrl+alt+4,\u2318+alt+4",a=>{!e()||o.exportImage("webp",{scale:2,quality:1})},void 0,[o]),(0,j.useHotkeys)("ctrl+alt+5,\u2318+alt+5",a=>{!e()||o.exportJson()},void 0,[o]),(0,j.useHotkeys)("ctrl+o,\u2318+o",a=>{!e()||n(a)},void 0,[o]),(0,j.useHotkeys)("ctrl+u,\u2318+u",a=>{!e()||d(a)},void 0,[o]),(0,j.useHotkeys)("\u2318+z,ctrl+z",a=>{a.preventDefault(),e(!0)&&(o.session?o.cancelSession():o.undo())},void 0,[o]),(0,j.useHotkeys)("ctrl+shift+z,\u2318+shift+z",()=>{!e(!0)||(o.session?o.cancelSession():o.redo())},void 0,[o]),(0,j.useHotkeys)("\u2318+u,ctrl+u",()=>{!e()||o.undoSelect()},void 0,[o]),(0,j.useHotkeys)("ctrl+shift-u,\u2318+shift+u",()=>{!e()||o.redoSelect()},void 0,[o]),(0,j.useHotkeys)("ctrl+=,\u2318+=,ctrl+num_add,\u2318+num_add",a=>{!e(!0)||(o.zoomIn(),a.preventDefault())},void 0,[o]),(0,j.useHotkeys)("ctrl+-,\u2318+-,ctrl+num_subtract,\u2318+num_subtract",a=>{!e(!0)||(o.zoomOut(),a.preventDefault())},void 0,[o]),(0,j.useHotkeys)("shift+0,ctrl+numpad_0,\u2318+numpad_0",()=>{!e(!0)||o.resetZoom()},void 0,[o]),(0,j.useHotkeys)("shift+1",()=>{!e(!0)||o.zoomToFit()},void 0,[o]),(0,j.useHotkeys)("shift+2",()=>{!e(!0)||o.zoomToSelection()},void 0,[o]),(0,j.useHotkeys)("ctrl+d,\u2318+d",a=>{!e()||(o.duplicate(),a.preventDefault())},void 0,[o]),(0,j.useHotkeys)("shift+h",()=>{!e(!0)||o.flipHorizontal()},void 0,[o]),(0,j.useHotkeys)("shift+v",()=>{!e(!0)||o.flipVertical()},void 0,[o]),(0,j.useHotkeys)("escape",()=>{!e(!0)||o.cancel()},void 0,[o]),(0,j.useHotkeys)("backspace,del",()=>{!e()||o.delete()},void 0,[o]),(0,j.useHotkeys)("\u2318+a,ctrl+a",()=>{!e(!0)||o.selectAll()},void 0,[o]),(0,j.useHotkeys)("up",()=>{!e()||o.nudge([0,-1],!1)},void 0,[o]),(0,j.useHotkeys)("right",()=>{!e()||o.nudge([1,0],!1)},void 0,[o]),(0,j.useHotkeys)("down",()=>{!e()||o.nudge([0,1],!1)},void 0,[o]),(0,j.useHotkeys)("left",()=>{!e()||o.nudge([-1,0],!1)},void 0,[o]),(0,j.useHotkeys)("shift+up",()=>{!e()||o.nudge([0,-1],!0)},void 0,[o]),(0,j.useHotkeys)("shift+right",()=>{!e()||o.nudge([1,0],!0)},void 0,[o]),(0,j.useHotkeys)("shift+down",()=>{!e()||o.nudge([0,1],!0)},void 0,[o]),(0,j.useHotkeys)("shift+left",()=>{!e()||o.nudge([-1,0],!0)},void 0,[o]),(0,j.useHotkeys)("\u2318+shift+l,ctrl+shift+l",()=>{!e()||o.toggleLocked()},void 0,[o]),(0,j.useHotkeys)("\u2318+shift+c,ctrl+shift+c",a=>{!e()||(o.copySvg(),a.preventDefault())},void 0,[o]),(0,j.useHotkeys)("\u2318+g,ctrl+g",a=>{!e()||(o.group(),a.preventDefault())},void 0,[o]),(0,j.useHotkeys)("\u2318+shift+g,ctrl+shift+g",a=>{!e()||(o.ungroup(),a.preventDefault())},void 0,[o]),(0,j.useHotkeys)("[",()=>{!e(!0)||o.moveBackward()},void 0,[o]),(0,j.useHotkeys)("]",()=>{!e(!0)||o.moveForward()},void 0,[o]),(0,j.useHotkeys)("shift+[",()=>{!e(!0)||o.moveToBack()},void 0,[o]),(0,j.useHotkeys)("shift+]",()=>{!e(!0)||o.moveToFront()},void 0,[o]),(0,j.useHotkeys)("ctrl+shift+backspace,\u2318+shift+backspace",a=>{!e()||(o.settings.isDebugMode&&o.resetDocument(),a.preventDefault())},void 0,[o]),(0,j.useHotkeys)("alt+command+l,alt+ctrl+l",a=>{!e(!0)||(o.style({textAlign:"start"}),a.preventDefault())},void 0,[o]),(0,j.useHotkeys)("alt+command+t,alt+ctrl+t",a=>{!e(!0)||(o.style({textAlign:"middle"}),a.preventDefault())},void 0,[o]),(0,j.useHotkeys)("alt+command+r,alt+ctrl+r",a=>{!e(!0)||(o.style({textAlign:"end"}),a.preventDefault())},void 0,[o])}var Kt=R(require("react")),wi=Kt.createContext({}),Su=()=>{let[s,o]=Kt.useState(0);Kt.useEffect(()=>o(1))};function V(){return Kt.useContext(wi)}var ki=Kt.createContext({});function Tt(){let s=Kt.useContext(ki);return Su(),s}var gl=R(require("react"));var ja={"style.menu.color":"\u0627\u0644\u0644\u0648\u0646","style.menu.fill":"\u064A\u0645\u0644\u0623","style.menu.dash":"\u0645\u062A\u0642\u0637\u0639","style.menu.size":"\u062D\u062C\u0645","style.menu.keep.open":"\u062A\u0628\u0642\u0649 \u0645\u0641\u062A\u0648\u062D\u0629","style.menu.font":"\u0627\u0644\u062E\u0637","style.menu.align":"\u0645\u062D\u0627\u0630\u0627\u0629",styles:"\u0627\u0644\u0623\u0646\u0645\u0627\u0637","zoom.in":"\u062A\u0643\u0628\u064A\u0631","zoom.out":"\u062A\u0635\u063A\u064A\u0631",to:"\u0625\u0644\u0649","menu.tools":"\u0623\u062F\u0648\u0627\u062A","menu.transform":"\u0627\u0644\u062A\u062D\u0648\u064A\u0644\u0627\u062A","menu.file":"\u0645\u0644\u0641","menu.edit":"\u062A\u062D\u0631\u064A\u0631","menu.view":"\u0645\u0639\u0627\u064A\u0646\u0629","menu.preferences":"\u0627\u0644\u062A\u0641\u0636\u064A\u0644\u0627\u062A","menu.sign.in":"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644","menu.sign.out":"\u062E\u0631\u0648\u062C","become.a.sponsor":"\u0643\u0646 \u0631\u0627\u0639\u064A\u0627\u064B","zoom.to.content":"\u0627\u0644\u0639\u0648\u062F\u0629 \u0625\u0644\u0649 \u0627\u0644\u0645\u062D\u062A\u0648\u0649","zoom.to.selection":"\u062A\u0643\u0628\u064A\u0631 \u0644\u0644\u062A\u062D\u062F\u064A\u062F","zoom.to.fit":"\u062A\u0643\u0628\u064A\u0631 \u0644\u062A\u0646\u0627\u0633\u0628","zoom.to":"\u062A\u0643\u0628\u064A\u0631 \u0625\u0644\u0649","preferences.dark.mode":"\u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u062F\u0627\u0643\u0646","preferences.focus.mode":"\u0648\u0636\u0639 \u0627\u0644\u062A\u0631\u0643\u064A\u0632","preferences.debug.mode":"\u0648\u0636\u0639 \u0627\u0644\u062A\u0635\u062D\u064A\u062D","preferences.show.grid":"\u0627\u0638\u0647\u0631 \u0627\u0644\u0634\u0628\u0643\u0629","preferences.use.cad.selection":"\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062F CAD","preferences.keep.stylemenu.open":"\u0627\u0644\u0627\u062D\u062A\u0641\u0627\u0638 \u0628\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0646\u0645\u0637 \u0645\u0641\u062A\u0648\u062D\u0629","preferences.always.show.snaps":"\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0644\u0642\u0637\u0627\u062A \u062F\u0627\u0626\u0645\u064B\u0627","preferences.rotate.handles":"\u062A\u062F\u0648\u064A\u0631 \u0627\u0644\u0645\u0642\u0627\u0628\u0636","preferences.binding.handles":"\u0645\u0642\u0627\u0628\u0636 \u0645\u0644\u0632\u0645\u0629","preferences.clone.handles":"\u0645\u0642\u0627\u0628\u0636 \u0627\u0633\u062A\u0646\u0633\u0627\u062E",undo:"\u0627\u0644\u063A\u0627\u0621",redo:"\u0625\u0639\u0627\u062F\u0629",cut:"\u0642\u0637\u0639",copy:"\u0646\u0633\u062D",paste:"\u0644\u0635\u0642","copy.as":"\u0646\u0633\u062E \u0627\u0644\u0649","export.as":"\u0635\u062F\u0631 \u0627\u0644\u0649","select.all":"\u0627\u062E\u062A\u0631 \u0627\u0644\u0643\u0644","select.none":"\u0644\u0627 \u062A\u062E\u062A\u0631 \u0634\u064A\u0621",delete:"\u062D\u0630\u0641","new.project":"\u0645\u0634\u0631\u0648\u0639 \u062C\u062F\u064A\u062F",open:"\u0641\u062A\u062D",save:"\u062D\u0641\u0638","save.as":"\u062D\u0641\u0638 \u0628\u0627\u0633\u0645","upload.media":"\u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0648\u0633\u0627\u0626\u0637","create.page":"\u0625\u0646\u0634\u0627\u0621 \u0635\u0641\u062D\u0629","new.page":"\u0635\u0641\u062D\u0629 \u062C\u062F\u064A\u062F\u0629","page.name":"\u0627\u0633\u0645 \u0627\u0644\u0635\u0641\u062D\u0629",duplicate:"\u0646\u0633\u062E",cancel:"\u0627\u0644\u063A\u0627\u0621","copy.invite.link":"\u0646\u0633\u062E \u0631\u0627\u0628\u0637 \u0627\u0644\u062F\u0639\u0648\u0629","copy.readonly.link":"\u0646\u0633\u062E \u0631\u0627\u0628\u0637 \u062F\u0639\u0648\u0629 \u0627\u0644\u0642\u0631\u0627\u0621\u0629 \u0641\u0642\u0637","create.multiplayer.project":"\u0642\u0645 \u0628\u0625\u0646\u0634\u0627\u0621 \u0645\u0634\u0631\u0648\u0639 \u0645\u062A\u0639\u062F\u062F \u0627\u0644\u0644\u0627\u0639\u0628\u064A\u0646","copy.multiplayer.project":"\u0646\u0633\u062E \u0625\u0644\u0649 \u0645\u0634\u0631\u0648\u0639 \u0645\u062A\u0639\u062F\u062F \u0627\u0644\u0644\u0627\u0639\u0628\u064A\u0646",select:"\u0627\u062E\u062A\u0631",eraser:"\u0645\u0645\u062D\u0627\u0629",draw:"\u0631\u0633\u0645",arrow:"\u0633\u0647\u0645",text:"\u0646\u0635",sticky:"\u0644\u0627\u0635\u0642",rectangle:"\u0645\u0631\u0628\u0639",ellipse:"\u0628\u064A\u0636\u0627\u0648\u064A",triangle:"\u0645\u062B\u0644\u062B",line:"\u062E\u0637",rotate:"\u062F\u0648\u0651\u0631","lock.aspect.ratio":"\u0642\u0641\u0644 \u0646\u0633\u0628\u0629 \u0627\u0644\u0627\u0628\u0639\u0627\u062F","unlock.aspect.ratio":"\u0641\u062A\u062D \u0642\u0641\u0644 \u0646\u0633\u0628\u0629 \u0627\u0644\u0627\u0628\u0639\u0627\u062F",group:"\u062C\u0645\u0651\u0639",ungroup:"\u0641\u0643 \u0627\u0644\u062A\u062C\u0645\u0639","move.to.back":"\u0627\u0646\u062A\u0642\u0644 \u0625\u0644\u0649 \u0627\u0644\u062E\u0644\u0641","move.backward":"\u062A\u062D\u0631\u064A\u0643 \u0644\u0644\u062E\u0644\u0641","move.forward":"\u062A\u062D\u0631\u064A\u0643 \u0644\u0644\u0623\u0645\u0627\u0645","move.to.front":"\u062A\u062D\u0631\u0643 \u0644\u0644\u0623\u0645\u0627\u0645","reset.angle":"\u0625\u0639\u0627\u062F\u0629 \u0636\u0628\u0637 \u0627\u0644\u0632\u0627\u0648\u064A\u0629",lock:"\u0642\u0641\u0644",unlock:"\u0627\u0644\u063A\u0627\u0621 \u0627\u0644\u0642\u0641\u0644","move.to.page":"\u0627\u0646\u0642\u0644 \u0625\u0644\u0649 \u0627\u0644\u0635\u0641\u062D\u0629","flip.horizontal":"\u0627\u0646\u0639\u0643\u0627\u0633 \u0623\u0641\u0642\u064A","flip.vertical":"\u0627\u0646\u0639\u0643\u0627\u0633 \u0639\u0645\u0648\u062F\u064A",move:"\u062D\u0631\u0651\u0643","to.front":"\u0644\u0644\u0627\u0645\u0627\u0645",forward:"\u0644\u0644\u062E\u0644\u0641",backward:"\u0644\u0644\u0648\u0631\u0627\u0621",back:"\u062E\u0644\u0641",language:"\u0644\u063A\u0629","translation.link":"\u0644\u0644\u0645\u0632\u064A\u062F","dock.position":"\u0645\u0648\u0642\u0639 \u0627\u0644\u0627\u062F\u0648\u0627\u062A",bottom:"\u0627\u0633\u0641\u0644",left:"\u064A\u0633\u0627\u0631",right:"\u064A\u0645\u064A\u0646",top:"\u0623\u0639\u0644\u0649",page:"\u0635\u0641\u062D\u0629","keyboard.shortcuts":"\u0627\u062E\u062A\u0635\u0627\u0631\u0627\u062A \u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0641\u0627\u062A\u064A\u062D",search:"\u0628\u062D\u062B",loading:"{dots}\u062A\u062D\u0645\u064A\u0644 ","export.background":"\u062A\u0635\u062F\u064A\u0631 \u0627\u0644\u062E\u0644\u0641\u064A\u0629",transparent:"\u0634\u0640\u0641\u0627\u0641",auto:"\u0630\u0627\u062A\u064A",light:"\u062E\u0641\u064A\u0641",dark:"\u063A\u0627\u0645\u0642","dialog.save.firsttime":"\u0647\u0644 \u062A\u0631\u064A\u062F \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0639\u0644\u0649 \u0647\u0630\u0627 \u0627\u0644\u0645\u0634\u0631\u0648\u0639\u061F","dialog.save.again":"\u0647\u0644 \u062A\u0631\u064A\u062F \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0639\u0644\u0649 \u0647\u0630\u0627 \u0627\u0644\u0645\u0634\u0631\u0648\u0639\u061F","dialog.cancel":"\u0625\u0644\u063A\u0627\u0621","dialog.no":"\u0644\u0627","dialog.yes":"\u0646\u0639\u0645","enter.file.name":"\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641",image:"\u0635\u0648\u0631\u0629","align.left":"\u0635\u0641\u0651 \u0644\u0644\u064A\u0633\u0627\u0631","align.center.x":"\u0635\u0641\u0651 \u0627\u0644\u0645\u062D\u0648\u0631 \u0627\u0644\u0623\u0641\u0642\u064A \u0644\u0644\u0648\u0633\u0637","align.right":"\u0635\u0641\u0651 \u0644\u0644\u064A\u0645\u064A\u0646","align.top":"\u0635\u0641\u0651 \u0644\u0644\u0623\u0639\u0644\u0649","align.center.y":"\u0635\u0641\u0651 \u0627\u0644\u0645\u062D\u0648\u0631 \u0627\u0644\u0639\u0645\u0648\u062F\u064A \u0644\u0644\u0648\u0633\u0637","align.bottom":"\u0635\u0641\u0651 \u0644\u0644\u0623\u0633\u0641\u0644","distribute.x":"\u062A\u0648\u0632\u064A\u0639 \u0623\u0641\u0642\u064A","distribute.y":"\u062A\u0648\u0632\u064A\u0639 \u0639\u0645\u0648\u062F\u064A","stretch.x":"\u062A\u0645\u062F\u064A\u062F \u0623\u0641\u0642\u064A","stretch.y":"\u062A\u0645\u062F\u064A\u062F \u0639\u0645\u0648\u062F\u064A"};var Ga={"style.menu.color":"Farve","style.menu.fill":"Fyld","style.menu.dash":"Streg","style.menu.size":"St\xF8rrelse","style.menu.keep.open":"Hold \xE5ben","style.menu.font":"Skrifttype","style.menu.align":"Juster",styles:"Format","zoom.in":"Zoom ind","zoom.out":"Zoom ud",to:"til","menu.tools":"V\xE6rkt\xF8jer","menu.transform":"Transformer","menu.file":"Fil","menu.edit":"Rediger","menu.view":"Vis","menu.preferences":"Indstillinger","menu.sign.in":"Log ind","menu.sign.out":"Log ud","become.a.sponsor":"Bliv sponsor","zoom.to.selection":"Zoom til valgte","zoom.to.fit":"Zoom til l\xE6rred","zoom.to":"Zoom til","zoom.to.content":"Zoom til indhold","preferences.dark.mode":"M\xF8rkt udseende","preferences.focus.mode":"Fokus tilstand","preferences.debug.mode":"Debug tilstand","preferences.show.grid":"Vis net","preferences.use.cad.selection":"Brug CAD udv\xE6lgelse","preferences.keep.stylemenu.open":"Hold formatmenuen \xE5ben","preferences.always.show.snaps":"Vis altid snaps","preferences.rotate.handles":"Roteringsh\xE5ndtag","preferences.binding.handles":"Bindingsh\xE5ndtag","preferences.clone.handles":"Kloningsh\xE5ndtag",undo:"Fortryd",redo:"Gentag",cut:"Klip",copy:"Kopier",paste:"Inds\xE6t","copy.as":"Kopier som","export.as":"Eksporter som","select.all":"V\xE6lg alt","select.none":"Frav\xE6lg alt",delete:"Slet","new.project":"Nyt projekt",open:"\xC5ben",save:"Gem","save.as":"Gem som","upload.media":"Upload medie","create.page":"Opret side","new.page":"Ny side","page.name":"Sidenavn",duplicate:"Dupliker",cancel:"Fortryd","copy.invite.link":"Kopier invitationslink","create.multiplayer.project":"Opret multiplayer projekt","copy.multiplayer.project":"Kopier til multiplayer projekt",select:"V\xE6lg",eraser:"Viskel\xE6der",draw:"Tegn",arrow:"Pil",text:"Tekst",sticky:"Note",rectangle:"Rektangel",ellipse:"Ellipse",triangle:"Trekant",line:"Linje",rotate:"Roter","lock.aspect.ratio":"L\xE5s billedformat","unlock.aspect.ratio":"Frig\xF8r billedformat",group:"Grupper",ungroup:"Opdel gruppe","move.to.back":"Placer bagerst","move.backward":"Flyt tilbage","move.forward":"Flyt frem","move.to.front":"L\xE6g forrest","reset.angle":"Nulstil vinkel",lock:"L\xE5s",unlock:"L\xE5s op","move.to.page":"Flyt til side","flip.horizontal":"Vend vandret","flip.vertical":"Vend lodret",move:"Flyt","to.front":"Forrest",forward:"Frem",backward:"Tilbage",back:"Bagerst",language:"Sprog","align.bottom":"Justering nederst","align.center.x":"Vandret justering centreret","align.center.y":"Lodret justering centreret","align.distribute":"Juster / distribuer","align.left":"Justering til venstre","align.right":"Justering til h\xF8jre","align.top":"Justering \xF8verst","copy.readonly.link":"Kopier skrivebeskyttet link","dialog.save.again":"Vil du gemme \xE6ndringerne til dit projekt?","dialog.save.firsttime":"Vil du gemme dit projekt?","dialog.yes":"Ja","dialog.no":"Nej","dialog.cancel":"Fortryd","enter.file.name":"Skriv filnavn","distribute.x":"Vandret distribuering","distribute.y":"Lodret distribuering","dock.position":"Placering af v\xE6rkt\xF8jslinje",bottom:"Nederst",left:"Venstre",right:"H\xF8jre",top:"\xD8verst","export.background":"Baggrund ved eksport",auto:"Automatisk",light:"Lys",dark:"M\xF8rk",image:"Billede","keyboard.shortcuts":"Tastaturgenveje",loading:"Indl\xE6ser",page:"Side",search:"S\xF8g","stretch.x":"Str\xE6k vandret","stretch.y":"Str\xE6k lodret","translation.link":"L\xE6r mere",transparent:"Gennemsigtig"};var Va={"style.menu.color":"Farbe","style.menu.fill":"F\xFCllen","style.menu.dash":"Strich","style.menu.size":"Gr\xF6\xDFe","style.menu.keep.open":"Offen halten","style.menu.font":"Schriftart","style.menu.align":"Ausrichten",styles:"Stile","zoom.in":"Heranzoomen","zoom.out":"Herauszoomen",to:"zu","menu.tools":"Werkzeuge","menu.transform":"Transformieren","menu.file":"Datei","menu.edit":"Bearbeiten","menu.view":"Ansicht","menu.preferences":"Pr\xE4ferenzen","menu.sign.in":"Einloggen","menu.sign.out":"Ausloggen","become.a.sponsor":"Sponsor werden","zoom.to.content":"Zur\xFCck zum Inhalt","zoom.to.selection":"Zur Auswahl zoomen","zoom.to.fit":"Zoom anpassen","zoom.to":"Zoomen nach","preferences.dark.mode":"Dunkler Modus","preferences.focus.mode":"Fokus Modus","preferences.debug.mode":"Debug Modus","preferences.show.grid":"Gitter anzeigen","preferences.use.cad.selection":"CAD Auswahl verwenden","preferences.keep.stylemenu.open":"Stilmen\xFC offen halten","preferences.always.show.snaps":"Hilfslinien immer anzeigen","preferences.rotate.handles":"Rotiergriffe","preferences.binding.handles":"Bindegriffe","preferences.clone.handles":"Klongriffe",undo:"R\xFCckg\xE4ngig machen",redo:"Wiederherstellen",cut:"Ausschneiden",copy:"Kopieren",paste:"Einf\xFCgen","copy.as":"Kopieren als","export.as":"Exportieren als","select.all":"Alles ausw\xE4hlen","select.none":"Nichts ausw\xE4hlen",delete:"L\xF6schen","new.project":"Neues Projekt",open:"\xD6ffnen",save:"Speichern","save.as":"Speichern als","upload.media":"Medien hochladen","create.page":"Seite erstellen","new.page":"Neue Seite","page.name":"Seitenname",duplicate:"Duplizieren","shape.options":"Form Optionen",shapes:"Fromen",cancel:"Abbrechen","copy.invite.link":"Einladungslink kopieren","copy.readonly.link":"Schreibgesch\xFCtzten Link kopieren","create.multiplayer.project":"Geteiltes Projekt erstellen","copy.multiplayer.project":"In ein Geteiltes Projekt kopieren",select:"Ausw\xE4hlen",eraser:"Radierer",draw:"Malen",arrow:"Pfeil",text:"Text",sticky:"Notiz",rectangle:"Rechteck",ellipse:"Ellipse",triangle:"Dreieck",line:"Linie",rotate:"Drehen","lock.aspect.ratio":"Seitenverh\xE4ltnis sperren","unlock.aspect.ratio":"Seitenverh\xE4ltnis entsperren",group:"Gruppieren",ungroup:"Gruppierung aufheben","move.to.back":"Nach Hinten verschieben","move.backward":"R\xFCckw\xE4rts schieben","move.forward":"Vorw\xE4rts schieben","move.to.front":"Nach Vorne verschieben","reset.angle":"Winkel zur\xFCcksetzen",lock:"Sperren",unlock:"Entsperren","align.distribute":"Ausrichten / Verteilen","move.to.page":"Zu Seite verschieben","flip.horizontal":"Horizontal spiegeln","flip.vertical":"Vertikal spiegeln",move:"Verschieben","to.front":"Nach Vorne",forward:"Vorw\xE4rts",backward:"R\xFCckw\xE4rts",back:"Hinten",language:"Sprache","translation.link":"Mehr erfahren","dock.position":"Dock Position",bottom:"Unten",left:"Links",right:"Rechts",top:"Oben",page:"Seite","keyboard.shortcuts":"Tastaturkurzbefehle",search:"Suche",loading:"Laden{dots}","export.background":"Hintergrund Exportieren",transparent:"Transparent",auto:"Auto",light:"Hell",dark:"Dunkel",github:"Github",twitter:"Twitter",discord:"Discord",image:"Bild","align.left":"Links ausrichten","align.center.x":"Horizontal mittig ausrichten","align.right":"Rechts ausrichten","align.top":"Oben ausrichten","align.center.y":"Vertikal mittig ausrichten","align.bottom":"Unten ausrichten","distribute.x":"Horizontal verteilen","distribute.y":"Vertikal verteilen","stretch.x":"Horizontal strecken","stretch.y":"Vertikal strecken","dialog.save.firsttime":"M\xF6chten Sie Ihr aktuelles Projekt speichern?","dialog.save.again":"M\xF6chten Sie die \xC4nderungen an Ihrem aktuellen Projekt speichern?","dialog.cancel":"Abbrechen","dialog.no":"Nein","dialog.yes":"Ja","enter.file.name":"Dateiname eingeben","tldraw-beta":"Probieren Sie das neue tldraw",white:"Wei\xDF",lightGray:"hellgrau",gray:"Frau",black:"Schwarz",green:"Gr\xFCn",cyan:"Cyan",blue:"Blau",indigo:"Indigo",violet:"Violett",red:"Rot",orange:"Orange",yellow:"Gelb",solid:"Durchgehend",dashed:"Gestrichelt",dotted:"Gepunktet",small:"Klein",medium:"Mittel",large:"Gro\xDF"};var $a={};var Na={"style.menu.color":"Color","style.menu.fill":"Relleno","style.menu.dash":"L\xEDnea","style.menu.size":"Tama\xF1o","style.menu.keep.open":"Mantener abierto","style.menu.font":"Fuente","style.menu.align":"Alineaci\xF3n",styles:"Estilos","zoom.in":"Acercar","zoom.out":"Alejar",to:"A","menu.tools":"Herramientas","menu.transform":"Transformar","menu.file":"Archivo","menu.edit":"Editar","menu.view":"Ver","menu.preferences":"Preferencias","menu.sign.in":"Iniciar sesi\xF3n","menu.sign.out":"Cerrar sesi\xF3n","become.a.sponsor":"Convi\xE9rtete en patrocinador","zoom.to.content":"Acercar al contenido","zoom.to.selection":"Acercar a la selecci\xF3n","zoom.to.fit":"Ajustar a la ventana","zoom.to":"Acercar a","preferences.dark.mode":"Modo oscuro","preferences.focus.mode":"Modo concentraci\xF3n","preferences.debug.mode":"Modo depuraci\xF3n","preferences.show.grid":"Mostrar cuadr\xEDcula","preferences.use.cad.selection":"Usar selecci\xF3n CAD","preferences.keep.stylemenu.open":"Mantener men\xFA de estilos abierto","preferences.always.show.snaps":"Mostrar puntos de ajuste","preferences.rotate.handles":"Control de rotaci\xF3n","preferences.binding.handles":"Control de vinculaci\xF3n","preferences.clone.handles":"Control de clonaci\xF3n",undo:"Deshacer",redo:"Rehacer",cut:"Cortar",copy:"Copiar",paste:"Pegar","copy.as":"Copiar como","export.as":"Exportar como","select.all":"Selecionar todo","select.none":"Selecionar nada",delete:"Borrar","new.project":"Nuevo Proyecto",open:"Abrir",save:"Guardar","save.as":"Guardar como","upload.media":"Subir medios","create.page":"Crear p\xE1gina","new.page":"Nueva p\xE1gina","page.name":"Nombre de p\xE1gina",duplicate:"Duplicar","shape.options":"Opciones de formas",shapes:"Formas",cancel:"Cancelar","copy.invite.link":"Copiar invitaci\xF3n","copy.readonly.link":"Copiar invitaci\xF3n (solo lectura)","create.multiplayer.project":"Crear proyecto multijugador","copy.multiplayer.project":"Copiar proyecto multijugador",select:"Seleccionar",eraser:"Borrador",draw:"Dibujar",arrow:"Flecha",text:"Texto",sticky:"Pegatina",rectangle:"Rect\xE1ngulo",ellipse:"Elipse",triangle:"Tri\xE1ngulo",line:"L\xEDnea",rotate:"Rotar","lock.aspect.ratio":"Bloquear relaci\xF3n de aspecto","unlock.aspect.ratio":"Desbloquear relaci\xF3n de aspecto",group:"Agrupar",ungroup:"Desagrupar","move.to.back":"Mover al fondo","move.backward":"Mover atr\xE1s","move.forward":"Mover adelante","move.to.front":"Mover al frente","reset.angle":"Restablecer \xE1ngulo",lock:"Bloquear",unlock:"Desbloquear","align.distribute":"Alinear / Distribuir","move.to.page":"Mover a p\xE1gina","flip.horizontal":"Voltear horizontalmente","flip.vertical":"Voltear verticalmente",move:"Mover","to.front":"Al frente",forward:"Adelante",backward:"Atr\xE1s",back:"Fondo",language:"Idioma","translation.link":"Saber m\xE1s","dock.position":"Posici\xF3n del dock",bottom:"Abajo",left:"Izquierda",right:"Derecha",top:"Arriba",page:"P\xE1gina","keyboard.shortcuts":"Atajos de teclado",search:"Buscar",loading:"Cargando{dots}","export.background":"Exportar fondo",transparent:"Transparente",auto:"Auto",light:"Claro",dark:"Oscuro",github:"Github",twitter:"Twitter",discord:"Discord",image:"Imagen","align.left":"Alinear a la izquierda","align.center.x":"Alinear al centro horizontalmente","align.right":"Alinear a la derecha","align.top":"Alinear arriba","align.center.y":"Alinear al centro verticalmente","align.bottom":"Alinear abajo","distribute.x":"Distribuir horizontalmente","distribute.y":"Distribuir verticalmente","stretch.x":"Estirar horizontalmente","stretch.y":"Estirar verticalmente","dialog.save.firsttime":"\xBFQuieres guardar el proyecto actual?","dialog.save.again":"\xBFQuieres guardar los cambios en el proyecto actual?","dialog.cancel":"Cancelar","dialog.no":"No","dialog.yes":"S\xED","enter.file.name":"Introduce el nombre del arquivo","tldraw-beta":"Prueba el nuevo tldraw",white:"Blanco",lightGray:"Gris claro",gray:"Gris",black:"Negro",green:"Verde",cyan:"Cian",blue:"Azul",indigo:"Indigo",violet:"Violeta",red:"Rojo",orange:"Naranja",yellow:"Amarillo",solid:"Cont\xEDnuo",dashed:"Discont\xEDnuo",dotted:"Punteado",small:"Peque\xF1o",medium:"Mediano",large:"Grande"};var Wa={"style.menu.color":"\u0631\u0646\u06AF","style.menu.fill":"\u062A\u0648\u067E\u064F\u0631","style.menu.dash":"\u062E\u0637\u200C\u0686\u06CC\u0646","style.menu.size":"\u0627\u0646\u062F\u0627\u0632\u0647","style.menu.keep.open":"\u0628\u0627\u0632 \u0646\u06AF\u0647\u200C\u062F\u0627\u0634\u062A\u0646","style.menu.font":"\u0642\u0644\u0645","style.menu.align":"\u062A\u0631\u0627\u0632",styles:"\u0633\u0628\u06A9\u200C\u0647\u0627","zoom.in":"\u0628\u0632\u0631\u06AF\u200C\u0646\u0645\u0627\u06CC\u06CC","zoom.out":"\u06A9\u0648\u0686\u06A9\u200C\u0646\u0645\u0627\u06CC\u06CC",to:"\u0628\u0647","menu.tools":"\u0627\u0628\u0632\u0627\u0631\u0647\u0627","menu.transform":"\u062A\u063A\u06CC\u06CC\u0631 \u0634\u06A9\u0644","menu.file":"\u067E\u0631\u0648\u0646\u062F\u0647","menu.edit":"\u0648\u06CC\u0631\u0627\u06CC\u0634","menu.view":"\u0646\u0645\u0627\u06CC\u0634","menu.preferences":"\u062A\u0631\u062C\u06CC\u062D\u0627\u062A","menu.sign.in":"\u0648\u0631\u0648\u062F","menu.sign.out":"\u062E\u0631\u0648\u062C","become.a.sponsor":"\u062D\u0645\u0627\u06CC\u062A\u200C\u06A9\u0646\u0646\u062F\u0647 \u0634\u0648\u06CC\u062F","zoom.to.content":"\u0628\u0627\u0632\u06AF\u0634\u062A \u0628\u0647 \u0645\u062D\u062A\u0648\u0627","zoom.to.selection":"\u0628\u0632\u0631\u06AF\u200C\u0646\u0645\u0627\u06CC\u06CC \u0628\u0647 \u0646\u0627\u062D\u06CC\u0647 \u0627\u0646\u062A\u062E\u0627\u0628\u200C\u0634\u062F\u0647","zoom.to.fit":"\u0628\u0632\u0631\u06AF\u200C\u0646\u0645\u0627\u06CC\u06CC \u0645\u062A\u0646\u0627\u0633\u0628 \u0628\u0627 \u0635\u0641\u062D\u0647","zoom.to":"\u0628\u0632\u0631\u06AF\u200C\u0646\u0645\u0627\u06CC\u06CC \u0628\u0647","preferences.dark.mode":"\u062D\u0627\u0644\u062A \u062A\u0627\u0631\u06CC\u06A9","preferences.focus.mode":"\u062D\u0627\u0644\u062A \u062A\u0645\u0631\u06A9\u0632","preferences.debug.mode":"\u062D\u0627\u0644\u062A \u0639\u06CC\u0628\u200C\u06CC\u0627\u0628\u06CC","preferences.show.grid":"\u0646\u0645\u0627\u06CC\u0634 \u062E\u0637\u0648\u0637 \u0631\u0627\u0647\u0646\u0645\u0627","preferences.use.cad.selection":"\u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0627\u0632 \u062D\u0627\u0644\u062A \u0627\u0646\u062A\u062E\u0627\u0628 CAD","preferences.keep.stylemenu.open":"\u0628\u0627\u0632 \u0646\u06AF\u0647\u200C\u062F\u0627\u0634\u062A\u0646 \u0645\u0646\u0648\u06CC \u0633\u0628\u06A9\u200C\u0647\u0627","preferences.always.show.snaps":"\u0647\u0645\u06CC\u0634\u0647 \u0646\u0642\u0627\u0637 \u0686\u0633\u0628\u0627\u0646 \u0631\u0627 \u0646\u0634\u0627\u0646 \u0628\u062F\u0647","preferences.rotate.handles":"\u062F\u0633\u062A\u06AF\u06CC\u0631\u0647\u200C\u0647\u0627\u06CC \u0686\u0631\u062E\u0634","preferences.binding.handles":"\u062F\u0633\u062A\u06AF\u06CC\u0631\u0647\u200C\u0647\u0627\u06CC \u0627\u062A\u0635\u0627\u0644\u200C\u062F\u0647\u0646\u062F\u0647","preferences.clone.handles":"\u062F\u0633\u062A\u06AF\u06CC\u0631\u0647\u200C\u0647\u0627\u06CC \u062A\u06A9\u062B\u06CC\u0631",undo:"\u0648\u0627\u06AF\u0631\u062F\u0627\u0646\u06CC",redo:"\u0627\u0646\u062C\u0627\u0645 \u062F\u0648\u0628\u0627\u0631\u0647",cut:"\u0628\u0631\u06CC\u062F\u0646",copy:"\u06A9\u067E\u06CC",paste:"\u062C\u0627\u06CC\u200C\u06AF\u0630\u0627\u0631\u06CC","copy.as":"\u06A9\u067E\u06CC \u0628\u0647\u200C\u0639\u0646\u0648\u0627\u0646","export.as":"\u062E\u0631\u0648\u062C\u06CC\u200C\u06AF\u0631\u0641\u062A\u0646 \u0628\u0647\u200C\u0639\u0646\u0648\u0627\u0646","select.all":"\u0627\u0646\u062A\u062E\u0627\u0628 \u0647\u0645\u0647","select.none":"\u0627\u0646\u062A\u062E\u0627\u0628 \u0647\u06CC\u0686\u200C\u06CC\u06A9",delete:"\u062D\u0630\u0641","new.project":"\u067E\u0631\u0648\u0698\u0647 \u062C\u062F\u06CC\u062F",open:"\u0628\u0627\u0632\u06A9\u0631\u062F\u0646",save:"\u0630\u062E\u06CC\u0631\u0647","save.as":"\u0630\u062E\u06CC\u0631\u0647 \u0628\u0647\u200C\u0639\u0646\u0648\u0627\u0646","upload.media":"\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC \u0631\u0633\u0627\u0646\u0647","create.page":"\u0627\u06CC\u062C\u0627\u062F \u0628\u0631\u06AF\u0647","new.page":"\u0628\u0631\u06AF\u0647 \u062C\u062F\u06CC\u062F","page.name":"\u0646\u0627\u0645 \u0628\u0631\u06AF\u0647",duplicate:"\u062A\u06A9\u062B\u06CC\u0631\u06A9\u0631\u062F\u0646","shape.options":"\u06AF\u0632\u06CC\u0646\u0647\u200C\u0647\u0627\u06CC \u0634\u06A9\u0644",shapes:"\u0634\u06A9\u0644\u200C\u0647\u0627",cancel:"\u0644\u063A\u0648","copy.invite.link":"\u06A9\u067E\u06CC\u200C\u06A9\u0631\u062F\u0646 \u067E\u06CC\u0648\u0646\u062F \u062F\u0639\u0648\u062A","copy.readonly.link":"\u06A9\u067E\u06CC\u200C\u06A9\u0631\u062F\u0646 \u067E\u06CC\u0648\u0646\u062F \u063A\u06CC\u0631\u0642\u0627\u0628\u0644 \u0648\u06CC\u0631\u0627\u06CC\u0634","create.multiplayer.project":"\u0627\u06CC\u062C\u0627\u062F \u06CC\u06A9 \u067E\u0631\u0648\u0698\u0647 \u0686\u0646\u062F\u0646\u0641\u0631\u0647","copy.multiplayer.project":"\u06A9\u067E\u06CC \u0628\u0647 \u067E\u0631\u0648\u0698\u0647 \u0686\u0646\u062F\u0646\u0641\u0631\u0647",select:"\u0627\u0646\u062A\u062E\u0627\u0628",eraser:"\u067E\u0627\u06A9\u200C\u06A9\u0646",draw:"\u0631\u0633\u0645",arrow:"\u0641\u0650\u0644\u0650\u0634",text:"\u0645\u062A\u0646",sticky:"\u0628\u0631\u06AF\u0647 \u0686\u0633\u0628\u0627\u0646",rectangle:"\u0686\u0647\u0627\u0631\u06AF\u0648\u0634",ellipse:"\u06AF\u0631\u062F\u06CC",triangle:"\u0633\u0647\u200C\u06AF\u0648\u0634",line:"\u062E\u0637",rotate:"\u0686\u0631\u062E\u0627\u0646\u062F\u0646","lock.aspect.ratio":"\u0642\u0641\u0644\u200C\u06A9\u0631\u062F\u0646 \u0646\u0633\u0628\u062A \u0627\u0628\u0639\u0627\u062F","unlock.aspect.ratio":"\u0627\u062C\u0627\u0632\u0647 \u062A\u063A\u06CC\u06CC\u0631 \u0646\u0633\u0628\u062A \u0627\u0628\u0639\u0627\u062F",group:"\u06AF\u0631\u0648\u0647\u200C\u0628\u0646\u062F\u06CC",ungroup:"\u0644\u063A\u0648 \u06AF\u0631\u0648\u0647\u200C\u0628\u0646\u062F\u06CC","move.to.back":"\u0627\u0646\u062A\u0642\u0627\u0644 \u0628\u0647 \u0639\u0642\u0628","move.backward":"\u0627\u0646\u062A\u0642\u0627\u0644 \u0628\u0647 \u0633\u0645\u062A \u0639\u0642\u0628","move.forward":"\u0627\u0646\u062A\u0642\u0627\u0644 \u0628\u0647 \u0633\u0645\u062A \u062C\u0644\u0648","move.to.front":"\u0627\u0646\u062A\u0642\u0627\u0644 \u0628\u0647 \u062C\u0644\u0648","reset.angle":"\u0628\u0627\u0632\u0646\u0634\u0627\u0646\u06CC \u0632\u0627\u0648\u06CC\u0647",lock:"\u0642\u0641\u0644",unlock:"\u0628\u0627\u0632\u06A9\u0631\u062F\u0646 \u0642\u0641\u0644","align.distribute":"\u062A\u0631\u0627\u0632 / \u067E\u062E\u0634\u200C\u06A9\u0631\u062F\u0646","move.to.page":"\u0627\u0646\u062A\u0642\u0627\u0644 \u0628\u0647 \u0628\u0631\u06AF\u0647","flip.horizontal":"\u0648\u0627\u0631\u0648\u0646\u0647\u200C\u0633\u0627\u0632\u06CC \u0627\u0641\u0642\u06CC","flip.vertical":"\u0648\u0627\u0631\u0648\u0646\u0647\u200C\u0633\u0627\u0632\u06CC \u0639\u0645\u0648\u062F\u06CC",move:"\u062D\u0631\u06A9\u062A\u200C\u062F\u0627\u062F\u0646","to.front":"\u0628\u0647 \u062C\u0644\u0648",forward:"\u0628\u0647 \u0633\u0645\u062A \u062C\u0644\u0648",backward:"\u0628\u0647 \u0633\u0645\u062A \u0639\u0642\u0628",back:"\u0628\u0647 \u0639\u0642\u0628",language:"\u0632\u0628\u0627\u0646","translation.link":"\u06CC\u0627\u062F\u06AF\u06CC\u0631\u06CC \u0628\u06CC\u0634\u062A\u0631","dock.position":"\u0645\u0648\u0642\u0639\u06CC\u062A \u0646\u0648\u0627\u0631 \u0627\u0628\u0632\u0627\u0631",bottom:"\u067E\u0627\u06CC\u06CC\u0646",left:"\u0686\u067E",right:"\u0631\u0627\u0633\u062A",top:"\u0628\u0627\u0644\u0627",page:"\u0628\u0631\u06AF\u0647","keyboard.shortcuts":"\u0645\u06CC\u0627\u0646\u200C\u0628\u0631\u0647\u0627\u06CC \u0635\u0641\u062D\u0647\u200C\u06A9\u0644\u06CC\u062F",search:"\u062C\u0633\u062A\u062C\u0648",loading:"\u0628\u0627\u0631\u06AF\u06CC\u0631\u06CC{dots}","export.background":"\u062E\u0631\u0648\u062C\u06CC\u200C\u06AF\u0631\u0641\u062A\u0646 \u067E\u0633\u200C\u0632\u0645\u06CC\u0646\u0647",transparent:"\u0634\u0641\u0627\u0641",auto:"\u062E\u0648\u062F\u06A9\u0627\u0631",light:"\u0631\u0648\u0634\u0646",dark:"\u062A\u0627\u0631\u06CC\u06A9",github:"\u06AF\u06CC\u062A\u200C\u0647\u0627\u0628",twitter:"\u062A\u0648\u06CC\u06CC\u062A\u0631",discord:"\u062F\u06CC\u0633\u06A9\u0648\u0631\u062F",image:"\u062A\u0635\u0648\u06CC\u0631","align.left":"\u062A\u0631\u0627\u0632 \u0628\u0647 \u0686\u067E","align.center.x":"\u062A\u0631\u0627\u0632 \u0628\u0647 \u0645\u0631\u06A9\u0632 \u0627\u0641\u0642\u06CC","align.right":"\u062A\u0631\u0627\u0632 \u0628\u0647 \u0631\u0627\u0633\u062A","align.top":"\u062A\u0631\u0627\u0632 \u0628\u0647 \u0628\u0627\u0644\u0627","align.center.y":"\u062A\u0631\u0627\u0632 \u0628\u0647 \u0645\u0631\u06A9\u0632 \u0639\u0645\u0648\u062F\u06CC","align.bottom":"\u062A\u0631\u0627\u0632 \u0628\u0647 \u067E\u0627\u06CC\u06CC\u0646","distribute.x":"\u067E\u062E\u0634\u200C\u06A9\u0631\u062F\u0646 \u0627\u0641\u0642\u06CC","distribute.y":"\u067E\u062E\u0634\u200C\u06A9\u0631\u062F\u0646 \u0639\u0645\u0648\u062F\u06CC","stretch.x":"\u06A9\u0634\u200C\u0622\u0648\u0631\u062F\u0646 \u0627\u0641\u0642\u06CC","stretch.y":"\u06A9\u0634\u200C\u0622\u0648\u0631\u062F\u0646 \u0639\u0645\u0648\u062F\u06CC","dialog.save.firsttime":"\u0622\u06CC\u0627 \u0645\u06CC\u200C\u062E\u0648\u0627\u0647\u06CC\u062F \u067E\u0631\u0648\u0698\u0647 \u0641\u0639\u0644\u06CC \u062E\u0648\u062F \u0631\u0627 \u0630\u062E\u06CC\u0631\u0647 \u06A9\u0646\u06CC\u062F\u061F","dialog.save.again":"\u0622\u06CC\u0627 \u0645\u06CC\u200C\u062E\u0648\u0627\u0647\u06CC\u062F \u06A9\u0647 \u062A\u063A\u06CC\u06CC\u0631\u0627\u062A \u0631\u0627 \u062F\u0631 \u067E\u0631\u0648\u0698\u0647 \u0641\u0639\u0644\u06CC \u062E\u0648\u062F \u0630\u062E\u06CC\u0631\u0647 \u06A9\u0646\u06CC\u062F\u061F","dialog.cancel":"\u0644\u063A\u0648","dialog.no":"\u062E\u06CC\u0631","dialog.yes":"\u0628\u0644\u0647","enter.file.name":"\u0646\u0627\u0645 \u067E\u0631\u0648\u0646\u062F\u0647 \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F","tldraw-beta":"\u0627\u0645\u062A\u062D\u0627\u0646\u200C\u06A9\u0631\u062F\u0646 tldraw \u062C\u062F\u06CC\u062F",white:"\u0633\u0641\u06CC\u062F",lightGray:"\u062E\u0627\u06A9\u0633\u062A\u0631\u06CC \u0631\u0648\u0634\u0646",gray:"\u062E\u0627\u06A9\u0633\u062A\u0631\u06CC",black:"\u0645\u0634\u06A9\u06CC",green:"\u0633\u0628\u0632",cyan:"\u0641\u06CC\u0631\u0648\u0632\u0647\u200C\u0627\u06CC",blue:"\u0622\u0628\u06CC",indigo:"\u0646\u06CC\u0644\u06CC",violet:"\u0628\u0646\u0641\u0634",red:"\u0642\u0631\u0645\u0632",orange:"\u0646\u0627\u0631\u0646\u062C\u06CC",yellow:"\u0632\u0631\u062F",solid:"\u062A\u0648\u067E\u064F\u0631",dashed:"\u062E\u0637\u200C\u0686\u06CC\u0646",dotted:"\u0646\u0642\u0637\u0647\u200C\u0686\u06CC\u0646",small:"\u06A9\u0648\u0686\u06A9",medium:"\u0645\u062A\u0648\u0633\u0637",large:"\u0628\u0632\u0631\u06AF"};var Ka={"style.menu.color":"Couleur","style.menu.fill":"Remplir","style.menu.dash":"Bordure","style.menu.size":"Taille","style.menu.keep.open":"Toujours afficher le menu","style.menu.font":"Police","style.menu.align":"Alignement",styles:"Styles","zoom.in":"Zoom avant","zoom.out":"Zoom arri\xE8re",to:"\xC0","menu.tools":"Outils","menu.transform":"Transformation","menu.file":"Fichier","menu.edit":"\xC9dition","menu.view":"Afficher","menu.preferences":"Pr\xE9f\xE9rences","menu.sign.in":"S'authentifier","menu.sign.out":"Se d\xE9connecter","become.a.sponsor":"Devenir un sponsor","zoom.to.content":"Retour au contenu","zoom.to.selection":"Ajuster le zoom \xE0 la s\xE9lection","zoom.to.fit":"Adapter le zoom au contenu","zoom.to":"R\xE9tablir le zoom \xE0","preferences.dark.mode":"Mode sombre","preferences.focus.mode":"Mode focus","preferences.debug.mode":"Afficher la barre d\xE9veloppeur","preferences.show.grid":"Afficher la grille","preferences.use.cad.selection":"Utiliser la s\xE9lection CAD","preferences.keep.stylemenu.open":"Toujours afficher le menu styles","preferences.always.show.snaps":"Afficher les rep\xE8res dynamiques","preferences.rotate.handles":"Manier la rotation","preferences.binding.handles":"Manier les liaisons","preferences.clone.handles":"Manier le clonage",undo:"Annuler",redo:"R\xE9tablir",cut:"Couper",copy:"Copier",paste:"Coller","copy.as":"Copier au format","export.as":"Exporter au format","select.all":"Tout s\xE9lectionner","select.none":"Tout d\xE9s\xE9lectionner",delete:"Supprimer","new.project":"Nouveau project",open:"Ouvrir",save:"Enregistrer","save.as":"Enregistrer sous","upload.media":"Importer un m\xE9dia","create.page":"Cr\xE9er une page","new.page":"Nouvelle Page","page.name":"Nom de la page",duplicate:"Dupliquer",cancel:"Annuler","copy.invite.link":"Copier le lien d'invitation","copy.readonly.link":"Copier le lien en lecture seule d'invitation","create.multiplayer.project":"Cr\xE9er un project multi-joueurs","copy.multiplayer.project":"Copier dans un projet multi-joueurs",select:"S\xE9lection",eraser:"Gomme",draw:"Crayon",arrow:"Fl\xE8che",text:"Texte",sticky:"Note",rectangle:"Rectangle",ellipse:"Cercle",triangle:"Triangle",line:"Ligne",rotate:"Rotation","lock.aspect.ratio":"Verrouiller les proportions","unlock.aspect.ratio":"D\xE9verrouiller les proportions",group:"Grouper",ungroup:"D\xE9grouper","move.to.back":"D\xE9placer \xE0 l'arri\xE8re-plan","move.backward":"Reculer d'un plan","move.forward":"Avancer d'un plan","move.to.front":"Placer au premier plan","reset.angle":"R\xE9initialiser la rotation",lock:"Verrouiller",unlock:"D\xE9verrouiller","align.distribute":"Alignement / R\xE9partion","move.to.page":"D\xE9placer vers la page","flip.horizontal":"Retourner horizontalement","flip.vertical":"Retourner verticalement",move:"Disposition","to.front":"Placer au premier plan",forward:"Avancer d'un plan",backward:"Reculer d'un plan",back:"D\xE9placer \xE0 l'arri\xE8re-plan",language:"Langage","translation.link":"En savoir plus","dock.position":"Position du dock",bottom:"En bas",left:"\xC0 gauche",right:"\xC0 droite",top:"En haut",page:"Page","keyboard.shortcuts":"Raccourcis clavier",search:"Rechercher",loading:"Chargement{dots}","export.background":"Couleur d'arri\xE8re-plan de l'export",transparent:"Transparent",auto:"Automatique",light:"Clair",dark:"Sombre"};var Ua={"style.menu.color":"Cor","style.menu.fill":"Recheo","style.menu.dash":"Li\xF1a","style.menu.size":"Tama\xF1o","style.menu.keep.open":"Manter aberto","style.menu.font":"Fonte","style.menu.align":"Ali\xF1amento",styles:"Estilos","zoom.in":"Achegar","zoom.out":"Afastar",to:"A","menu.tools":"Ferramentas","menu.transform":"Transformar","menu.file":"Arquivo","menu.edit":"Editar","menu.view":"Ver","menu.preferences":"Preferencias","menu.sign.in":"Iniciar sesi\xF3n","menu.sign.out":"Pechar sesi\xF3n","become.a.sponsor":"Conv\xEDrtete en patrocinador","zoom.to.content":"Achegar ao contido","zoom.to.selection":"Achegar \xE1 selecci\xF3n","zoom.to.fit":"Axustar \xE1 vent\xE1","zoom.to":"Achegar a","preferences.dark.mode":"Modo escuro","preferences.focus.mode":"Modo concentraci\xF3n","preferences.debug.mode":"Modo depuraci\xF3n","preferences.show.grid":"Amosar cuadr\xEDcula","preferences.use.cad.selection":"Usar selecci\xF3n CAD","preferences.keep.stylemenu.open":"Manter men\xFA de estilos aberto","preferences.always.show.snaps":"Amosar puntos de axuste","preferences.rotate.handles":"Control de rotaci\xF3n","preferences.binding.handles":"Control de vinculaci\xF3n","preferences.clone.handles":"Control de clonaci\xF3n",undo:"Desfacer",redo:"Refacer",cut:"Cortar",copy:"Copiar",paste:"Pegar","copy.as":"Copiar como","export.as":"Exportar como","select.all":"Selecionar todo","select.none":"Selecionar nada",delete:"Borrar","new.project":"Novo Proxecto",open:"Abrir",save:"Gardar","save.as":"Gardar como","upload.media":"Subir medios","create.page":"Crear p\xE1xina","new.page":"Nova p\xE1xina","page.name":"Nome de p\xE1xina",duplicate:"Duplicar","shape.options":"Opci\xF3ns de formas",shapes:"Formas",cancel:"Cancelar","copy.invite.link":"Copiar invitaci\xF3n","copy.readonly.link":"Copiar invitaci\xF3n (s\xF3 lectura)","create.multiplayer.project":"Crear proxecto multixogador","copy.multiplayer.project":"Copiar proxecto multixogador",select:"Seleccionar",eraser:"Borrador",draw:"Debuxar",arrow:"Frecha",text:"Texto",sticky:"Pegatina",rectangle:"Rect\xE1ngulo",ellipse:"Elipse",triangle:"Tri\xE1ngulo",line:"Li\xF1a",rotate:"Rotar","lock.aspect.ratio":"Bloquear relaci\xF3n de aspecto","unlock.aspect.ratio":"Desbloquear relaci\xF3n de aspecto",group:"Agrupar",ungroup:"Desagrupar","move.to.back":"Mover ao fondo","move.backward":"Mover atr\xE1s","move.forward":"Mover adiante","move.to.front":"Mover ao fronte","reset.angle":"Restablecer \xE1ngulo",lock:"Bloquear",unlock:"Desbloquear","align.distribute":"Ali\xF1ar / Distribu\xEDr","move.to.page":"Mover \xE1 p\xE1xina","flip.horizontal":"Voltear horizontalmente","flip.vertical":"Voltear verticalmente",move:"Mover","to.front":"Ao fronte",forward:"Adilante",backward:"Atr\xE1s",back:"Fondo",language:"Idioma","translation.link":"Saber m\xE1is","dock.position":"Posici\xF3n do dock",bottom:"Abaixo",left:"Esquerda",right:"Dereita",top:"Arriba",page:"P\xE1xina","keyboard.shortcuts":"Atallos de teclado",search:"Buscar",loading:"Cargando{dots}","export.background":"Exportar fondo",transparent:"Transparente",auto:"Auto",light:"Claro",dark:"Escuro",github:"Github",twitter:"Twitter",discord:"Discord",image:"Imaxe","align.left":"Ali\xF1ar \xE1 esquerda","align.center.x":"Ali\xF1ar ao centro horizontalmente","align.right":"Ali\xF1ar \xE1 dereita","align.top":"Ali\xF1ar arriba","align.center.y":"Ali\xF1ar ao centro verticalmente","align.bottom":"Ali\xF1ar abaixo","distribute.x":"Distribu\xEDr horizontalmente","distribute.y":"Distribu\xEDr verticalmente","stretch.x":"Estirar horizontalmente","stretch.y":"Estirar verticalmente","dialog.save.firsttime":"Queres gardar o proxecto actual?","dialog.save.again":"Queres gardar os cambios ao proxecto actual?","dialog.cancel":"Cancelar","dialog.no":"No","dialog.yes":"S\xED","enter.file.name":"Introduce o nome do arquivo","tldraw-beta":"Proba o novo tldraw",white:"Branco",lightGray:"Gris claro",gray:"Gris",black:"Negro",green:"Verde",cyan:"Cian",blue:"Azul",indigo:"Indigo",violet:"Violeta",red:"Vermello",orange:"Laranxa",yellow:"Amarelo",solid:"Cont\xEDnuo",dashed:"Discont\xEDnuo",dotted:"Punteado",small:"Pequeno",medium:"Mediano",large:"Grande"};var _a={"style.menu.color":"\u05E6\u05D1\u05E2","style.menu.fill":"\u05DE\u05DC\u05D0","style.menu.dash":"\u05D2\u05D1\u05D5\u05DC","style.menu.size":"\u05D2\u05D5\u05D3\u05DC","style.menu.keep.open":"\u05D4\u05E9\u05D0\u05E8 \u05E4\u05EA\u05D5\u05D7","style.menu.font":"\u05D2\u05D5\u05E4\u05DF","style.menu.align":"\u05D9\u05D9\u05E9\u05D5\u05E8",styles:"\u05E2\u05D9\u05E6\u05D5\u05D1","zoom.in":"\u05D4\u05D2\u05D3\u05DC \u05EA\u05E6\u05D5\u05D2\u05D4","zoom.out":"\u05D4\u05E7\u05D8\u05DF \u05EA\u05E6\u05D5\u05D2\u05D4",to:"\u05DC","menu.file":"\u05E7\u05D5\u05D1\u05E5","menu.edit":"\u05E2\u05E8\u05D9\u05DB\u05D4","menu.view":"\u05EA\u05E6\u05D5\u05D2\u05D4","menu.preferences":"\u05DE\u05D0\u05E4\u05D9\u05D9\u05E0\u05D9\u05DD","menu.sign.in":"\u05D4\u05D9\u05E8\u05E9\u05DD","menu.sign.out":"\u05D4\u05EA\u05E0\u05EA\u05E7","become.a.sponsor":"\u05DE\u05EA\u05DF \u05D7\u05E1\u05D5\u05EA","zoom.to.selection":"\u05D6\u05D5\u05DD \u05DC\u05D1\u05D7\u05D9\u05E8\u05D4","zoom.to.fit":"\u05D6\u05D5\u05DD \u05DC\u05D4\u05EA\u05D0\u05DE\u05D4","zoom.to":"\u05D6\u05D5\u05DD \u05DC","preferences.dark.mode":"\u05DE\u05E6\u05D1 \u05D7\u05E9\u05D5\u05DA","preferences.focus.mode":"\u05DE\u05E6\u05D1 \u05E4\u05D5\u05E7\u05D5\u05E1","preferences.debug.mode":"\u05DE\u05E6\u05D1 \u05D3\u05D9\u05D1\u05D0\u05D2","preferences.show.grid":"(\u05D2\u05E8\u05D9\u05D3)\u05D4\u05E8\u05D0\u05D4 \u05E8\u05E9\u05EA \u05E2\u05D9\u05DE\u05D5\u05D3","preferences.use.cad.selection":"\u05E1\u05D9\u05DE\u05D5\u05DF CAD","preferences.keep.stylemenu.open":"\u05D4\u05E9\u05D0\u05E8 \u05EA\u05E4\u05E8\u05D9\u05D8 \u05E2\u05D9\u05E6\u05D5\u05D1 \u05E4\u05EA\u05D5\u05D7","preferences.always.show.snaps":"\u05D4\u05E8\u05D0\u05D4 \u05E7\u05D5\u05D5\u05D9 \u05DE\u05EA\u05D0\u05E8","preferences.rotate.handles":"\u05D4\u05E8\u05D0\u05D4 \u05D9\u05D3\u05D9\u05D5\u05EA \u05E1\u05D9\u05D1\u05D5\u05D1","preferences.binding.handles":"\u05D4\u05E8\u05D0\u05D4 \u05D9\u05D3\u05D9\u05D5\u05EA \u05E7\u05E9\u05D9\u05E8\u05D4","preferences.clone.handles":"\u05D4\u05E8\u05D0\u05D4 \u05D9\u05D3\u05D9\u05D5\u05EA \u05E9\u05D9\u05DB\u05E4\u05D5\u05DC",undo:"\u05D1\u05D8\u05DC",redo:"\u05E2\u05E9\u05D4 \u05DE\u05D7\u05D3\u05E9",cut:"\u05D2\u05D6\u05D5\u05E8",copy:"\u05D4\u05E2\u05EA\u05E7",paste:"\u05D4\u05D3\u05D1\u05E7","copy.as":"\u05D4\u05E2\u05EA\u05E7 \u05DB","export.as":"\u05D9\u05D9\u05E6\u05D0 \u05DB","select.all":"\u05D1\u05D7\u05E8 \u05D4\u05DB\u05DC","select.none":"\u05D1\u05D8\u05DC \u05D1\u05D7\u05D9\u05E8\u05D4",delete:"\u05DE\u05D7\u05E7","new.project":"\u05E4\u05E8\u05D5\u05D9\u05E7\u05D8 \u05D7\u05D3\u05E9",open:"\u05E4\u05EA\u05D7",save:"\u05E9\u05DE\u05D5\u05E8","save.as":"\u05E9\u05DE\u05D5\u05E8 \u05DB","upload.media":"\u05D4\u05E2\u05DC\u05D0\u05EA \u05DE\u05D3\u05D9\u05D4","create.page":"\u05E6\u05D5\u05E8 \u05D3\u05E3","new.page":"\u05D3\u05E3 \u05D7\u05D3\u05E9","page.name":"\u05E9\u05DD \u05D4\u05D3\u05E3",duplicate:"\u05E9\u05DB\u05E4\u05DC",cancel:"\u05D1\u05D8\u05DC","copy.invite.link":"\u05D4\u05E2\u05EA\u05E7 \u05E7\u05D9\u05E9\u05D5\u05E8 \u05D4\u05D6\u05DE\u05E0\u05D4","create.multiplayer.project":"\u05E6\u05D5\u05E8 \u05E4\u05E8\u05D5\u05D9\u05E7\u05D8 \u05E8\u05D1 \u05DE\u05E9\u05EA\u05EA\u05E4\u05D9\u05DD","copy.multiplayer.project":"\u05D4\u05E2\u05EA\u05E7 \u05DC\u05E4\u05E8\u05D5\u05D9\u05E7\u05D8 \u05E8\u05D1 \u05DE\u05E9\u05EA\u05EA\u05E4\u05D9\u05DD",select:"\u05E1\u05DE\u05DF",eraser:"\u05DE\u05D7\u05E7",draw:"\u05E6\u05D9\u05D9\u05E8",arrow:"\u05D7\u05E5",text:"\u05D8\u05E7\u05E1\u05D8",sticky:"\u05D3\u05D1\u05D9\u05E7\u05D9",rectangle:"\u05DE\u05E8\u05D5\u05D1\u05E2",ellipse:"\u05D0\u05DC\u05D9\u05E4\u05E1\u05D4",triangle:"\u05DE\u05E9\u05D5\u05DC\u05E9",line:"\u05E7\u05D5",rotate:"\u05E1\u05D5\u05D1\u05D1","lock.aspect.ratio":"\u05E0\u05E2\u05DC \u05D9\u05D7\u05E1 \u05E8\u05D5\u05D7\u05D1-\u05D2\u05D5\u05D1\u05D4","unlock.aspect.ratio":"\u05E9\u05D7\u05E8\u05E8 \u05E0\u05E2\u05D9\u05DC\u05EA \u05D9\u05D7\u05E1 \u05E8\u05D5\u05D7\u05D1-\u05D2\u05D5\u05D1\u05D4",group:"\u05E7\u05D1\u05E5",ungroup:"\u05D1\u05D8\u05DC \u05E7\u05D9\u05D1\u05D5\u05E5","move.to.back":"\u05D4\u05D1\u05D0 \u05DC\u05EA\u05D7\u05EA\u05D9\u05EA","move.backward":"\u05D4\u05D6\u05D6 \u05D0\u05D7\u05D5\u05E8\u05D4","move.forward":"\u05D4\u05D6\u05D6 \u05E7\u05D3\u05D9\u05DE\u05D4","move.to.front":"\u05D4\u05D1\u05D0 \u05DC\u05D7\u05D6\u05D9\u05EA","reset.angle":"\u05D0\u05E4\u05E1 \u05D6\u05D5\u05D5\u05D9\u05EA",lock:"\u05E0\u05E2\u05DC",unlock:"\u05E9\u05D7\u05E8\u05E8 \u05E0\u05E2\u05D9\u05DC\u05D4","move.to.page":"\u05D4\u05D6\u05D6 \u05DC\u05D3\u05E3","flip.horizontal":"\u05D4\u05E4\u05D5\u05DA \u05D0\u05D5\u05E4\u05E7\u05D9\u05EA","flip.vertical":"\u05D4\u05E4\u05D5\u05DA \u05D0\u05E0\u05DB\u05D9\u05EA",move:"\u05D4\u05D6\u05D6","to.front":"\u05D4\u05D1\u05D0 \u05DC\u05E7\u05D3\u05D9\u05DE\u05D4",forward:"\u05E7\u05D3\u05D9\u05DE\u05D4",backward:"\u05D0\u05D7\u05D5\u05E8\u05D4",back:"\u05D1\u05D7\u05D6\u05E8\u05D4",language:"\u05E9\u05E4\u05D4"};var Ya={"style.menu.color":"Colore","style.menu.fill":"Riempi","style.menu.dash":"Tratteggo","style.menu.size":"Dimensione","style.menu.keep.open":"Mantieni aperto","style.menu.font":"Font","style.menu.align":"Allineamento",styles:"Stile","zoom.in":"Ingrandisci","zoom.out":"Rimpicciolisci",to:"Imposta","menu.file":"File","menu.edit":"Modifica","menu.view":"Visualizzazione","menu.preferences":"Preferenze","menu.sign.in":"Accedi","menu.sign.out":"Esci","become.a.sponsor":"Sponsorizza","zoom.to.selection":"Adatta alla selezione","zoom.to.fit":"Adatta","zoom.to":"Ingrandisci","preferences.dark.mode":"Modalit\xE0 scura","preferences.focus.mode":"Modalit\xE0 zen","preferences.debug.mode":"Modalit\xE0 sviluppatore","preferences.show.grid":"Mostra griglia","preferences.use.cad.selection":"Selezione CAD","preferences.keep.stylemenu.open":"Mantieni menu stile aperto","preferences.always.show.snaps":"Mostra sempre le guide","preferences.rotate.handles":"Controlli d'inclinazione","preferences.binding.handles":"Controlli d'associazione","preferences.clone.handles":"Controlli di clonazione",undo:"Annulla",redo:"Ripristina",cut:"Taglia",copy:"Copia",paste:"Incolla","copy.as":"Copia come","export.as":"Esporta come","select.all":"Seleziona tutto","select.none":"Deseleziona tutto",delete:"Elimina","new.project":"Nuovo progetto",open:"Apri",save:"Salva","save.as":"Salva come","upload.media":"Carica contenuti multimediali","create.page":"Crea nuova pagina","new.page":"Nuova pagina","page.name":"Nome pagina",page:"Pagina",duplicate:"Duplica",cancel:"Chiudi","copy.invite.link":"Copia link invito","create.multiplayer.project":"Crea progetto multiplayer","copy.multiplayer.project":"Trasforma in progetto multiplayer",select:"Seleziona",eraser:"Gomma",draw:"Matita",arrow:"Freccia",text:"Casella di testo",sticky:"Post-it",rectangle:"Rettangolo",ellipse:"Ellisse",triangle:"Triangolo",line:"Linea",rotate:"Ruota","lock.aspect.ratio":"Blocca rapporto lati","unlock.aspect.ratio":"Sblocca rapporto lati",group:"Raggruppa",ungroup:"Separa","move.to.back":"Muovi in fondo","move.backward":"Sposta indietro","move.forward":"Sposta avanti","move.to.front":"Muovi in fronte","reset.angle":"Reimposta angolo",lock:"Blocca",unlock:"Sblocca","move.to.page":"Trasferisci a pagina","flip.horizontal":"Ribalta orizzontalmente","flip.vertical":"Ribalta verticalmente",move:"Sposta","to.front":"In primo piano",forward:"Sposta avanti",backward:"Sposta indietro",back:"In fondo",language:"Lingua","dock.position":"Posizione dock",bottom:"In basso",left:"Sinistra",right:"Destra",top:"In Alto"};var Za={"style.menu.color":"\u8272","style.menu.fill":"\u5857\u308A\u3064\u3076\u3057","style.menu.dash":"\u7DDA","style.menu.size":"\u592A\u3055/\u30B5\u30A4\u30BA","style.menu.keep.open":"\u5E38\u306B\u8868\u793A","style.menu.font":"\u30D5\u30A9\u30F3\u30C8","style.menu.align":"\u914D\u7F6E",styles:"\u30B9\u30BF\u30A4\u30EB","zoom.in":"\u62E1\u5927","zoom.out":"\u7E2E\u5C0F",to:" ","menu.file":"\u30D5\u30A1\u30A4\u30EB","menu.edit":"\u7DE8\u96C6","menu.view":"\u8868\u793A","menu.preferences":"\u8A2D\u5B9A","menu.sign.in":"\u30B5\u30A4\u30F3\u30A4\u30F3","menu.sign.out":"\u30B5\u30A4\u30F3\u30A2\u30A6\u30C8","become.a.sponsor":"\u652F\u63F4\u3059\u308B","zoom.to.selection":"\u9078\u629E\u3057\u305F\u30A2\u30A4\u30C6\u30E0\u306B\u5408\u308F\u305B\u3066\u62E1\u5927","zoom.to.fit":"\u62E1\u5927\u3057\u3066\u3059\u3079\u3066\u3092\u8868\u793A","zoom.to":"\u62E1\u5927\u7387","preferences.dark.mode":"\u30C0\u30FC\u30AF\u30E2\u30FC\u30C9","preferences.focus.mode":"\u30D5\u30A9\u30FC\u30AB\u30B9\u30E2\u30FC\u30C9","preferences.debug.mode":"\u30C7\u30D0\u30C3\u30B0\u30E2\u30FC\u30C9","preferences.show.grid":"\u30B0\u30EA\u30C3\u30C9\u3092\u8868\u793A","preferences.use.cad.selection":"CAD\u306E\u9078\u629E\u6CD5\u3092\u4F7F\u7528","preferences.keep.stylemenu.open":"\u30B9\u30BF\u30A4\u30EB\u30E1\u30CB\u30E5\u30FC\u3092\u5E38\u306B\u8868\u793A","preferences.always.show.snaps":"\u30B9\u30CA\u30C3\u30D7\u3092\u5E38\u306B\u8868\u793A","preferences.rotate.handles":"\u56DE\u8EE2\u30CF\u30F3\u30C9\u30EB\u3092\u8868\u793A","preferences.binding.handles":"\u7D50\u5408\u30CF\u30F3\u30C9\u30EB\u3092\u8868\u793A","preferences.clone.handles":"\u30AF\u30ED\u30FC\u30F3\u30CF\u30F3\u30C9\u30EB\u3092\u8868\u793A",undo:"\u5143\u306B\u623B\u3059",redo:"\u3084\u308A\u76F4\u3057",cut:"\u5207\u308A\u53D6\u308A",copy:"\u30B3\u30D4\u30FC",paste:"\u8CBC\u308A\u4ED8\u3051","copy.as":"\u5F62\u5F0F\u3092\u9078\u629E\u3057\u3066\u30B3\u30D4\u30FC","export.as":"\u5F62\u5F0F\u3092\u9078\u629E\u3057\u3066\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8","select.all":"\u3059\u3079\u3066\u9078\u629E","select.none":"\u9078\u629E\u3092\u89E3\u9664",delete:"\u524A\u9664","new.project":"\u65B0\u3057\u3044\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8",open:"\u958B\u304F",save:"\u4FDD\u5B58","save.as":"\u540D\u524D\u3092\u3064\u3051\u3066\u4FDD\u5B58","upload.media":"\u30E1\u30C7\u30A3\u30A2\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9","create.page":"\u30DA\u30FC\u30B8\u3092\u4F5C\u6210","new.page":"\u65B0\u898F\u30DA\u30FC\u30B8","page.name":"\u30DA\u30FC\u30B8\u540D",duplicate:"\u8907\u88FD",cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB","copy.invite.link":"\u5171\u6709\u30EA\u30F3\u30AF\u3092\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC","create.multiplayer.project":"\u30DE\u30EB\u30C1\u30D7\u30EC\u30A4\u30E4\u30FC\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u4F5C\u6210","copy.multiplayer.project":"\u30DE\u30EB\u30C1\u30D7\u30EC\u30A4\u30E4\u30FC\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306B\u30B3\u30D4\u30FC",select:"\u9078\u629E",eraser:"\u6D88\u3057\u30B4\u30E0",draw:"\u63CF\u753B",arrow:"\u77E2\u5370",text:"\u30C6\u30AD\u30B9\u30C8",sticky:"\u3075\u305B\u3093",rectangle:"\u9577\u65B9\u5F62",ellipse:"\u6955\u5186\u5F62",triangle:"\u4E09\u89D2\u5F62",line:"\u7DDA",rotate:"\u56DE\u8EE2","lock.aspect.ratio":"\u7E26\u6A2A\u6BD4\u3092\u56FA\u5B9A","unlock.aspect.ratio":"\u7E26\u6A2A\u6BD4\u306E\u56FA\u5B9A\u3092\u89E3\u9664",group:"\u30B0\u30EB\u30FC\u30D4\u30F3\u30B0",ungroup:"\u30B0\u30EB\u30FC\u30D7\u89E3\u9664","move.to.back":"\u6700\u80CC\u9762\u306B\u79FB\u52D5","move.backward":"\u3072\u3068\u3064\u5F8C\u308D\u306B\u79FB\u52D5","move.forward":"\u3072\u3068\u3064\u524D\u306B\u79FB\u52D5","move.to.front":"\u6700\u524D\u9762\u306B\u79FB\u52D5","reset.angle":"\u89D2\u5EA6\u3092\u521D\u671F\u5316",lock:"\u30ED\u30C3\u30AF",unlock:"\u30A2\u30F3\u30ED\u30C3\u30AF","move.to.page":"\u30DA\u30FC\u30B8\u3078\u79FB\u52D5","flip.horizontal":"\u6C34\u5E73\u65B9\u5411\u306B\u53CD\u8EE2","flip.vertical":"\u5782\u76F4\u65B9\u5411\u306B\u53CD\u8EE2",move:"\u79FB\u52D5","to.front":"\u6700\u524D\u9762\u3078",forward:"\u3072\u3068\u3064\u524D\u3078",backward:"\u3072\u3068\u3064\u5F8C\u308D\u3078",back:"\u6700\u80CC\u9762\u3078",language:"\u8A00\u8A9E"};var Xa={"style.menu.color":"\uC0C9\uAE54","style.menu.fill":"\uCC44\uC6B0\uAE30","style.menu.dash":"\uD14C\uB450\uB9AC","style.menu.size":"\uD06C\uAE30","style.menu.keep.open":"\uD56D\uC0C1 \uC5F4\uAE30","style.menu.font":"\uAE00\uAF34","style.menu.align":"\uC815\uB82C",styles:"\uC2A4\uD0C0\uC77C","zoom.in":"\uD655\uB300","zoom.out":"\uCD95\uC18C",to:"To","menu.tools":"\uB3C4\uAD6C","menu.transform":"\uBCC0\uD658","menu.file":"\uD30C\uC77C","menu.edit":"\uD3B8\uC9D1","menu.view":"\uBCF4\uAE30","menu.preferences":"\uC124\uC815","menu.sign.in":"\uB85C\uADF8\uC778","menu.sign.out":"\uB85C\uADF8\uC544\uC6C3","become.a.sponsor":"\uD6C4\uC6D0\uC790 \uB418\uAE30","zoom.to.content":"\uCEE8\uD150\uCE20\uB85C \uB3CC\uC544\uAC00\uAE30","zoom.to.selection":"\uC120\uD0DD \uC694\uC18C\uC5D0 \uB9DE\uCD94\uAE30","zoom.to.fit":"\uC804\uCCB4\uC5D0 \uB9DE\uCD94\uAE30","zoom.to":"\uB9DE\uCD94\uAE30","preferences.dark.mode":"\uB2E4\uD06C \uBAA8\uB4DC","preferences.focus.mode":"\uC9D1\uC911 \uBAA8\uB4DC","preferences.debug.mode":"\uB514\uBC84\uADF8 \uBAA8\uB4DC","preferences.show.grid":"\uACA9\uC790 \uBCF4\uAE30","preferences.use.cad.selection":"CAD \uC120\uD0DD \uC0AC\uC6A9","preferences.keep.stylemenu.open":"\uC2A4\uD0C0\uC77C \uBA54\uB274 \uD56D\uC0C1 \uC5F4\uAE30","preferences.always.show.snaps":"Snap \uD56D\uC0C1 \uC5F4\uAE30","preferences.rotate.handles":"\uD68C\uC804 \uBCF4\uC774\uAE30","preferences.binding.handles":"\uBC14\uC778\uB529 \uBCF4\uC774\uAE30","preferences.clone.handles":"\uBCF5\uC81C \uBCF4\uC774\uAE30",undo:"\uC2E4\uD589\uCDE8\uC18C",redo:"\uC7AC\uC2E4\uD589",cut:"\uC790\uB974\uAE30",copy:"\uBCF5\uC0AC",paste:"\uBD99\uC5EC\uB123\uAE30","copy.as":"\uC774\uBBF8\uC9C0\uB85C \uBCF5\uC0AC","export.as":"\uB0B4\uBCF4\uB0B4\uAE30","select.all":"\uC804\uCCB4 \uC120\uD0DD","select.none":"\uC120\uD0DD \uD574\uC81C",delete:"\uC0AD\uC81C","new.project":"\uC0C8 \uD504\uB85C\uC81D\uD2B8",open:"\uC5F4\uAE30",save:"\uC800\uC7A5","save.as":"\uB2E4\uB978 \uC774\uB984\uC73C\uB85C \uC800\uC7A5","upload.media":"\uBBF8\uB514\uC5B4 \uC5C5\uB85C\uB4DC","create.page":"\uC0C8 \uD398\uC774\uC9C0 \uC0DD\uC131","new.page":"\uC0C8 \uD398\uC774\uC9C0","page.name":"\uD398\uC774\uC9C0 \uC774\uB984",duplicate:"\uBCF5\uC81C",cancel:"\uCDE8\uC18C","copy.invite.link":"\uCD08\uB300 \uB9C1\uD06C \uBCF5\uC0AC","copy.readonly.link":"\uC77D\uAE30 \uC804\uC6A9 \uB9C1\uD06C \uBCF5\uC0AC","create.multiplayer.project":"\uC2E4\uC2DC\uAC04 \uD611\uC5C5 \uD504\uB85C\uC81D\uD2B8 \uC0DD\uC131","copy.multiplayer.project":"\uC2E4\uC2DC\uAC04 \uD611\uC5C5 \uD504\uB85C\uC81D\uD2B8\uB85C \uBCF5\uC81C",select:"\uC120\uD0DD",eraser:"\uC9C0\uC6B0\uAC1C",draw:"\uD39C",arrow:"\uD654\uC0B4\uD45C",text:"\uD14D\uC2A4\uD2B8",sticky:"\uC2A4\uD2F0\uD0A4\uB178\uD2B8",rectangle:"\uC0AC\uAC01\uD615",ellipse:"\uC6D0",triangle:"\uC0BC\uAC01\uD615",line:"\uC120",rotate:"\uD68C\uC804","lock.aspect.ratio":"\uBE44\uC728 \uC7A0\uAE08","unlock.aspect.ratio":"\uBE44\uC728 \uC7A0\uAE08 \uD574\uC81C",group:"\uADF8\uB8F9\uD654",ungroup:"\uADF8\uB8F9\uD654 \uD574\uC81C","move.to.back":"\uB9E8 \uB4A4\uB85C \uBCF4\uB0B4\uAE30","move.backward":"\uB4A4\uB85C \uBCF4\uB0B4\uAE30","move.forward":"\uC55E\uC73C\uB85C \uAC00\uC838\uC624\uAE30","move.to.front":"\uB9E8 \uC55E\uC73C\uB85C \uAC00\uC838\uC624\uAE30","reset.angle":"\uD68C\uC804 \uCD08\uAE30\uD654",lock:"\uC7A0\uAE08",unlock:"\uC7A0\uAE08 \uD574\uC81C","align.distribute":"\uC815\uB82C / \uAC04\uACA9 \uB9DE\uCD94\uAE30","move.to.page":"\uD398\uC774\uC9C0\uB85C \uC774\uB3D9","flip.horizontal":"\uC88C\uC6B0 \uB300\uCE6D","flip.vertical":"\uC0C1\uD558 \uB300\uCE6D",move:"\uC21C\uC11C","to.front":"\uB9E8 \uC55E\uC73C\uB85C",forward:"\uC55E\uC73C\uB85C",backward:"\uB4A4\uB85C",back:"\uB9E8 \uB4A4\uB85C",language:"\uC5B8\uC5B4","translation.link":"\uB354 \uC54C\uC544\uBCF4\uAE30","dock.position":"\uB3C5 \uC704\uCE58",bottom:"\uD558\uB2E8",left:"\uC67C\uCABD",right:"\uC624\uB978\uCABD",top:"\uC0C1\uB2E8",page:"\uD398\uC774\uC9C0","keyboard.shortcuts":"\uD0A4\uBCF4\uB4DC \uB2E8\uCD95\uD0A4",search:"\uAC80\uC0C9",loading:"\uB85C\uB529{dots}","export.background":"\uBC30\uACBD \uB0B4\uBCF4\uB0B4\uAE30",transparent:"\uD22C\uBA85",auto:"\uC790\uB3D9",light:"\uB77C\uC774\uD2B8",dark:"\uB2E4\uD06C",github:"Github",twitter:"Twitter",discord:"Discord",image:"\uC774\uBBF8\uC9C0","align.left":"\uC67C\uCABD \uC815\uB82C","align.center.x":"\uC218\uD3C9 \uC911\uC559 \uC815\uB82C","align.right":"\uC624\uB978\uCABD \uC815\uB82C","align.top":"\uC0C1\uB2E8 \uC815\uB82C","align.center.y":"\uC218\uC9C1 \uC911\uC559 \uC815\uB82C","align.bottom":"\uD558\uB2E8 \uC815\uB82C","distribute.x":"\uAC00\uB85C \uAC04\uACA9 \uB9DE\uCD94\uAE30","distribute.y":"\uC138\uB85C \uAC04\uACA9 \uB9DE\uCD94\uAE30","stretch.x":"\uC218\uD3C9\uC73C\uB85C \uB298\uB9AC\uAE30","stretch.y":"\uC218\uC9C1\uC73C\uB85C \uB298\uB9AC\uAE30","dialog.save.firsttime":"\uD604\uC7AC \uD504\uB85C\uC81D\uD2B8\uB97C \uC800\uC7A5\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?","dialog.save.again":"\uBCC0\uACBD\uC0AC\uD56D\uC744 \uD604\uC7AC \uD504\uB85C\uC81D\uD2B8\uC5D0 \uC800\uC7A5\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?","dialog.cancel":"\uCDE8\uC18C","dialog.no":"\uC544\uB2C8\uC624","dialog.yes":"\uB124","enter.file.name":"\uD30C\uC77C \uC774\uB984\uC744 \uC785\uB825\uD574\uC8FC\uC138\uC694","tldraw-beta":"\uC0C8\uB85C\uC6B4 tldraw\uB97C \uC0AC\uC6A9\uD574\uBCF4\uC138\uC694"};var qa={"style.menu.color":"\u0631\u06D5\u0646\u06AF","style.menu.fill":"\u067E\u0695\u06A9\u0631\u062F\u0646\u06D5\u0648\u06D5","style.menu.dash":"\u0644\u06D5\u062A \u0644\u06D5\u062A","style.menu.size":"\u0642\u06D5\u0628\u0627\u0631\u06D5","style.menu.keep.open":"\u0628\u06D5 \u06A9\u0631\u0627\u0648\u06D5\u06CC\u06CC \u0628\u0645\u06CE\u0646\u06D5\u0631\u06D5\u0648\u06D5","style.menu.font":"\u0647\u06CE\u06B5","style.menu.align":"\u0695\u06CE\u06A9\u062E\u0633\u062A\u0646",styles:"\u0646\u06D5\u062E\u0634\u06D5\u06A9\u0627\u0646","zoom.in":"\u0647\u06CE\u0646\u0627\u0646\u06D5 \u067E\u06CE\u0634\u06D5\u0648\u06D5","zoom.out":"\u062F\u0648\u0648\u0631 \u062E\u0633\u062A\u0646\u06D5\u0648\u06D5",to:"\u0628\u06C6","menu.tools":"\u0626\u0627\u0645\u0631\u0627\u0632\u06D5\u06A9\u0627\u0646","menu.transform":"\u06AF\u06C6\u0695\u06CC\u0646","menu.file":"\u0641\u0627\u06CC\u0644\u06CE\u06A9","menu.edit":"\u062F\u06D5\u0633\u062A\u06A9\u0627\u0631\u06CC","menu.view":"\u062F\u06CC\u0645\u06D5\u0646","menu.preferences":"\u062E\u0648\u0627\u0633\u062A","menu.sign.in":"\u0686\u0648\u0648\u0646\u06D5 \u0698\u0648\u0648\u0631\u06D5\u0648\u06D5","menu.sign.out":"\u062F\u06D5\u0631\u0686\u0648\u0648\u0646","become.a.sponsor":"\u0633\u067E\u06C6\u0646\u0633\u06D5\u0631 \u0628\u06D5","zoom.to.content":"\u0632\u0648\u0648\u0645 \u0628\u06A9\u06D5 \u0628\u06C6 \u0646\u0627\u0648\u06D5\u0695\u06C6\u06A9","zoom.to.selection":"\u0632\u0648\u0648\u0645 \u0628\u06A9\u06D5 \u0628\u06C6 \u0647\u06D5\u06B5\u0628\u0698\u0627\u0631\u062F\u0646","zoom.to.fit":"\u0632\u0648\u0648\u0645 \u0628\u06A9\u06D5 \u0628\u06C6 \u0626\u06D5\u0648\u06D5\u06CC \u0644\u06D5\u06AF\u06D5\u06B5\u06CC\u062F\u0627 \u0628\u06AF\u0648\u0646\u062C\u06CE\u062A","zoom.to":"\u0632\u0648\u0648\u0645 \u0628\u06A9\u06D5 \u0628\u06C6","preferences.dark.mode":"\u062F\u06C6\u062E\u06CC \u062A\u0627\u0631\u06CC\u06A9","preferences.focus.mode":"\u062F\u06C6\u062E\u06CC \u0641\u06C6\u06A9\u06D5\u0633","preferences.debug.mode":"\u0645\u06C6\u062F\u06CC \u0647\u06D5\u06B5\u06D5\u062F\u06C6\u0632\u06CC\u0646","preferences.show.grid":"\u062A\u06C6\u0695\u06CC \u067E\u06CC\u0634\u0627\u0646 \u0628\u062F\u06D5","preferences.use.cad.selection":"\u0628\u06D5\u06A9\u0627\u0631\u0628\u0647\u06CE\u0646\u06D5 CAD \u0647\u06D5\u06B5\u0628\u0698\u0627\u0631\u062F\u0646\u06CC","preferences.keep.stylemenu.open":"\u0645\u06CE\u0646\u06C6\u06CC \u0633\u062A\u0627\u06CC\u0644 \u0628\u06D5 \u06A9\u0631\u0627\u0648\u06D5\u06CC\u06CC \u0628\u0647\u06CE\u06B5\u06D5\u0631\u06D5\u0648\u06D5","preferences.always.show.snaps":"\u0647\u06D5\u0645\u06CC\u0634\u06D5 \u0648\u06CE\u0646\u06D5\u06CC \u062E\u06CE\u0631\u0627 \u067E\u06CC\u0634\u0627\u0646 \u0628\u062F\u06D5","preferences.rotate.handles":"\u0633\u0648\u0631\u0627\u0646\u06D5\u0648\u06D5\u06CC \u062F\u06D5\u0633\u062A\u06D5\u06A9\u0627\u0646","preferences.binding.handles":"\u0628\u06D5\u0633\u062A\u0646\u06D5\u0648\u06D5\u06CC \u062F\u06D5\u0633\u062A\u06D5\u06A9\u0627\u0646","preferences.clone.handles":"\u06A9\u0644\u06C6\u0646 \u06A9\u0631\u062F\u0646\u06CC \u062F\u06D5\u0633\u062A\u06D5\u06A9\u0627\u0646",undo:"\u067E\u0627\u0634\u06D5\u06A9\u0634\u06D5 \u0628\u06A9\u06D5",redo:"\u062F\u0648\u0648\u0628\u0627\u0631\u06D5 \u0628\u06CC\u06A9\u06D5\u0631\u06D5\u0648\u06D5",cut:"\u0628\u0695\u06CC\u0646",copy:"\u06A9\u06C6\u067E\u06CC \u0628\u06A9\u06D5",paste:"\u067E\u06D5\u06CC\u0633\u062A \u0628\u06A9\u06D5","copy.as":"\u06A9\u06C6\u067E\u06CC \u0648\u06D5\u06A9","export.as":"\u0647\u06D5\u0646\u0627\u0631\u062F\u06D5\u06A9\u0631\u062F\u0646 \u0648\u06D5\u06A9","select.all":"\u0647\u06D5\u0645\u0648\u0648\u06CC\u0627\u0646 \u0647\u06D5\u06B5\u0628\u0698\u06CE\u0631\u0647","select.none":"\u0647\u06CC\u0686 \u0647\u0647\u200C\u06B5\u0645\u0647\u200C\u0628\u0698\u06CE\u0631\u0647\u200C",delete:"\u0633\u0695\u06CC\u0646\u06D5\u0648\u06D5","new.project":"\u067E\u0695\u06C6\u0698\u06D5\u06CC \u0646\u0648\u06CE",open:"\u06A9\u0631\u062F\u0646\u06D5\u0648\u06D5",save:"\u0647\u06D5\u06B5\u06AF\u0631\u062A\u0646","save.as":"\u0647\u06D5\u06B5\u06AF\u0631\u062A\u0646 \u0648\u06D5\u06A9","upload.media":"\u062F\u0627\u06AF\u0631\u062A\u0646\u06CC \u0645\u06CC\u062F\u06CC\u0627","create.page":"\u062F\u0631\u0648\u0633\u062A\u06A9\u0631\u062F\u0646\u06CC \u0644\u0627\u067E\u06D5\u0695\u06D5","new.page":"\u0644\u0627\u067E\u06D5\u0695\u06D5\u06CC \u0646\u0648\u06CE","page.name":"\u0646\u0627\u0648\u06CC \u0644\u0627\u067E\u06D5\u0695\u06D5",duplicate:"\u062F\u0648\u0648\u0628\u0627\u0631\u06D5\u06A9\u0631\u062F\u0646\u06D5\u0648\u06D5",cancel:"\u0695\u06D5\u062A\u06A9\u0631\u062F\u0646\u06D5\u0648\u06D5","copy.invite.link":"\u0644\u06CC\u0646\u06A9\u06CC \u0628\u0627\u0646\u06AF\u0647\u06CE\u0634\u062A\u06A9\u0631\u062F\u0646 \u06A9\u06C6\u067E\u06CC \u0628\u06A9\u06D5","copy.readonly.link":"\u0628\u06D5 \u0634\u06CE\u0648\u06D5\u06CC\u06D5\u06A9\u06CC \u0647\u06D5\u0695\u06D5\u0645\u06D5\u06A9\u06CC \u06A9\u06C6\u067E\u06CC \u0628\u06A9\u06D5","create.multiplayer.project":"\u062F\u0631\u0648\u0633\u062A\u06A9\u0631\u062F\u0646\u06CC \u067E\u0631\u06C6\u0698\u06D5\u06CC \u0641\u0631\u06D5 \u0628\u06D5\u06A9\u0627\u0631\u0647\u06CE\u0646\u06D5\u0631","copy.multiplayer.project":"\u06A9\u06C6\u067E\u06CC \u0628\u06A9\u06D5 \u0628\u06C6 \u067E\u0695\u06C6\u0698\u06D5\u06CC\u06D5\u06A9\u06CC \u0641\u0631\u06D5 \u0628\u06D5\u06A9\u0627\u0631\u0647\u06CE\u0646\u06D5\u0631",select:"\u062F\u06D5\u0633\u0646\u06CC\u0627\u0634\u0646\u06A9\u0631\u062F\u0646",eraser:"\u0633\u0695\u06D5\u0631\u06D5\u0648\u06D5",draw:"\u0648\u06CE\u0646\u06D5\u06A9\u06CE\u0634\u0627\u0646",arrow:"\u062A\u06CC\u0631",text:"\u062F\u06D5\u0642",sticky:"\u0686\u06D5\u0633\u067E\u0627\u0648",rectangle:"\u0644\u0627\u06A9\u06CE\u0634\u06D5",ellipse:"\u0628\u06CC\u0628\u0644\u06CC",triangle:"\u0633\u06CE\u06AF\u06C6\u0634\u06D5",line:"\u0647\u06CE\u06B5",rotate:"\u0633\u0648\u0695\u0627\u0646\u06D5\u0648\u06D5","lock.aspect.ratio":"\u0642\u0641\u06B5\u06A9\u0631\u062F\u0646\u06CC \u0695\u06CE\u0698\u06D5\u06CC \u0695\u0648\u0648\u0628\u06D5\u0631\u06CC","unlock.aspect.ratio":"\u06A9\u0631\u062F\u0646\u06D5\u0648\u06D5\u06CC \u0695\u06CE\u0698\u06D5\u06CC \u0695\u0648\u0648\u0628\u06D5\u0631\u06CC",group:"\u06A9\u06C6\u0645\u06D5\u06B5\u06D5",ungroup:"\u0644\u0627\u0628\u0631\u062F\u0646\u06CC \u06A9\u06C6\u0645\u06D5\u06B5\u06D5","move.to.back":"\u0628\u0686\u06C6 \u0628\u06C6 \u067E\u0634\u062A\u06D5\u0648\u06D5","move.backward":"\u0628\u06D5\u0631\u06D5\u0648 \u062F\u0648\u0627\u0648\u06D5","move.forward":"\u0628\u0695\u06C6 \u067E\u06CE\u0634\u06D5\u0648\u06D5","move.to.front":"\u0628\u06AF\u0648\u0627\u0632\u0631\u06CE\u062A\u06D5\u0648\u06D5 \u0628\u06C6 \u067E\u06CE\u0634\u06D5\u0648\u06D5","reset.angle":"\u06AF\u06C6\u0634\u06D5\u06CC \u067E\u0634\u0648\u0648\u062F\u0627\u0646",lock:"\u0642\u0648\u0641\u06B5",unlock:"\u0644\u0627\u0628\u0631\u062F\u0646\u06CC \u0642\u0648\u0641\u06B5","move.to.page":"\u0628\u0686\u06C6 \u0628\u06C6 \u0644\u0627\u067E\u06D5\u0695\u06D5","flip.horizontal":"\u0626\u0627\u0633\u06C6\u06CC\u06CC \u0648\u06D5\u0631\u06AF\u06D5\u0695\u0627\u0646\u062F\u0646","flip.vertical":"\u0633\u062A\u0648\u0646\u06CC \u0648\u06D5\u0631\u06AF\u06D5\u0695\u0627\u0646\u062F\u0646",move:"\u062C\u0648\u0648\u06B5\u06D5","to.front":"\u0628\u06C6 \u067E\u06CE\u0634\u06D5\u0648\u06D5",forward:"\u0628\u06C6\u067E\u0634\u062A\u06D5\u0648\u06D5",backward:"\u0628\u06C6\u062F\u0648\u0627\u0648\u06D5",back:"\u06AF\u06D5\u0695\u0627\u0646\u06D5\u0648\u06D5",language:"\u0632\u0645\u0627\u0646","translation.link":"\u0628\u06D5\u0633\u062A\u06D5\u0631\u06CC \u0648\u06D5\u0631\u06AF\u06CE\u0695\u0627\u0646","dock.position":"\u0634\u0648\u06CE\u0646\u06CC \u062F\u06C6\u06A9",bottom:"\u062E\u0648\u0627\u0631\u06D5\u0648\u06D5",left:"\u0686\u06D5\u067E",right:"\u0695\u0627\u0633\u062A",top:"\u0633\u06D5\u0631\u0648\u0648",page:"\u0644\u0627\u067E\u06D5\u0695\u06D5","keyboard.shortcuts":"\u06A9\u0648\u0631\u062A\u06A9\u0631\u0627\u0648\u06D5\u06A9\u0627\u0646\u06CC \u062A\u06D5\u062E\u062A\u06D5\u06A9\u0644\u06CC\u0644",search:"\u06AF\u06D5\u0695\u0627\u0646",loading:"\u0628\u0627\u0631\u06A9\u0631\u062F\u0646","export.background":"\u067E\u0627\u0634\u062E\u0627\u0646\u06CC \u0647\u06D5\u0646\u0627\u0631\u062F\u06D5\u06A9\u0631\u062F\u0646",transparent:"\u0695\u0648\u0648\u0646",auto:"\u0626\u06C6\u062A\u06C6\u0645\u0627\u062A\u06CC\u06A9\u06CC",light:"\u0631\u0648\u0648\u0646\u0627\u06A9",dark:"\u062A\u0627\u0631\u06CC\u06A9"};var Ja={"style.menu.color":"Color","style.menu.fill":"Fill","style.menu.dash":"Dash","style.menu.size":"Size","style.menu.keep.open":"Keep Open","style.menu.font":"Font","style.menu.align":"Align",styles:"Styles","zoom.in":"Zoom In","zoom.out":"Zoom Out",to:"To","menu.tools":"Tools","menu.transform":"Transform","menu.file":"File","menu.edit":"Edit","menu.view":"View","menu.preferences":"Preferences","menu.sign.in":"Sign In","menu.sign.out":"Sign Out","become.a.sponsor":"Become a Sponsor","zoom.to.content":"Back to content","zoom.to.selection":"Zoom to Selection","zoom.to.fit":"Zoom to Fit","zoom.to":"Zoom to","preferences.dark.mode":"Dark Mode","preferences.focus.mode":"Focus Mode","preferences.debug.mode":"Debug Mode","preferences.show.grid":"Show Grid","preferences.use.cad.selection":"Use CAD Selection","preferences.keep.stylemenu.open":"Keep Style Menu Open","preferences.always.show.snaps":"Always Show Snaps","preferences.rotate.handles":"Rotate Handles","preferences.binding.handles":"Binding Handles","preferences.clone.handles":"Clone Handles",undo:"Undo",redo:"Redo",cut:"Cut",copy:"Copy",paste:"Paste","copy.as":"Copy As","export.as":"Export As","select.all":"Select All","select.none":"Select None",delete:"Delete","new.project":"New Project",open:"Open",save:"Save","save.as":"Save As","upload.media":"Upload Media","create.page":"Create Page","new.page":"New Page","page.name":"Page Name",duplicate:"Duplicate","shape.options":"Shape Options",shapes:"Shapes",cancel:"Cancel","copy.invite.link":"Copy Invite Link","copy.readonly.link":"Copy ReadOnly Link","create.multiplayer.project":"Create a Multiplayer Project","copy.multiplayer.project":"Copy to Multiplayer Project",select:"Select",eraser:"Eraser",draw:"Draw",arrow:"Arrow",text:"Text",sticky:"Sticky",rectangle:"Rectangle",ellipse:"Ellipse",triangle:"Triangle",line:"Line",rotate:"Rotate","lock.aspect.ratio":"Lock Aspect Ratio","unlock.aspect.ratio":"Unlock Aspect Ratio",group:"Group",ungroup:"Ungroup","move.to.back":"Move to Back","move.backward":"Move Backward","move.forward":"Move Forward","move.to.front":"Move to Front","reset.angle":"Reset Angle",lock:"Lock",unlock:"Unlock","align.distribute":"Align / Distribute","move.to.page":"Move to Page","flip.horizontal":"Flip Horizontal","flip.vertical":"Flip Vertical",move:"Move","to.front":"To Front",forward:"Forward",backward:"Backward",back:"To Back",language:"Language","translation.link":"Learn More","dock.position":"Dock Position",bottom:"Bottom",left:"Left",right:"Right",top:"Top",page:"Page","keyboard.shortcuts":"Keyboard shortcuts",search:"Search",loading:"Loading{dots}","export.background":"Export Background",transparent:"Transparent",auto:"Auto",light:"Light",dark:"Dark",github:"Github",twitter:"Twitter",discord:"Discord",image:"Image","align.left":"Align Left","align.center.x":"Align Horizontal Center","align.right":"Align Right","align.top":"Align Top","align.center.y":"Align Vertical Center","align.bottom":"Align Bottom","distribute.x":"Distribute Horizontal","distribute.y":"Distribute Vertical","stretch.x":"Stretch Horizontal","stretch.y":"Stretch Vertical","dialog.save.firsttime":"Do you want to save your current project?","dialog.save.again":"Do you want to save changes to your current project?","dialog.cancel":"Cancel","dialog.no":"No","dialog.yes":"Yes","enter.file.name":"Enter file name","tldraw-beta":"Try the new tldraw",white:"White",lightGray:"Light gray",gray:"Gray",black:"Black",green:"Green",cyan:"Cyan",blue:"Blue",indigo:"Indigo",violet:"Violet",red:"Red",orange:"Orange",yellow:"Yellow",solid:"Solid",dashed:"Dashed",dotted:"Dotted",small:"Small",medium:"Medium",large:"Large"};var Qa={"style.menu.color":"\u1021\u101B\u1031\u102C\u1004\u103A","style.menu.fill":"\u1021\u101B\u1031\u102C\u1004\u103A \u1011\u100A\u103A\u1037\u1019\u100A\u103A","style.menu.dash":"\u1019\u103B\u1025\u103A\u1038\u1005\u1000\u103A","style.menu.size":"\u1021\u101B\u103D\u101A\u103A\u1021\u1005\u102C\u1038","style.menu.keep.open":"\u1016\u103D\u1004\u103A\u1037\u1011\u102C\u1038\u1019\u100A\u103A","style.menu.font":"\u1005\u102C\u101E\u102C\u1038\u1016\u1031\u102C\u1004\u103A\u1037","style.menu.align":"\u1021\u1011\u102C\u1038\u1021\u101E\u102D\u102F",styles:"\u1005\u1010\u102D\u102F\u1004\u103A","zoom.in":"\u1021\u1000\u103C\u102E\u1038\u1001\u103B\u1032\u1037\u1019\u100A\u103A","zoom.out":"\u1015\u103C\u1014\u103A\u1000\u103B\u1025\u103A\u1038\u1019\u100A\u103A",to:"\u101E\u102D\u102F\u1037","menu.tools":"\u1000\u102D\u101B\u102D\u101A\u102C\u1019\u103B\u102C\u1038","menu.transform":"\u1015\u103C\u1031\u102C\u1004\u103A\u1038\u101C\u100A\u103A\u101B\u1014\u103A","menu.file":"\u1016\u102D\u102F\u1004\u103A","menu.edit":"\u1015\u103C\u102F\u1015\u103C\u1004\u103A","menu.view":"\u1021\u1019\u103C\u1004\u103A","menu.preferences":"\u1006\u1000\u103A\u1010\u1004\u103A","menu.sign.in":"\u101D\u1004\u103A\u1019\u100A\u103A","menu.sign.out":"\u1011\u103D\u1000\u103A\u1019\u100A\u103A","become.a.sponsor":"\u1004\u103D\u1031\u1000\u103C\u1031\u1038\u1011\u1031\u102C\u1000\u103A\u1015\u1036\u1019\u100A\u103A","zoom.to.content":"\u1015\u1004\u103A\u1019\u1014\u1031\u101B\u102C\u101E\u102D\u102F\u1037 \u1015\u103C\u1014\u103A\u101E\u103D\u102C\u1038\u1019\u100A\u103A","zoom.to.selection":"\u101B\u103D\u1031\u1038\u1011\u102C\u1038\u101E\u1031\u102C \u1014\u1031\u101B\u102C\u101E\u102D\u102F\u1037 \u1021\u102C\u101B\u102F\u1036\u1015\u103C\u102F\u1019\u100A\u103A","zoom.to.fit":"\u1021\u1036\u1000\u102D\u102F\u1000\u103A\u1016\u103C\u1005\u103A\u1021\u1031\u102C\u1004\u103A \u1001\u103B\u1032\u1037\u1019\u100A\u103A","zoom.to":"\u1015\u102F\u1036\u1019\u103E\u1014\u103A\u1006\u102D\u102F\u1012\u103A\u101E\u102D\u102F\u1037 \u1001\u103B\u1032\u1037\u1019\u100A\u103A","preferences.dark.mode":"\u1021\u1019\u103E\u1031\u102C\u1004\u103A \u1019\u102F\u1012\u103A","preferences.focus.mode":"\u101B\u103E\u1004\u103A\u1038\u101B\u103E\u1004\u103A\u1038\u101C\u1004\u103A\u1038\u101C\u1004\u103A\u1038 \u1019\u102F\u1012\u103A","preferences.debug.mode":"\u1005\u1019\u103A\u1038\u101E\u1015\u103A \u1019\u102F\u1012\u103A","preferences.show.grid":"\u1014\u1031\u102C\u1000\u103A\u1001\u1036 \u1007\u101A\u102C\u1038\u1000\u103D\u1000\u103A\u1015\u103C\u101B\u1014\u103A","preferences.use.cad.selection":"CAD \u1000\u1032\u1037\u101E\u102D\u102F\u1037 \u101B\u103D\u1031\u1038\u1001\u103B\u101A\u103A\u1019\u103E\u102F \u1015\u103C\u102F\u101C\u102F\u1015\u103A\u1019\u100A\u103A","preferences.keep.stylemenu.open":"\u1005\u1010\u102D\u102F\u1004\u103A\u101C\u103A \u1019\u102E\u1014\u1030\u1038\u1000\u102D\u102F \u1021\u1019\u103C\u1032\u1016\u103D\u1004\u103A\u1037\u1011\u102C\u1038\u1019\u100A\u103A","preferences.always.show.snaps":"Always Show Snaps","preferences.rotate.handles":"Rotate Handles","preferences.binding.handles":"Binding Handles","preferences.clone.handles":"Clone Handles",undo:"\u1014\u1002\u102D\u102F\u1019\u1030\u101C\u101E\u102D\u102F\u1037 \u1015\u103C\u1014\u103A\u101C\u102F\u1015\u103A\u101B\u1014\u103A",redo:"\u1015\u103C\u1014\u103A\u101C\u102F\u1015\u103A\u101B\u1014\u103A",cut:"\u1016\u103C\u1010\u103A\u101A\u1030",copy:"\u1000\u1030\u1038\u101A\u1030",paste:"\u1000\u1030\u1038\u101E\u103D\u1004\u103A\u1038","copy.as":"\u1000\u1030\u1038\u101A\u1030\u1019\u100A\u103A\u1037 \u1015\u102F\u1036\u1005\u1036","export.as":"\u1011\u102F\u1010\u103A\u1001\u103B\u1004\u103A\u101E\u100A\u103A\u1037 \u1015\u102F\u1036\u1005\u1036","select.all":"\u1021\u102C\u1038\u101C\u102F\u1036\u1038\u1000\u102D\u102F \u101B\u103D\u1031\u1038\u1001\u103B\u101A\u103A\u101B\u1014\u103A","select.none":"\u1010\u1005\u103A\u1001\u102F\u1019\u103E \u1019\u101B\u103D\u1031\u1038\u1010\u1031\u102C\u1037\u1015\u102B",delete:"\u1016\u103B\u1000\u103A\u1019\u100A\u103A","new.project":"\u1015\u101B\u1031\u102C\u1002\u103B\u1000\u103A \u1021\u101E\u1005\u103A",open:"\u1016\u103D\u1004\u103A\u1037\u1019\u100A\u103A",save:"\u101E\u102D\u1019\u103A\u1038\u1019\u100A\u103A","save.as":"\u1021\u1001\u103C\u102C\u1038\u101E\u1031\u102C \u1015\u102F\u1036\u1005\u1036\u1016\u103C\u1004\u103A\u1037 \u101E\u102D\u1019\u103A\u1038\u1019\u100A\u103A","upload.media":"\u1019\u102E\u1012\u102E\u101A\u102C\u1016\u102D\u102F\u1004\u103A\u1019\u103B\u102C\u1038 \u1010\u1004\u103A\u1019\u100A\u103A","create.page":"\u1005\u102C\u1019\u103B\u1000\u103A\u1014\u103E\u102C \u1021\u101E\u1005\u103A\u1016\u103D\u1004\u103A\u1037\u1019\u100A\u103A","new.page":"\u1005\u102C\u1019\u103B\u1000\u103A\u1014\u103E\u102C \u1021\u101E\u1005\u103A","page.name":"\u1005\u102C\u1019\u103B\u1000\u103A\u1014\u103E\u102C \u1021\u1019\u100A\u103A",duplicate:"\u1015\u103D\u102C\u1038\u1019\u100A\u103A",cancel:"\u1019\u101C\u102F\u1015\u103A\u1010\u1031\u102C\u1037\u1015\u102B","copy.invite.link":"\u1016\u102D\u1010\u103A\u1000\u103C\u102C\u1038\u101B\u1014\u103A \u101C\u1004\u103A\u1037\u1001\u103A\u1000\u1030\u1038\u101A\u1030\u1019\u100A\u103A","copy.readonly.link":"\u1000\u103C\u100A\u103A\u1037\u101B\u1030\u101B\u1014\u103A\u1021\u1010\u103D\u1000\u103A\u101E\u102C \u101C\u1004\u103A\u1037\u1001\u103A\u1000\u1030\u1038\u101A\u1030\u1019\u100A\u103A","create.multiplayer.project":"\u1021\u1019\u103B\u102C\u1038\u101E\u102F\u1036\u1038 \u1015\u101B\u1031\u102C\u1002\u103B\u1000\u103A\u1021\u1016\u103C\u1005\u103A \u1021\u101E\u1005\u103A\u1016\u1014\u103A\u1010\u102E\u1038\u1019\u100A\u103A","copy.multiplayer.project":"\u1021\u1019\u103B\u102C\u1038\u101E\u102F\u1036\u1038 \u1015\u101B\u1031\u102C\u1002\u103B\u1000\u103A\u1021\u1016\u103C\u1005\u103A\u101E\u102D\u102F\u1037 \u1000\u1030\u1038\u101A\u1030\u1019\u100A\u103A",select:"\u101B\u103D\u1031\u1038\u1001\u103B\u101A\u103A\u1019\u103E\u102F",eraser:"\u1001\u1032\u1016\u103B\u1000\u103A",draw:"\u1001\u1032\u1010\u1036",arrow:"\u1019\u103C\u103E\u102C\u1038",text:"\u1005\u102C\u101E\u102C\u1038",sticky:"\u1000\u1015\u103A\u1001\u103D\u102C\u1019\u103E\u1010\u103A\u1005\u102F",rectangle:"\u101C\u1031\u1011\u1031\u102C\u1004\u103A\u1037",ellipse:"\u1018\u1032\u1025",triangle:"\u1010\u103C\u102D\u1002\u1036",line:"\u1019\u103B\u1025\u103A\u1038",rotate:"\u101C\u103E\u100A\u103A\u1037\u1019\u100A\u103A","lock.aspect.ratio":"\u1021\u1001\u103B\u102D\u102F\u1038\u1021\u1005\u102C\u1038 \u1011\u102D\u1014\u103A\u1038\u1011\u102C\u1038\u1019\u100A\u103A","unlock.aspect.ratio":"\u1021\u1001\u103B\u102D\u102F\u1038\u1021\u1005\u102C\u1038 \u1019\u1011\u102D\u1014\u103A\u1038\u1010\u1031\u102C\u1037\u1015\u102B",group:"\u1021\u102F\u1015\u103A\u1005\u102F\u1016\u103D\u1032\u1037",ungroup:"\u1021\u102F\u1015\u103A\u1005\u102F\u1001\u103D\u1032","move.to.back":"\u1014\u1031\u102C\u1000\u103A\u1006\u102F\u1036\u1038\u101E\u102D\u102F\u1037 \u1015\u102D\u102F\u1037\u1019\u100A\u103A","move.backward":"\u1014\u1031\u102C\u1000\u103A\u101E\u102D\u102F\u1037 \u1010\u1005\u103A\u1006\u1004\u103A\u1037\u1015\u102D\u102F\u1037\u1019\u100A\u103A","move.forward":"\u101B\u103E\u1031\u1037\u101E\u102D\u102F\u1037 \u1010\u1005\u103A\u1006\u1004\u103A\u1037\u1015\u102D\u102F\u1037\u1019\u100A\u103A","move.to.front":"\u101B\u103E\u1031\u1037\u1006\u102F\u1036\u1038\u101E\u102D\u102F\u1037 \u1015\u102D\u102F\u1037\u1019\u100A\u103A","reset.angle":"\u1014\u1002\u102D\u102F\u1019\u1030\u101C \u1011\u1031\u102C\u1004\u103A\u1037\u1001\u103B\u102D\u102F\u1038\u1005\u102C\u1038\u101E\u102D\u102F\u1037\u1015\u103C\u1031\u102C\u1004\u103A\u1038\u1019\u100A\u103A",lock:"\u1001\u1010\u103A\u1011\u102C\u1038\u1019\u100A\u103A",unlock:"\u1016\u103D\u1004\u103A\u1037\u1011\u102C\u1038\u1019\u100A\u103A","align.distribute":"\u1014\u1031\u101B\u102C \u1021\u1011\u102C\u1038\u1021\u101E\u102D\u102F/ \u1021\u1006\u1014\u103A\u1037\u1021\u1000\u103B\u102F\u1036\u1037","move.to.page":"\u1005\u102C\u1019\u103B\u1000\u103A\u1014\u103E\u102C\u1010\u1005\u103A\u1001\u102F\u101E\u102D\u102F\u1037 \u101B\u103D\u1031\u1038\u1019\u100A\u103A","flip.horizontal":"\u1021\u101C\u103B\u102C\u1038\u101C\u102D\u102F\u1000\u103A \u101C\u103E\u1014\u103A\u1019\u100A\u103A","flip.vertical":"\u1012\u1031\u102B\u1004\u103A\u101C\u102D\u102F\u1000\u103A \u101C\u103E\u1014\u103A\u1019\u100A\u103A",move:"\u101B\u103D\u1031\u1037\u1019\u100A\u103A","to.front":"\u101B\u103E\u1031\u1037\u1006\u102F\u1036\u1038\u101E\u102D\u102F\u1037",forward:"\u101B\u103E\u1031\u1037\u1010\u1005\u103A\u1006\u1004\u103A\u1037",backward:"\u1014\u1031\u102C\u1000\u103A\u1010\u1005\u103A\u1006\u1004\u103A\u1037",back:"\u1014\u1031\u102C\u1000\u103A\u1006\u102F\u1036\u1038\u101E\u102D\u102F\u1037",language:"\u1018\u102C\u101E\u102C\u1005\u1000\u102C\u1038","translation.link":"\u1015\u102D\u102F\u1019\u102D\u102F\u104D \u101C\u1031\u1037\u101C\u102C\u101B\u1014\u103A","dock.position":"\u1000\u102D\u101B\u102D\u101A\u102C \u1021\u1014\u1031\u1021\u1011\u102C\u1038",bottom:"\u1021\u1031\u102C\u1000\u103A",left:"\u1018\u101A\u103A",right:"\u100A\u102C",top:"\u1011\u102D\u1015\u103A",page:"\u1005\u102C\u1019\u103B\u1000\u103A\u1014\u103E\u102C","keyboard.shortcuts":"Keyboard shortcuts",search:"\u101B\u103E\u102C\u1016\u103D\u1031\u101B\u1014\u103A",loading:"\u1001\u100F\u1005\u1031\u102C\u1004\u103A\u1037\u1015\u1031\u1038\u101B\u1014\u103A{dots}","export.background":"\u1014\u1031\u102C\u1000\u103A\u1001\u1036 \u1011\u102F\u1010\u103A\u101A\u1030\u1019\u100A\u103A",transparent:"\u1014\u1031\u102C\u1000\u103A\u1001\u1036 \u1021\u1000\u103C\u100A\u103A",auto:"Auto",light:"\u1021\u101C\u1004\u103A\u1038",dark:"\u1021\u1019\u103E\u1031\u102C\u1004\u103A",github:"Github",twitter:"Twitter",discord:"Discord",image:"\u1013\u102C\u1010\u103A\u1015\u102F\u1036","align.left":"\u1018\u101A\u103A\u1016\u1000\u103A\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A","align.center.x":"\u1021\u101C\u103B\u102C\u1038\u101C\u102D\u102F\u1000\u103A \u1017\u101F\u102D\u102F\u1006\u102E\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A","align.right":"\u100A\u102C\u1016\u1000\u103A\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A","align.top":"\u1021\u1015\u1031\u102B\u103A\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A","align.center.y":"\u1012\u1031\u102B\u1004\u103A\u101C\u102D\u102F\u1000\u103A \u1017\u101F\u102D\u102F\u1006\u102E\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A","align.bottom":"\u1021\u1031\u102C\u1000\u103A\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A","distribute.x":"\u1021\u101C\u103B\u102C\u1038\u101C\u102D\u102F\u1000\u103A \u1016\u103C\u1014\u103A\u1037\u101B\u1014\u103A","distribute.y":"\u1012\u1031\u102B\u1004\u103A\u101C\u102D\u102F\u1000\u103A \u1016\u103C\u1014\u103A\u1037\u101B\u1014\u103A","stretch.x":"\u1021\u101C\u103B\u102C\u1038\u101C\u102D\u102F\u1000\u103A \u1006\u103D\u1032\u1006\u1014\u103A\u1037\u101B\u1014\u103A","stretch.y":"\u1012\u1031\u102B\u1004\u103A\u101C\u102D\u102F\u1000\u103A \u1006\u103D\u1032\u1006\u1014\u103A\u1037\u101B\u1014\u103A","dialog.save.firsttime":"\u101A\u1001\u102F \u1015\u101B\u1031\u102C\u1002\u103B\u1000\u103A\u1000\u102D\u102F \u101E\u102D\u1019\u103A\u1038\u1006\u100A\u103A\u101C\u102D\u102F\u1015\u102B\u101E\u101C\u102C\u1038 ?","dialog.save.again":"\u101A\u1001\u102F \u1015\u101B\u1031\u102C\u1002\u103B\u1000\u103A\u1010\u103D\u1004\u103A \u1015\u103C\u1004\u103A\u1011\u102C\u1038\u101E\u1031\u102C \u1021\u1015\u103C\u1031\u102C\u1004\u103A\u1038\u1021\u101C\u100A\u103A\u1019\u103B\u102C\u1038\u1000\u102D\u102F \u1021\u1010\u100A\u103A\u1015\u103C\u102F \u101E\u102D\u1019\u103A\u1038\u1006\u100A\u103A\u101C\u102D\u102F\u1015\u102B\u101E\u101C\u102C\u1038?","dialog.cancel":"\u1018\u102C\u1019\u103E \u1019\u101C\u102F\u1015\u103A\u1010\u1031\u102C\u1037\u1015\u102B","dialog.no":"\u1019\u101C\u102D\u102F\u1010\u1031\u102C\u1037\u1015\u102B","dialog.yes":"\u101C\u102D\u102F\u1015\u102B\u101E\u100A\u103A","enter.file.name":"\u1016\u102D\u102F\u1004\u103A\u1014\u102C\u1019\u100A\u103A \u1011\u100A\u103A\u1037\u101E\u103D\u1004\u103A\u1038\u101B\u1014\u103A","tldraw-beta":"tldraw \u1021\u101E\u1005\u103A\u1005\u1019\u103A\u1038\u101E\u102F\u1036\u1038\u1000\u103C\u100A\u103A\u1037\u101B\u1014\u103A"};var el={"style.menu.color":"Farge","style.menu.fill":"Fyll","style.menu.dash":"Linje","style.menu.size":"St\xF8rrelse","style.menu.keep.open":"Hold \xE5pen","style.menu.font":"Teksttype","style.menu.align":"Juster",styles:"Stiler","zoom.in":"Zoom inn","zoom.out":"Zoom ut",to:"til","menu.file":"Fil","menu.edit":"Rediger","menu.view":"Vis","menu.preferences":"Preferanser","menu.sign.in":"Logg inn","menu.sign.out":"Logg ut","become.a.sponsor":"Bli en sponsor","zoom.to.selection":"Zoom til valg","zoom.to.fit":"Zoom for \xE5 passe","zoom.to":"Zoom til","preferences.dark.mode":"M\xF8rk modus","preferences.focus.mode":"Fokus modus","preferences.debug.mode":"Debug modus","preferences.show.grid":"Vis rutenett","preferences.use.cad.selection":"Bruk CAD seleksjon","preferences.keep.stylemenu.open":"Hold stilmeny \xE5pen","preferences.always.show.snaps":"Vis alltid snaps","preferences.rotate.handles":"Vis roteringsh\xE5ndtak","preferences.binding.handles":"Vis bindingsh\xE5ndtak","preferences.clone.handles":"Vis kloningsh\xE5ndtak",undo:"Angre",redo:"Gj\xF8r om",cut:"Klipp ut",copy:"Kopier",paste:"Lim inn","copy.as":"Kopier som","export.as":"Eksporter som","select.all":"Velg alle","select.none":"Velg ingen",delete:"Slett","new.project":"Nytt prosjekt",open:"\xC5pne",save:"Lagre","save.as":"Lagre som","upload.media":"Last opp media","create.page":"Opprett side","new.page":"Ny side","page.name":"Sidenavn",duplicate:"Dupliser",cancel:"Avbryt","copy.invite.link":"Kopier invitasjonslink","create.multiplayer.project":"Opprett et flerspiller prosjekt","copy.multiplayer.project":"Kopier til flerspiller prosjekt",select:"Velg",eraser:"Viskel\xE6r",draw:"Tegn",arrow:"Pil",text:"Tekst",sticky:"Lapp",rectangle:"Rektangel",ellipse:"Ellipse",triangle:"Trekant",line:"Linje",rotate:"Roter","lock.aspect.ratio":"L\xE5s st\xF8rrelsesforhold","unlock.aspect.ratio":"L\xE5s opp st\xF8rrelsesforhold",group:"Grupper",ungroup:"Avgrupper","move.to.back":"Flytt bakerst","move.backward":"Flytt bakover","move.forward":"Flytt forover","move.to.front":"Flytt til front","reset.angle":"Tilbakestill vinkel",lock:"L\xE5s",unlock:"L\xE5s opp","move.to.page":"Flytt til side","flip.horizontal":"Snu horisontalt","flip.vertical":"Snu vertikalt",move:"Flytt","to.front":"Foran",forward:"Framover",backward:"Bakover",back:"Bakerst",language:"Spr\xE5k"};var tl={"style.menu.color":"\u0930\u0902\u0917","style.menu.fill":"\u092D\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","style.menu.dash":"\u0927\u0930\u094D\u0915\u093E","style.menu.size":"\u0906\u0915\u093E\u0930","style.menu.keep.open":"\u0916\u0941\u0932\u093E \u0930\u093E\u0916\u094D\u0928\u0941\u0939\u094B\u0938\u094D","style.menu.font":"\u092B\u0928\u094D\u091F","style.menu.align":"\u092A\u0919\u094D\u0915\u094D\u0924\u093F\u092C\u0926\u094D\u0927",styles:"\u0936\u0948\u0932\u0940\u0939\u0930\u0942","zoom.in":"\u091C\u0941\u092E \u0907\u0928","zoom.out":"\u091C\u0941\u092E \u0906\u0909\u091F",to:"\u091F\u0941","menu.file":"\u092B\u093E\u0907\u0932","menu.edit":"\u0938\u092E\u094D\u092A\u093E\u0926\u0928 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","menu.view":"\u092D\u094D\u092F\u0942","menu.preferences":"\u092A\u094D\u0930\u093E\u0925\u092E\u093F\u0915\u0924\u093E\u0939\u0930\u0942","menu.sign.in":"\u0938\u093E\u0907\u0928 \u0907\u0928 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","menu.sign.out":"\u0938\u093E\u0907\u0928 \u0906\u0909\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","become.a.sponsor":"\u092A\u094D\u0930\u093E\u092F\u094B\u091C\u0915 \u092C\u0928\u094D\u0928\u0941\u0939\u094B\u0938\u094D","zoom.to.selection":"\u091C\u0941\u092E \u091F\u0941 \u0938\u0947\u0932\u0947\u0915\u094D\u0938\u0928","zoom.to.fit":"\u091C\u0941\u092E \u091F\u0941 \u092B\u093F\u091F","zoom.to":"\u091C\u0941\u092E \u091F\u0941","preferences.dark.mode":"\u0905\u0901\u0927\u094D\u092F\u093E\u0930\u094B \u092E\u094B\u0921","preferences.focus.mode":"\u092B\u094B\u0915\u0938 \u092E\u094B\u0921","preferences.debug.mode":"\u0921\u093F\u092C\u0917 \u092E\u094B\u0921","preferences.show.grid":"\u0917\u094D\u0930\u093F\u0921 \u0926\u0947\u0916\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D","preferences.use.cad.selection":"CAD \u0938\u0947\u0932\u0947\u0915\u094D\u0938\u0928 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","preferences.keep.stylemenu.open":"\u0938\u094D\u091F\u093E\u0907\u0932 \u092E\u0947\u0928\u0941 \u0916\u0941\u0932\u093E \u0930\u093E\u0916\u094D\u0928\u0941\u0939\u094B\u0938\u094D","preferences.always.show.snaps":"\u0938\u0927\u0948\u0901 \u0938\u094D\u0928\u094D\u092F\u093E\u092A\u0939\u0930\u0942 \u0926\u0947\u0916\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D","preferences.rotate.handles":"\u0939\u094D\u092F\u093E\u0928\u094D\u0921\u0932\u0939\u0930\u0942 \u0918\u0941\u092E\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D","preferences.binding.handles":"\u092C\u093E\u0907\u0928\u094D\u0921\u093F\u0919 \u0939\u094D\u092F\u093E\u0928\u094D\u0921\u0932\u0939\u0930\u0942","preferences.clone.handles":"\u0915\u094D\u0932\u094B\u0928 \u0939\u094D\u092F\u093E\u0928\u094D\u0921\u0932\u0939\u0930\u0942",undo:"\u092A\u0942\u0930\u094D\u0935\u0935\u0924 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",redo:"\u092A\u0941\u0928\u0903 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",cut:"\u0915\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",copy:"\u0915\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",paste:"\u092A\u0947\u0938\u094D\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","copy.as":"\u0915\u092A\u093F \u090F\u091C","export.as":"\u090F\u0915\u094D\u0938\u092A\u094B\u0930\u094D\u091F \u090F\u091C","select.all":"\u0938\u092C\u0948 \u091B\u093E\u0928\u094D\u0928\u0941\u0939\u094B\u0938\u094D","select.none":"\u0915\u0947\u0939\u093F \u092A\u0928\u093F \u0938\u0947\u0932\u0947\u0915\u094D\u091F \u0928\u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",delete:"\u092E\u0947\u091F\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D","new.project":"\u0928\u092F\u093E\u0901 \u092A\u0930\u093F\u092F\u094B\u091C\u0928\u093E",open:"\u0916\u094B\u0932\u094D\u0928\u0941\u0939\u094B\u0938\u094D",save:"\u0938\u0941\u0930\u0915\u094D\u0937\u093F\u0924 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","save.as":"\u0938\u0947\u092D \u090F\u091C","upload.media":"\u092E\u093F\u0921\u093F\u092F\u093E \u0905\u092A\u0932\u094B\u0921 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","create.page":"\u092A\u0943\u0937\u094D\u0920 \u0938\u093F\u0930\u094D\u091C\u0928\u093E \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","new.page":"\u0928\u092F\u093E\u0901 \u092A\u0943\u0937\u094D\u0920 \u0938\u093F\u0930\u094D\u091C\u0928\u093E \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","page.name":"\u092A\u0943\u0937\u094D\u0920\u0915\u094B \u0928\u093E\u092E",duplicate:"\u0905\u0928\u0941\u0932\u093F\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",cancel:"\u0930\u0926\u094D\u0926 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","copy.invite.link":"\u0928\u093F\u092E\u0928\u094D\u0924\u094D\u0930\u0923\u093E \u0932\u093F\u0919\u094D\u0915 \u0915\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","create.multiplayer.project":"\u092E\u0932\u094D\u091F\u093F\u092A\u094D\u0932\u0947\u092F\u0930 \u092A\u0930\u093F\u092F\u094B\u091C\u0928\u093E \u0938\u093F\u0930\u094D\u091C\u0928\u093E \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","copy.multiplayer.project":"\u092E\u0932\u094D\u091F\u093F\u092A\u094D\u0932\u0947\u092F\u0930 \u092A\u094D\u0930\u094B\u091C\u0947\u0915\u094D\u091F\u092E\u093E \u0915\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",select:"\u0938\u0947\u0932\u0947\u0915\u094D\u091F",eraser:"\u0907\u0930\u0947\u091C\u0930",draw:"\u091A\u093F\u0924\u094D\u0930 \u092C\u0928\u093E\u0909\u0928\u0941",arrow:"\u0924\u0940\u0930",text:"\u0936\u092C\u094D\u0926",sticky:"\u091F\u093E\u0901\u0938\u093F\u0928\u0947",rectangle:"\u0906\u092F\u0924",ellipse:"\u0926\u0940\u0930\u094D\u0918\u0935\u0943\u0924\u094D\u0924",triangle:"\u0924\u094D\u0930\u093F\u092D\u0941\u091C",line:"\u0930\u0947\u0916\u093E",rotate:"\u0918\u0941\u092E\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D","lock.aspect.ratio":"\u0906\u0915\u093E\u0930 \u0905\u0928\u0941\u092A\u093E\u0924 \u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","unlock.aspect.ratio":"\u0906\u0915\u093E\u0930 \u0905\u0928\u0941\u092A\u093E\u0924 \u0905\u0928\u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",group:"\u0938\u092E\u0942\u0939",ungroup:"\u0938\u092E\u0942\u0939 \u0930\u0926\u094D\u0926 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","move.to.back":"\u092A\u091B\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","move.backward":"\u0925\u092A \u092A\u091B\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","move.forward":"\u0905\u0917\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","move.to.front":"\u0925\u092A \u0905\u0917\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","reset.angle":"\u0915\u094B\u0923 \u0930\u093F\u0938\u0947\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",lock:"\u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",unlock:"\u0905\u0928\u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","move.to.page":"\u092A\u0943\u0937\u094D\u0920\u092E\u093E \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","flip.horizontal":"\u0924\u0947\u0930\u094D\u0938\u094B \u092B\u094D\u0932\u093F\u092A \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","flip.vertical":"\u0920\u093E\u0921\u094B \u092B\u094D\u0932\u093F\u092A \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",move:"\u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D","to.front":"\u0925\u092A \u0905\u0917\u093E\u0921\u093F",forward:"\u0905\u0917\u093E\u0921\u093F",backward:"\u092A\u091B\u093E\u0921\u093F",back:"\u0925\u092A \u092A\u091B\u093E\u0921\u093F",language:"\u092D\u093E\u0937\u093E"};var nl={"style.menu.color":"Farge","style.menu.fill":"Fyll","style.menu.dash":"Line","style.menu.size":"Storleik","style.menu.keep.open":"Hald open","style.menu.font":"Teksttype","style.menu.align":"Tilpass",styles:"Stilar","zoom.in":"Zoom inn","zoom.out":"Zoom ut",to:"til","menu.file":"Fil","menu.edit":"Rediger","menu.view":"Vis","menu.preferences":"Innstillingar","menu.sign.in":"Logg inn","menu.sign.out":"Logg ut","become.a.sponsor":"Vert sponsor","zoom.to.content":"Zoom til innhald","zoom.to.selection":"Zoom til valte element","zoom.to.fit":"Zoom for \xE5 passe","zoom.to":"Zoom til","preferences.dark.mode":"M\xF8rkmodus","preferences.focus.mode":"Fokusmodus","preferences.debug.mode":"Debugmodus","preferences.show.grid":"Vis rutenett","preferences.use.cad.selection":"Bruk CAD-val","preferences.keep.stylemenu.open":"Hald stilmeny open","preferences.always.show.snaps":"Vis alltid snaps","preferences.rotate.handles":"Vis roteringshandtak","preferences.binding.handles":"Vis bindingshandtak","preferences.clone.handles":"Vis kloningshandtak",undo:"Angre",redo:"Gjer om",cut:"Klipp ut",copy:"Kopier",paste:"Lim inn","copy.as":"Kopier som","export.as":"Eksporter som","select.all":"Vel alle","select.none":"Vel ingen",delete:"Slett","new.project":"Nytt prosjekt",open:"Opne",save:"Lagre","save.as":"Lagre som","upload.media":"Last opp media","create.page":"Opprett side","new.page":"Ny side","page.name":"Sidenamn",duplicate:"Dupliser",cancel:"Avbryt","copy.invite.link":"Kopier invitasjonslenke","copy.readonly.link":"Kopier invitasjonslenke (skrivebeskytta)","create.multiplayer.project":"Lag samarbeidsprosjekt","copy.multiplayer.project":"Kopier til samarbeidsprosjekt",select:"Vel",eraser:"Viskel\xEAr",draw:"Teikn",arrow:"Pil",text:"Tekst",sticky:"Lapp",rectangle:"Rektangel",ellipse:"Runding",triangle:"Trekant",line:"Line",rotate:"Roter","lock.aspect.ratio":"L\xE5s storleiksforhold","unlock.aspect.ratio":"L\xE5s opp storleiksforhold",group:"Grupper",ungroup:"Avgrupper","move.to.back":"Flytt bakarst","move.backward":"Flytt bakover","move.forward":"Flytt framover","move.to.front":"Flytt til front","reset.angle":"Tilbakestill vinkel",lock:"L\xE5s",unlock:"L\xE5s opp","move.to.page":"Flytt til side","flip.horizontal":"Snu horisontalt","flip.vertical":"Snu vertikalt",move:"Flytt","to.front":"Framme",forward:"Framover",backward:"Bakover",back:"Bakarst",language:"Spr\xE5k","translation.link":"Les meir","dock.position":"Dokkplassering",bottom:"Nede",left:"Venstre",right:"H\xF8gre",top:"Oppe",page:"Side","keyboard.shortcuts":"Sn\xF8ggtastar",search:"S\xF8k",loading:"Lastar{dots}","export.background":"Eksporter bakgrunn",transparent:"Gjennomsiktig",auto:"Auto",light:"Lys",dark:"M\xF8rk",github:"Github",twitter:"Twitter",discord:"Discord",image:"Bilete","align.left":"Venstrestill","align.center.x":"Midtstill horisontalt","align.right":"H\xF8grestill","align.top":"Still til toppen","align.center.y":"Midtstill vertikalt","align.bottom":"Still til botnen","distribute.x":"Distribuer horisontalt","distribute.y":"Distribuer vertikalt","stretch.x":"Strekk horisontalt","stretch.y":"Strekk vertikalt","dialog.save.firsttime":"Vil du lagre det noverande prosjektet ditt?","dialog.save.again":"Vil du lagre endringane i det noverande prosjektet ditt?","dialog.cancel":"Avbryt","dialog.no":"Nei","dialog.yes":"Ja","enter.file.name":"Fyll inn filnamn","tldraw-beta":"Pr\xF8v den nye tldraw",white:"Kvit",lightGray:"Lys gr\xE5",gray:"Gr\xE5",black:"Svart",green:"Gr\xF8n",cyan:"Cyan",blue:"Bk\xE5",indigo:"Indigo",violet:"Fiol",red:"Raud",orange:"Oransj",yellow:"Gul",solid:"Heil",dashed:"Stipla",dotted:"Prikka",small:"Liten",medium:"Mellomstor",large:"Stor"};var ol={"style.menu.color":"Kolor","style.menu.fill":"Wype\u0142nienie","style.menu.dash":"Linia","style.menu.size":"Rozmiar","style.menu.keep.open":"Zachowaj otwarte","style.menu.font":"Czcionka","style.menu.align":"Wyr\xF3wnanie",styles:"Style","zoom.in":"Przybli\u017C","zoom.out":"Oddal",to:"do","menu.file":"Plik","menu.edit":"Edycja","menu.view":"Widok","menu.preferences":"Preferencje","menu.sign.in":"Zaloguj","menu.sign.out":"Wyloguj","become.a.sponsor":"Zosta\u0144 sponsorem","zoom.to.selection":"Przybli\u017C do zaznaczenia","zoom.to.fit":"Wype\u0142nij ekran","zoom.to":"Przybli\u017C do","preferences.dark.mode":"Tryb ciemny","preferences.focus.mode":"Tryb skupienia","preferences.debug.mode":"Tryb debugowania","preferences.show.grid":"Poka\u017C siatk\u0119","preferences.use.cad.selection":"U\u017Cyj zaznaczania CAD","preferences.keep.stylemenu.open":"Zachowaj menu styli otwarte","preferences.always.show.snaps":"Przyci\u0105gaj obiekty","preferences.rotate.handles":"Uchwyty obrotu","preferences.binding.handles":"Uchwyty powi\u0105zania","preferences.clone.handles":"Uchwyty klonuj\u0105ce",undo:"Cofnij",redo:"Powt\xF3rz",cut:"Wytnij",copy:"Kopiuj",paste:"Wklej","copy.as":"Kopiuj jako","export.as":"Eksportuj jako","select.all":"Zaznacz wszystko","select.none":"Odznacz wszystko",delete:"Usu\u0144","new.project":"Nowy projekt",open:"Otw\xF3rz",save:"Zapisz","save.as":"Zapisz jako","upload.media":"Za\u0142aduj multimedia","create.page":"Utw\xF3rz stron\u0119","new.page":"Nowa strona","page.name":"Nazwa strony",duplicate:"Powiel",cancel:"Anuluj","copy.invite.link":"Kopiuj link zaproszenia","create.multiplayer.project":"Stw\xF3rz projekt wieloosobowy","copy.multiplayer.project":"Kopiuj do projektu wieloosobowego",select:"Zaznacz",eraser:"Gumka",draw:"Rysuj",arrow:"Strza\u0142ka",text:"Tekst",sticky:"Naklejka",rectangle:"Prostok\u0105t",ellipse:"Elipsa",triangle:"Tr\xF3jk\u0105t",line:"Linia",rotate:"Obr\xF3\u0107","lock.aspect.ratio":"Zablokuj proporcje","unlock.aspect.ratio":"Odblokuj proporcje",group:"Grupuj",ungroup:"Rozgrupuj","move.to.back":"Przenie\u015B na ty\u0142","move.backward":"Przesu\u0144 do ty\u0142u","move.forward":"Przesu\u0144 do przodu","move.to.front":"Przenie\u015B na prz\xF3d","reset.angle":"Resetuj k\u0105t",lock:"Zablokuj",unlock:"Odblokuj","move.to.page":"Przenie\u015B na stron\u0119","flip.horizontal":"Odwr\xF3\u0107 w poziomie","flip.vertical":"Odwr\xF3\u0107 w pionie",move:"Przenie\u015B","to.front":"Na wierzch",forward:"Do przodu",backward:"Do ty\u0142u",back:"Na sp\xF3d",language:"J\u0119zyk","translation.link":"Czytaj wi\u0119cej","dock.position":"Pozycja przybornika",bottom:"D\xF3\u0142",left:"Lewa",right:"Prawa",top:"G\xF3ra",page:"Strona","keyboard.shortcuts":"Skr\xF3ty klawiszowe",search:"Szukaj",loading:"\u0141adowanie{dots}","export.background":"Eksportuj t\u0142o",transparent:"Przezroczyste",auto:"Automatyczny",light:"Jasny",dark:"Ciemny",github:"Github",twitter:"Twitter",discord:"Discord",image:"Obraz","align.left":"Wyr\xF3wnaj do lewej","align.center.x":"Wycentruj poziomo","align.right":"Wyr\xF3wnaj do prawej","align.top":"Wyr\xF3wnaj do g\xF3ry","align.center.y":"Wycentruj pionowo","align.bottom":"Wyr\xF3wnaj do do\u0142u","distribute.x":"Roz\u0142\xF3\u017C poziomo","distribute.y":"Roz\u0142\xF3\u017C pionowo","stretch.x":"Rozci\u0105gnij poziomo","stretch.y":"Rozci\u0105gnij pionowo","dialog.save.firsttime":"Czy chcesz zapisa\u0107 bie\u017C\u0105cy projekt?","dialog.save.again":"Czy chcesz zapisa\u0107 zmiany w bie\u017C\u0105cym projekcie?","dialog.cancel":"Anuluj","dialog.no":"Nie","dialog.yes":"Tak","enter.file.name":"Podaj nazw\u0119 pliku","tldraw-beta":"Wypr\xF3buj nowy tldraw"};var rl={"style.menu.color":"Cor","style.menu.fill":"Preencher","style.menu.dash":"Tra\xE7o","style.menu.size":"Tamanho","style.menu.keep.open":"Manter aberto","style.menu.font":"Fonte","style.menu.align":"Alinhamento",styles:"Estilos","zoom.in":"Aumentar zoom","zoom.out":"Diminuir zoom",to:"para","menu.file":"Arquivo","menu.edit":"Editar","menu.view":"Visualizar","menu.preferences":"Prefer\xEAncias","menu.sign.in":"Entrar","menu.sign.out":"Sair","become.a.sponsor":"Torne-se um patrocinador","zoom.to.selection":"Zoom para a sele\xE7\xE3o","zoom.to.fit":"Zoom para ajuste","zoom.to":"Zoom para","preferences.dark.mode":"Modo Escuro","preferences.focus.mode":"Modo Foco","preferences.debug.mode":"Modo Debug","preferences.show.grid":"Mostrar Grade","preferences.use.cad.selection":"Usar sele\xE7\xE3o CAD","preferences.keep.stylemenu.open":"Manter Menu de Estilos Aberto","preferences.always.show.snaps":"Mostrar Pontos de Ajuste","preferences.rotate.handles":"Controle de Rota\xE7\xE3o","preferences.binding.handles":"Controle de V\xEDnculos","preferences.clone.handles":"Controle de Clone",undo:"Desfazer",redo:"Refazer",cut:"Cortar",copy:"Copiar",paste:"Colar","copy.as":"Copiar como","export.as":"Exportar como","select.all":"Selecionar todos","select.none":"Selecionar nenhum",delete:"Deletar","new.project":"Novo Projeto",open:"Abrir",save:"Salvar","save.as":"Salvar Como","upload.media":"Carregar M\xEDdia",page:"P\xE1gina",search:"Procurar",loading:"Carregando{dots}","export.background":"Exportar Fundo",transparent:"Transparente",auto:"Autom\xE1tico",light:"Claro",dark:"Escuro","menu.tools":"Ferramentas","menu.transform":"Transformar","zoom.to.content":"Voltar ao Conte\xFAdo","translation.link":"Saiba Mais","copy.readonly.link":"Copiar Link ReadOnly","align.distribute":"Alinhar / Distribuir","create.page":"Criar P\xE1gina","new.page":"Nova P\xE1gina","page.name":"Nome da P\xE1gina",duplicate:"Duplicar",cancel:"Cancelar","copy.invite.link":"Copiar Link de Convite","create.multiplayer.project":"Criar um Projeto Multijogador","copy.multiplayer.project":"Copiar para Projeto Multijogador",select:"Selecionar",eraser:"Borracha",draw:"Desenhar",arrow:"Seta",text:"Texto",sticky:"Adesivo",rectangle:"Ret\xE2ngulo",ellipse:"Elipse",triangle:"Tri\xE2ngulo",line:"Linha",rotate:"Rotacionar","lock.aspect.ratio":"Travar Propor\xE7\xE3o da Tela","unlock.aspect.ratio":"Destravar Propor\xE7\xE3o da Tela",group:"Agrupar",ungroup:"Desagrupar","move.to.back":"Recuar","move.backward":"Enviar para Tr\xE1s","move.forward":"Avan\xE7ar","move.to.front":"Trazer para Frente","reset.angle":"Reiniciar \xC2ngulo",lock:"Travar",unlock:"Destravar","move.to.page":"Mover para P\xE1gina","flip.horizontal":"Virar Horizontalmente","flip.vertical":"Virar Verticalmente",move:"Mover","to.front":"Para Frente",forward:"Avan\xE7ar",backward:"Recuar",back:"Voltar",language:"Idioma",image:"Imagem","keyboard.shortcuts":"Atalhos de Teclado","dock.position":"Posi\xE7\xE3o de Ferramentas",bottom:"Inferior",top:"Superior",right:"Direita",left:"Esquerda","align.left":"Alinhar \xE0 esquerda","align.center.x":"Alinhar ao centro na horizontal","align.right":"Alinhar \xE0 direita","align.top":"Alinhas em cima","align.center.y":"Alinhar ao centro na vertical","align.bottom":"Alinhar embaixo","distribute.x":"Distruibuir na horizontal","distribute.y":"Distruibuir na vertical","stretch.x":"Esticar na horizontal","stretch.y":"Esticar na vertical","dialog.save.firsttime":"Voc\xEA deseja salvar seu projeto atual?","dialog.save.again":"Voc\xEA deseja salvar as mudan\xE7as ao projeto atual?","dialog.cancel":"Cancelar","dialog.no":"N\xE3o","dialog.yes":"Sim","enter.file.name":"Insira o nome do arquivo"};var sl={"style.menu.color":"Cor","style.menu.fill":"Preencher","style.menu.dash":"Tra\xE7o","style.menu.size":"Tamanho","style.menu.keep.open":"Manter aberto","style.menu.font":"Fonte","style.menu.align":"Alinhamento",styles:"Estilos","zoom.in":"Aumentar zoom","zoom.out":"Diminuir zoom",to:"para","menu.file":"Ficheiro","menu.edit":"Editar","menu.view":"Visualizar","menu.preferences":"Prefer\xEAncias","menu.sign.in":"Entrar","menu.sign.out":"Sair","become.a.sponsor":"Torne-se um patrocinador","zoom.to.selection":"Zoom na sele\xE7\xE3o","zoom.to.fit":"Zoom para caber","zoom.to":"Zoom para","preferences.dark.mode":"Modo Escuro","preferences.focus.mode":"Modo Foco","preferences.debug.mode":"Modo Debug","preferences.show.grid":"Mostrar Grelha","preferences.use.cad.selection":"Usar sele\xE7\xE3o CAD","preferences.keep.stylemenu.open":"Manter Menu de Estilos Aberto","preferences.always.show.snaps":"Mostrar Pontos de Ajuste","preferences.rotate.handles":"Controlo de Rota\xE7\xE3o","preferences.binding.handles":"Controlo de Binds","preferences.clone.handles":"Controlo de Clone",undo:"Desfazer",redo:"Refazer",cut:"Cortar",copy:"Copiar",paste:"Colar","copy.as":"Copiar como","export.as":"Exportar como","select.all":"Selecionar todos","select.none":"Selecionar nenhum",delete:"Apagar","new.project":"Novo Projeto",open:"Abrir",save:"Salvar","save.as":"Salvar Como","upload.media":"Upload M\xE9dia","create.page":"Criar P\xE1gina","new.page":"Nova P\xE1gina","page.name":"Nome da P\xE1gina",duplicate:"Duplicar",cancel:"Cancelar","copy.invite.link":"Copiar Link de Convite","create.multiplayer.project":"Criar um Projeto Multi-Utilizador","copy.multiplayer.project":"Copiar num Projeto Multi-Utilizador",select:"Selecionar",eraser:"Borracha",draw:"Desenhar",arrow:"Seta",text:"Texto",sticky:"Post-it",rectangle:"Ret\xE2ngulo",ellipse:"Elipse",triangle:"Tri\xE2ngulo",line:"Linha",rotate:"Rodar","lock.aspect.ratio":"Trancar a Propor\xE7\xE3o","unlock.aspect.ratio":"Destrancar a Propor\xE7\xE3o",group:"Agrupar",ungroup:"Desagrupar","move.to.back":"Colocar no Fundo","move.backward":"Mover abaixo","move.forward":"Mover acima","move.to.front":"Colocar \xE0 Frente","reset.angle":"Reiniciar \xC2ngulo",lock:"Trancar",unlock:"Destrancar","move.to.page":"Mover para P\xE1gina","flip.horizontal":"Inverter Horizontalmente","flip.vertical":"Inverter Verticalmente",move:"Mover","to.front":"Para Frente",forward:"Avan\xE7ar",backward:"Recuar",back:"Voltar",language:"L\xEDngua"};var il={"style.menu.color":"\u0426\u0432\u0435\u0442","style.menu.fill":"\u0417\u0430\u043F\u043E\u043B\u043D\u044F\u0442\u044C","style.menu.dash":"\u0428\u0442\u0440\u0438\u0445","style.menu.size":"\u0420\u0430\u0437\u043C\u0435\u0440","style.menu.keep.open":"\u0414\u0435\u0440\u0436\u0430\u0442\u044C \u043E\u0442\u043A\u0440\u044B\u0442\u044B\u043C","style.menu.font":"\u0428\u0440\u0438\u0444\u0442","style.menu.align":"\u0412\u044B\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u043D\u0438\u0435",styles:"\u0421\u0442\u0438\u043B\u044C","zoom.in":"\u0423\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C","zoom.out":"\u0423\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C",to:"\u043A","menu.tools":"\u0418\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u044B","menu.transform":"\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0435","menu.file":"\u0424\u0430\u0439\u043B","menu.edit":"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435","menu.view":"\u0412\u0438\u0434","menu.preferences":"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438","menu.sign.in":"\u0412\u043E\u0439\u0442\u0438","menu.sign.out":"\u0412\u044B\u0439\u0442\u0438","become.a.sponsor":"\u0421\u0442\u0430\u0442\u044C \u0441\u043F\u043E\u043D\u0441\u043E\u0440\u043E\u043C","zoom.to.content":"\u0412\u0435\u0440\u043D\u0443\u0442\u044C\u0441\u044F \u043A \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u043E\u043C\u0443","zoom.to.selection":"\u041C\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u044E","zoom.to.fit":"\u041C\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E \u0440\u0430\u0437\u043C\u0435\u0440\u0443 \u044D\u043A\u0440\u0430\u043D\u0430","zoom.to":"\u041C\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A","preferences.dark.mode":"\u0422\u0451\u043C\u043D\u0430\u044F \u0442\u0435\u043C\u0430","preferences.focus.mode":"\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u0438\u0441\u0442\u0438\u0447\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C","preferences.debug.mode":"\u0420\u0435\u0436\u0438\u043C \u043E\u0442\u043B\u0430\u0434\u043A\u0438","preferences.show.grid":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0441\u0435\u0442\u043A\u0443","preferences.use.cad.selection":"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C CAD \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435","preferences.keep.stylemenu.open":"\u0414\u0435\u0440\u0436\u0430\u0442\u044C \u043C\u0435\u043D\u044E \u0441\u0442\u0438\u043B\u0435\u0439 \u043E\u0442\u043A\u0440\u044B\u0442\u044B\u043C","preferences.always.show.snaps":"\u0412\u0441\u0435\u0433\u0434\u0430 \u043F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u0440\u0438\u0432\u044F\u0437\u043A\u0438","preferences.rotate.handles":"\u0420\u0443\u0447\u043A\u0438 \u0432\u0440\u0430\u0449\u0435\u043D\u0438\u044F","preferences.binding.handles":"\u0420\u0443\u0447\u043A\u0438 \u043F\u0440\u0438\u0432\u044F\u0437\u043A\u0438","preferences.clone.handles":"\u0420\u0443\u0447\u043A\u0438 \u043A\u043B\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F",undo:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",redo:"\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C",cut:"\u0412\u044B\u0440\u0435\u0437\u0430\u0442\u044C",copy:"\u041A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",paste:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044C","copy.as":"\u041A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A\u0430\u043A","export.as":"\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A\u0430\u043A","select.all":"\u0412\u044B\u0434\u0435\u043B\u0438\u0442\u044C \u0432\u0441\u0451","select.none":"\u0421\u043D\u044F\u0442\u044C \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435",delete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C","new.project":"\u041D\u043E\u0432\u044B\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",open:"\u041E\u0442\u043A\u0440\u044B\u0442\u044C",save:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C","save.as":"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u043A\u0430\u043A","upload.media":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u043C\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043B","create.page":"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443","new.page":"\u041D\u043E\u0432\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430","page.name":"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B",duplicate:"\u0414\u0443\u0431\u043B\u0438\u0440\u043E\u0432\u0430\u0442\u044C",cancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C","copy.invite.link":"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u043F\u0440\u0438\u0433\u043B\u0430\u0448\u0435\u043D\u0438\u044F","copy.readonly.link":"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u0442\u043E\u043B\u044C\u043A\u043E \u0434\u043B\u044F \u0447\u0442\u0435\u043D\u0438\u044F","create.multiplayer.project":"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043C\u043D\u043E\u0433\u043E\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442","copy.multiplayer.project":"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432 \u043C\u043D\u043E\u0433\u043E\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",select:"\u0412\u044B\u0434\u0435\u043B\u0438\u0442\u044C",eraser:"\u041B\u0430\u0441\u0442\u0438\u043A",draw:"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C",arrow:"\u0421\u0442\u0440\u0435\u043B\u043A\u0430",text:"\u0422\u0435\u043A\u0441\u0442",sticky:"\u0417\u0430\u043C\u0435\u0442\u043A\u0430",rectangle:"\u041F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A",ellipse:"\u042D\u043B\u043B\u0438\u043F\u0441",triangle:"\u0422\u0440\u0435\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A",line:"\u041B\u0438\u043D\u0438\u044F",rotate:"\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u044C","lock.aspect.ratio":"\u0417\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043E\u043E\u0442\u043D\u043E\u0448\u0435\u043D\u0438\u0435 \u0441\u0442\u043E\u0440\u043E\u043D","unlock.aspect.ratio":"\u0420\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043E\u043E\u0442\u043D\u043E\u0448\u0435\u043D\u0438\u0435 \u0441\u0442\u043E\u0440\u043E\u043D",group:"\u0421\u0433\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",ungroup:"\u0420\u0430\u0437\u0433\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C","move.to.back":"\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430\u0437\u0430\u0434","move.backward":"\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430 \u0437\u0430\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D","move.forward":"\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u0432\u043F\u0435\u0440\u0451\u0434","move.to.front":"\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D","reset.angle":"\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u0443\u0433\u043E\u043B",lock:"\u0411\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C",unlock:"\u0420\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C","align.distribute":"\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C / \u0440\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C","move.to.page":"\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443","flip.horizontal":"\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E","flip.vertical":"\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",move:"\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C","to.front":"\u041D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",forward:"\u0412\u043F\u0435\u0440\u0435\u0434",backward:"\u041D\u0430 \u0437\u0430\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",back:"\u041D\u0430\u0437\u0430\u0434",language:"\u042F\u0437\u044B\u043A","translation.link":"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435","dock.position":"\u0420\u0430\u0441\u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u043F\u0430\u043D\u0435\u043B\u0438 \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u043E\u0432",bottom:"\u0421\u043D\u0438\u0437\u0443",left:"\u0421\u043B\u0435\u0432\u0430",right:"\u0421\u043F\u0440\u0430\u0432\u0430",top:"\u0421\u0432\u0435\u0440\u0445\u0443",page:"\u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430","keyboard.shortcuts":"\u0421\u043E\u0447\u0435\u0442\u0430\u043D\u0438\u044F \u043A\u043B\u0430\u0432\u0438\u0448",search:"\u041F\u043E\u0438\u0441\u043A",loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430","export.background":"\u042D\u043A\u0441\u043F\u043E\u0440\u0442 \u0444\u043E\u043D\u0430",transparent:"\u041F\u0440\u043E\u0437\u0440\u0430\u0447\u043D\u044B\u0439",auto:"\u0410\u0432\u0442\u043E",light:"\u0421\u0432\u0435\u0442\u043B\u044B\u0439",dark:"\u0422\u0451\u043C\u043D\u044B\u0439",image:"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435","align.left":"\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u043B\u0435\u0432\u043E\u043C\u0443 \u043A\u0440\u0430\u044E","align.center.x":"\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u0446\u0435\u043D\u0442\u0440\u0443 \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E","align.right":"\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u043F\u0440\u0430\u0432\u043E\u043C\u0443 \u043A\u0440\u0430\u044E","align.top":"\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u0432\u0435\u0440\u0445\u043D\u0435\u043C\u0443 \u043A\u0440\u0430\u044E","align.center.y":"\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u0446\u0435\u043D\u0442\u0440\u0443 \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E","align.bottom":"\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u043D\u0438\u0436\u043D\u0435\u043C\u0443 \u043A\u0440\u0430\u044E","distribute.x":"\u0420\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E","distribute.y":"\u0420\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E","stretch.x":"\u0420\u0430\u0441\u0442\u044F\u043D\u0443\u0442\u044C \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E","stretch.y":"\u0420\u0430\u0441\u0442\u044F\u043D\u0443\u0442\u044C \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",share:"\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F","copy.current.page.link":"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u043D\u0430 \u0442\u0435\u043A\u0443\u0449\u0443\u044E \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443","copy.project.link":"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u043D\u0430 \u043F\u0440\u043E\u0435\u043A\u0442","data.too.big.encoded":"\u0414\u0430\u043D\u043D\u044B\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0432\u0435\u043B\u0438\u043A\u0438, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u0434\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0438\u0445 \u0432 \u0441\u0441\u044B\u043B\u043A\u0435. \u041D\u0435 \u0432\u043A\u043B\u044E\u0447\u0430\u0439\u0442\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0438\u043B\u0438 \u0432\u0438\u0434\u0435\u043E!","dialog.save.firsttime":"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0442\u0435\u043A\u0443\u0449\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442?","dialog.save.again":"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0432 \u0442\u0435\u043A\u0443\u0449\u0435\u043C \u043F\u0440\u043E\u0435\u043A\u0442\u0435?","dialog.cancel":"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C","dialog.no":"\u041D\u0435\u0442","dialog.yes":"\u0414\u0430","enter.file.name":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043C\u044F \u0444\u0430\u0439\u043B\u0430"};var al={"style.menu.color":"F\xE4rg","style.menu.fill":"Ifylld","style.menu.dash":"Streck","style.menu.size":"Storlek","style.menu.keep.open":"H\xE5ll stilmenyn \xF6ppen","style.menu.font":"Typsnitt","style.menu.align":"Justera",styles:"Utseende","zoom.in":"Zooma in","zoom.out":"Zooma ut",to:"Till","menu.tools":"Verktyg","menu.transform":"Transform","menu.file":"Arkiv","menu.edit":"Redigera","menu.view":"Inneh\xE5ll","menu.preferences":"Inst\xE4llningar","menu.sign.in":"Logga in","menu.sign.out":"Logga ut","become.a.sponsor":"Bli en sponsor","zoom.to.content":"Anpassa zoom till inneh\xE5ll","zoom.to.selection":"Anpassa zoom till urval","zoom.to.fit":"Anpassa zoom till sk\xE4rm","zoom.to":"Zooma till","preferences.dark.mode":"M\xF6rkt l\xE4ge","preferences.focus.mode":"Fokusl\xE4ge","preferences.debug.mode":"Debugl\xE4ge","preferences.show.grid":"Visa rutn\xE4t","preferences.use.cad.selection":"V\xE4lj som i CAD-mjukvara","preferences.keep.stylemenu.open":"H\xE5ll stilmenyn \xF6ppen","preferences.always.show.snaps":"Visa alltid f\xE4stpunkter","preferences.rotate.handles":"Rotationshandtag","preferences.binding.handles":"Bindningshandtag","preferences.clone.handles":"Kloningshandtag",undo:"\xC5ngra",redo:"G\xF6r om",cut:"Klipp ut",copy:"Kopiera",paste:"Klistra in","copy.as":"Kopiera som","export.as":"Exportera till","select.all":"V\xE4lj alla","select.none":"V\xE4lj ingen",delete:"Radera","new.project":"Nytt projekt",open:"\xD6ppna",save:"Spara","save.as":"Spara som","upload.media":"Ladda upp media","create.page":"Skapa sida","new.page":"Ny sida","page.name":"Sidnamn",duplicate:"Duplicera",cancel:"Avbryt","copy.invite.link":"Kopiera l\xE4nk med redigeringsr\xE4ttigheter","copy.readonly.link":"Kopiera l\xE4nk med l\xE4sr\xE4ttigheter","create.multiplayer.project":"Skapa ett Multiplayer-projekt","copy.multiplayer.project":"Kopiera till Multiplayer-project",select:"V\xE4lj",eraser:"Radera",draw:"Rita",arrow:"Pil",text:"Text",sticky:"Klisterlapp",rectangle:"Rektangel",ellipse:"Ellips",triangle:"Triangel",line:"Linje",rotate:"Rotera","lock.aspect.ratio":"L\xE5s storleksf\xF6rh\xE5llande","unlock.aspect.ratio":"L\xE5s upp storleksf\xF6rh\xE5llande",group:"Gruppera",ungroup:"Avgruppera","move.to.back":"Placera l\xE4ngst bak","move.backward":"Flytta bak\xE5t","move.forward":"Flytta fram\xE5t","move.to.front":"Placera l\xE4ngst fram","reset.angle":"\xC5terst\xE4ll vinkel",lock:"L\xE5s",unlock:"L\xE5s upp","align.distribute":"Justera / Placera","move.to.page":"Flytta till sida","flip.horizontal":"V\xE4nd horisontellt","flip.vertical":"V\xE4nd vertikalt",move:"Flytta","to.front":"Till l\xE4ngst fram",forward:"Fram\xE5t",backward:"Bak\xE5t",back:"Till l\xE4ngst bak",language:"Spr\xE5k","translation.link":"Mer information","dock.position":"Dockningsposition",bottom:"Botten",left:"V\xE4nster",right:"H\xF6ger",top:"Topp",page:"Sida","keyboard.shortcuts":"Tangentbordsgenv\xE4gar",search:"S\xF6k",loading:"Laddar{dots}","export.background":"Exportbakgrund",transparent:"Transparent",auto:"Auto",light:"Ljus",dark:"M\xF6rk",github:"Github",twitter:"Twitter",discord:"Discord",image:"Bild"};var ll={"style.menu.color":"\u0C30\u0C02\u0C17\u0C41","style.menu.fill":"\u0C28\u0C3F\u0C02\u0C2A\u0C41","style.menu.dash":"\u0C05\u0C21\u0C4D\u0C21 \u0C17\u0C40\u0C24","style.menu.size":"\u0C2A\u0C30\u0C3F\u0C2E\u0C3E\u0C23\u0C02","style.menu.keep.open":"\u0C24\u0C46\u0C30\u0C3F\u0C1A\u0C3F \u0C09\u0C02\u0C1A\u0C41","style.menu.font":"\u0C05\u0C15\u0C4D\u0C37\u0C30\u0C3E\u0C15\u0C43\u0C24\u0C3F","style.menu.align":"\u0C38\u0C30\u0C3F\u0C2A\u0C30\u0C1A\u0C41",styles:"\u0C35\u0C3F\u0C27\u0C2E\u0C41\u0C32\u0C41","zoom.in":"\u0C26\u0C17\u0C4D\u0C17\u0C30\u0C17\u0C3E \u0C1A\u0C42\u0C2A\u0C41","zoom.out":"\u0C26\u0C42\u0C30\u0C02\u0C17\u0C3E \u0C1A\u0C42\u0C2A\u0C41",to:"\u0C35\u0C26\u0C4D\u0C26\u0C15\u0C41","menu.tools":"\u0C2A\u0C30\u0C3F\u0C15\u0C30\u0C3E\u0C32\u0C41","menu.transform":"\u0C2E\u0C3E\u0C30\u0C4D\u0C1A\u0C41","menu.file":"\u0C2B\u0C48\u0C32\u0C4D","menu.edit":"\u0C2A\u0C30\u0C3F\u0C37\u0C4D\u0C15\u0C30\u0C3F\u0C02\u0C1A\u0C41","menu.view":"\u0C1A\u0C42\u0C2A\u0C41","menu.preferences":"\u0C0E\u0C02\u0C1A\u0C41\u0C15\u0C4A\u0C28\u0C4D\u0C28\u0C35\u0C3F","menu.sign.in":"\u0C2A\u0C4D\u0C30\u0C35\u0C47\u0C36\u0C3F\u0C02\u0C1A\u0C41","menu.sign.out":"\u0C28\u0C3F\u0C37\u0C4D\u0C15\u0C4D\u0C30\u0C2E\u0C23","become.a.sponsor":"\u0C35\u0C3F\u0C30\u0C3E\u0C33\u0C26\u0C3E\u0C30\u0C41\u0C32\u0C41 \u0C05\u0C35\u0C4D\u0C35\u0C02\u0C21\u0C3F","zoom.to.content":"\u0C35\u0C3F\u0C37\u0C2F\u0C3E\u0C28\u0C4D\u0C28\u0C47 \u0C1A\u0C42\u0C2A\u0C41","zoom.to.selection":"\u0C0E\u0C02\u0C1A\u0C41\u0C15\u0C41\u0C28\u0C4D\u0C28 \u0C35\u0C3F\u0C37\u0C2F\u0C3E\u0C28\u0C4D\u0C28\u0C47 \u0C1A\u0C42\u0C2A\u0C41","zoom.to.fit":"\u0C38\u0C30\u0C3F\u0C2A\u0C46\u0C1F\u0C4D\u0C1F\u0C3F \u0C1A\u0C42\u0C2A\u0C41","zoom.to":"\u0C1A\u0C42\u0C2A\u0C41","preferences.dark.mode":"\u0C1A\u0C40\u0C15\u0C1F\u0C48\u0C28 \u0C15\u0C4D\u0C30\u0C2E\u0C02","preferences.focus.mode":"\u0C24\u0C40\u0C15\u0C4D\u0C37\u0C23 \u0C15\u0C4D\u0C30\u0C2E\u0C02","preferences.debug.mode":"\u0C24\u0C2A\u0C4D\u0C2A\u0C41\u0C32\u0C47\u0C30\u0C41 \u0C15\u0C4D\u0C30\u0C2E\u0C02","preferences.show.grid":"\u0C1A\u0C1F\u0C4D\u0C30\u0C02 \u0C1A\u0C42\u0C2A\u0C41","preferences.use.cad.selection":"CAD\u0C28\u0C3F \u0C35\u0C3E\u0C21\u0C41","preferences.keep.stylemenu.open":"\u0C35\u0C3F\u0C27\u0C2E\u0C41\u0C32 \u0C2A\u0C24\u0C4D\u0C24\u0C3F \u0C24\u0C46\u0C30\u0C3F\u0C1A\u0C3F\u0C35\u0C41\u0C02\u0C1A\u0C41","preferences.always.show.snaps":"\u0C0E\u0C2A\u0C4D\u0C2A\u0C41\u0C21\u0C42 \u0C26\u0C43\u0C36\u0C4D\u0C2F\u0C2D\u0C3E\u0C17\u0C02 \u0C1A\u0C42\u0C2A\u0C41","preferences.rotate.handles":"\u0C39\u0C4D\u0C2F\u0C3E\u0C02\u0C21\u0C3F\u0C32\u0C4D\u0C38\u0C4D \u0C24\u0C3F\u0C2A\u0C4D\u0C2A\u0C41","preferences.binding.handles":"\u0C2F\u0C3E\u0C02\u0C21\u0C3F\u0C32\u0C4D\u0C38\u0C4D \u0C15\u0C1F\u0C4D\u0C1F\u0C41","preferences.clone.handles":"\u0C2F\u0C3E\u0C02\u0C21\u0C3F\u0C32\u0C4D\u0C38\u0C4D \u0C28\u0C15\u0C32\u0C41",undo:"\u0C2E\u0C3E\u0C30\u0C4D\u0C2A\u0C41\u0C28\u0C3F \u0C24\u0C3F\u0C30\u0C41\u0C17\u0C17\u0C4A\u0C1F\u0C4D\u0C1F\u0C41",redo:"\u0C2E\u0C33\u0C4D\u0C33\u0C40 \u0C2E\u0C3E\u0C30\u0C4D\u0C1A\u0C41",cut:"\u0C15\u0C24\u0C4D\u0C24\u0C3F\u0C30\u0C3F\u0C02\u0C1A\u0C41",copy:"\u0C28\u0C15\u0C32\u0C41",paste:"\u0C05\u0C24\u0C3F\u0C15\u0C3F\u0C02\u0C1A\u0C41","copy.as":"\u0C28\u0C15\u0C32\u0C41\u0C2A\u0C4D\u0C30\u0C24\u0C3F\u0C17\u0C3E \u0C07\u0C15\u0C4D\u0C15\u0C21\u0C3F\u0C15\u0C3F","export.as":"\u0C0E\u0C17\u0C41\u0C2E\u0C24\u0C3F \u0C07\u0C15\u0C4D\u0C15\u0C21\u0C3F\u0C15\u0C3F","select.all":"\u0C05\u0C28\u0C4D\u0C28\u0C40 \u0C0E\u0C02\u0C2A\u0C3F\u0C15\u0C1A\u0C46\u0C2F\u0C4D\u0C2F\u0C3F","select.none":"\u0C0E\u0C26\u0C40 \u0C0E\u0C02\u0C2A\u0C3F\u0C15\u0C1A\u0C46\u0C2F\u0C4D\u0C2F\u0C35\u0C26\u0C4D\u0C26\u0C41",delete:"\u0C24\u0C4A\u0C32\u0C17\u0C3F\u0C02\u0C1A\u0C41","new.project":"\u0C15\u0C4A\u0C24\u0C4D\u0C24 \u0C2A\u0C4D\u0C30\u0C3E\u0C1C\u0C46\u0C15\u0C4D\u0C1F\u0C41",open:"\u0C24\u0C46\u0C30\u0C41\u0C35\u0C41",save:"\u0C26\u0C3E\u0C2F\u0C3F","save.as":"\u0C07\u0C32\u0C3E \u0C26\u0C3E\u0C2F\u0C3F","upload.media":"\u0C0E\u0C17\u0C41\u0C2E\u0C24\u0C3F \u0C2E\u0C3E\u0C27\u0C4D\u0C2F\u0C02","create.page":"\u0C2A\u0C41\u0C1F \u0C15\u0C32\u0C4D\u0C2A\u0C3F\u0C02\u0C1A\u0C41","new.page":"\u0C15\u0C4A\u0C24\u0C4D\u0C24 \u0C2A\u0C41\u0C1F","page.name":"\u0C2A\u0C41\u0C1F \u0C2A\u0C47\u0C30\u0C41",duplicate:"\u0C2E\u0C3E\u0C30\u0C41\u0C2A\u0C4D\u0C30\u0C24\u0C3F",cancel:"\u0C30\u0C26\u0C4D\u0C26\u0C41\u0C1A\u0C47\u0C2F\u0C3F","copy.invite.link":"\u0C05\u0C39\u0C4D\u0C35\u0C3E\u0C28 \u0C32\u0C3F\u0C02\u0C15\u0C41 \u0C30\u0C3E\u0C2F\u0C3F","copy.readonly.link":"\u0C2E\u0C3E\u0C30\u0C28\u0C3F\u0C2A\u0C4D\u0C30\u0C24\u0C3F \u0C32\u0C3F\u0C02\u0C15\u0C41 \u0C30\u0C3E\u0C2F\u0C3F","create.multiplayer.project":"\u0C2C\u0C39\u0C41\u0C15\u0C30\u0C4D\u0C24\u0C32 \u0C2A\u0C4D\u0C30\u0C3E\u0C1C\u0C46\u0C15\u0C4D\u0C1F\u0C41 \u0C15\u0C32\u0C4D\u0C2A\u0C3F\u0C02\u0C1A\u0C41","copy.multiplayer.project":"\u0C2C\u0C39\u0C41\u0C15\u0C30\u0C4D\u0C24\u0C32 \u0C2A\u0C4D\u0C30\u0C3E\u0C1C\u0C46\u0C15\u0C4D\u0C1F\u0C41\u0C15\u0C41 \u0C30\u0C3E\u0C2F\u0C3F",select:"\u0C0E\u0C02\u0C2A\u0C3F\u0C15\u0C1A\u0C46\u0C2F\u0C4D\u0C2F\u0C3F",eraser:"Eraser",draw:"\u0C17\u0C40\u0C2F\u0C4D\u0C2F\u0C3F",arrow:"\u0C2C\u0C3E\u0C23\u0C02",text:"\u0C05\u0C15\u0C4D\u0C37\u0C30\u0C2E\u0C41\u0C32\u0C41",sticky:"\u0C05\u0C24\u0C41\u0C15\u0C4D\u0C15\u0C41\u0C28\u0C47",rectangle:"\u0C26\u0C40\u0C30\u0C4D\u0C18\u0C1A\u0C24\u0C41\u0C30\u0C38\u0C4D\u0C30\u0C02",ellipse:"\u0C26\u0C40\u0C30\u0C4D\u0C18\u0C35\u0C43\u0C24\u0C4D\u0C24\u0C02",triangle:"\u0C24\u0C4D\u0C30\u0C3F\u0C2D\u0C41\u0C1C\u0C02",line:"\u0C17\u0C40\u0C24",rotate:"\u0C24\u0C3F\u0C2A\u0C4D\u0C2A\u0C41","lock.aspect.ratio":"\u0C06\u0C38\u0C4D\u0C2A\u0C46\u0C15\u0C4D\u0C1F\u0C4D \u0C28\u0C3F\u0C37\u0C4D\u0C2A\u0C24\u0C4D\u0C24\u0C3F\u0C15\u0C3F \u0C24\u0C3E\u0C33\u0C02\u0C2A\u0C46\u0C1F\u0C4D\u0C1F\u0C41","unlock.aspect.ratio":"\u0C06\u0C38\u0C4D\u0C2A\u0C46\u0C15\u0C4D\u0C1F\u0C4D \u0C28\u0C3F\u0C37\u0C4D\u0C2A\u0C24\u0C4D\u0C24\u0C3F \u0C24\u0C3E\u0C33\u0C02\u0C24\u0C46\u0C30\u0C41\u0C35\u0C41",group:"\u0C17\u0C41\u0C02\u0C2A\u0C41\u0C17\u0C3E \u0C0F\u0C30\u0C4D\u0C2A\u0C30\u0C1A\u0C41",ungroup:"\u0C17\u0C41\u0C02\u0C2A\u0C41\u0C28\u0C41 \u0C1A\u0C46\u0C26\u0C30\u0C17\u0C4A\u0C1F\u0C4D\u0C1F\u0C41","move.to.back":"\u0C06\u0C16\u0C30\u0C3F\u0C15\u0C3F \u0C1C\u0C30\u0C41\u0C2A\u0C41","move.backward":"\u0C35\u0C46\u0C28\u0C41\u0C15\u0C15\u0C41 \u0C1C\u0C30\u0C41\u0C2A\u0C41","move.forward":"\u0C2E\u0C41\u0C02\u0C26\u0C41\u0C15\u0C41 \u0C1C\u0C30\u0C41\u0C2A\u0C41","move.to.front":"\u0C2E\u0C4A\u0C26\u0C1F\u0C3F\u0C15\u0C3F \u0C1C\u0C30\u0C41\u0C2A\u0C41","reset.angle":"\u0C15\u0C4B\u0C23\u0C02 \u0C30\u0C40\u0C38\u0C46\u0C1F\u0C4D",lock:"\u0C24\u0C3E\u0C33\u0C02 \u0C35\u0C46\u0C2F\u0C4D\u0C2F\u0C3F",unlock:"\u0C24\u0C3E\u0C33\u0C02 \u0C24\u0C3F\u0C2F\u0C4D\u0C2F\u0C3F","align.distribute":" \u0C38\u0C30\u0C3F\u0C2A\u0C30\u0C1A\u0C41/\u0C35\u0C46\u0C26\u0C1C\u0C32\u0C4D\u0C32\u0C41","move.to.page":"\u0C2A\u0C41\u0C1F\u0C32\u0C4B\u0C15\u0C3F \u0C1C\u0C30\u0C41\u0C2A\u0C41","flip.horizontal":"\u0C05\u0C21\u0C4D\u0C21\u0C02\u0C17\u0C3E \u0C2A\u0C32\u0C4D\u0C1F\u0C40","flip.vertical":"\u0C28\u0C3F\u0C32\u0C41\u0C35\u0C41\u0C17\u0C3E \u0C2A\u0C32\u0C4D\u0C1F\u0C40",move:"\u0C1C\u0C30\u0C41\u0C2A\u0C41","to.front":"\u0C2E\u0C4A\u0C26\u0C1F\u0C3F\u0C15\u0C3F",forward:"\u0C2E\u0C41\u0C02\u0C26\u0C41\u0C15\u0C41",backward:"\u0C35\u0C46\u0C28\u0C41\u0C15\u0C15\u0C41",back:"\u0C06\u0C16\u0C30\u0C3F\u0C15\u0C3F",language:"\u0C2D\u0C3E\u0C37","translation.link":"\u0C2E\u0C30\u0C3F \u0C15\u0C4A\u0C28\u0C4D\u0C28\u0C3F \u0C35\u0C3F\u0C37\u0C2F\u0C3E\u0C32\u0C41","dock.position":"\u0C2E\u0C02\u0C1A \u0C38\u0C4D\u0C25\u0C3E\u0C28\u0C02",bottom:"\u0C05\u0C21\u0C41\u0C17\u0C41\u0C28",left:"\u0C0E\u0C21\u0C2E\u0C35\u0C48\u0C2A\u0C41",right:"\u0C15\u0C41\u0C21\u0C3F\u0C35\u0C48\u0C2A\u0C41",top:"\u0C2A\u0C48\u0C28",page:"\u0C2A\u0C41\u0C24","keyboard.shortcuts":"\u0C15\u0C40\u0C2C\u0C4B\u0C30\u0C4D\u0C21\u0C4D \u0C38\u0C24\u0C4D\u0C35\u0C30\u0C2E\u0C3E\u0C30\u0C4D\u0C17\u0C02",search:"\u0C35\u0C46\u0C24\u0C41\u0C15\u0C41",loading:"Loading{dots}","export.background":"\u0C28\u0C47\u0C2A\u0C25\u0C4D\u0C2F\u0C02 \u0C0E\u0C17\u0C41\u0C2E\u0C24\u0C3F",transparent:"\u0C15\u0C3E\u0C02\u0C24\u0C3F \u0C2D\u0C47\u0C26\u0C4D\u0C2F\u0C2E\u0C41",auto:"\u0C38\u0C4D\u0C35\u0C2F\u0C02\u0C15\u0C43\u0C24\u0C02",light:"\u0C35\u0C46\u0C32\u0C41\u0C24\u0C41\u0C30\u0C41",dark:"\u0C1A\u0C40\u0C15\u0C1F\u0C3F",github:"Github",twitter:"Twitter",discord:"Discord",image:"\u0C1A\u0C3F\u0C24\u0C4D\u0C30\u0C02","align.left":"\u0C0E\u0C21\u0C2E\u0C35\u0C48\u0C2A\u0C41\u0C15\u0C41 \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41","align.center.x":"\u0C05\u0C21\u0C4D\u0C21\u0C02\u0C17\u0C3E \u0C2E\u0C27\u0C4D\u0C2F\u0C32\u0C4B \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41","align.right":"\u0C15\u0C41\u0C21\u0C3F\u0C35\u0C48\u0C2A\u0C41\u0C15\u0C41 \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41","align.top":"\u0C2A\u0C48\u0C15\u0C3F \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41","align.center.y":"\u0C28\u0C3F\u0C32\u0C41\u0C35\u0C41\u0C17\u0C3E \u0C2E\u0C27\u0C4D\u0C2F\u0C32\u0C4B \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41","align.bottom":"\u0C05\u0C21\u0C41\u0C17\u0C41\u0C28 \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41","distribute.x":"\u0C05\u0C21\u0C4D\u0C21\u0C02\u0C17\u0C3E \u0C2A\u0C02\u0C1A\u0C41","distribute.y":"\u0C28\u0C3F\u0C32\u0C41\u0C35\u0C41\u0C17\u0C3E \u0C2A\u0C02\u0C1A\u0C41","stretch.x":"\u0C05\u0C21\u0C4D\u0C21\u0C02\u0C17\u0C3E \u0C32\u0C3E\u0C17\u0C41","stretch.y":"\u0C28\u0C3F\u0C32\u0C41\u0C35\u0C41\u0C17\u0C3E \u0C32\u0C3E\u0C17\u0C41","dialog.save.firsttime":"\u0C2E\u0C40\u0C30\u0C41 \u0C08 \u0C2A\u0C4D\u0C30\u0C3E\u0C1C\u0C46\u0C15\u0C4D\u0C1F\u0C4D \u0C2D\u0C26\u0C4D\u0C30\u0C2A\u0C30\u0C1A\u0C41\u0C15\u0C4B\u0C35\u0C3E\u0C32\u0C28\u0C3F \u0C05\u0C28\u0C41\u0C15\u0C41\u0C02\u0C1F\u0C41\u0C28\u0C4D\u0C28\u0C3E\u0C30\u0C3E?","dialog.save.again":"\u0C2E\u0C40\u0C30\u0C41 \u0C08 \u0C2A\u0C4D\u0C30\u0C3E\u0C1C\u0C46\u0C15\u0C4D\u0C1F\u0C4D \u0C2D\u0C26\u0C4D\u0C30\u0C2A\u0C30\u0C1A\u0C41\u0C15\u0C4B\u0C35\u0C3E\u0C32\u0C28\u0C3F \u0C05\u0C28\u0C41\u0C15\u0C41\u0C02\u0C1F\u0C41\u0C28\u0C4D\u0C28\u0C3E\u0C30\u0C3E?","dialog.cancel":"\u0C30\u0C26\u0C4D\u0C26\u0C41\u0C1A\u0C46\u0C2F\u0C4D\u0C2F\u0C3F","dialog.no":"\u0C35\u0C26\u0C4D\u0C26\u0C41","dialog.yes":"\u0C38\u0C30\u0C47","enter.file.name":"\u0C2B\u0C48\u0C32\u0C4D \u0C2A\u0C46\u0C30\u0C41 \u0C1A\u0C46\u0C2A\u0C4D\u0C2A\u0C02\u0C21\u0C3F"};var dl={"style.menu.color":"\u0E2A\u0E35","style.menu.fill":"\u0E40\u0E15\u0E34\u0E21","style.menu.dash":"\u0E01\u0E23\u0E2D\u0E1A","style.menu.size":"\u0E02\u0E19\u0E32\u0E14","style.menu.keep.open":"\u0E40\u0E1B\u0E34\u0E14\u0E17\u0E34\u0E49\u0E07\u0E44\u0E27\u0E49","style.menu.font":"\u0E41\u0E1A\u0E1A\u0E2D\u0E31\u0E01\u0E29\u0E23","style.menu.align":"\u0E08\u0E31\u0E14\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07",styles:"\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A","zoom.in":"\u0E0B\u0E39\u0E21\u0E40\u0E02\u0E49\u0E32","zoom.out":"\u0E0B\u0E39\u0E21\u0E2D\u0E2D\u0E01",to:"\u0E0B\u0E39\u0E21\u0E44\u0E1B\u0E17\u0E35\u0E48","menu.tools":"\u0E40\u0E04\u0E23\u0E37\u0E48\u0E2D\u0E07\u0E21\u0E37\u0E2D","menu.transform":"\u0E41\u0E1B\u0E25\u0E07","menu.file":"\u0E44\u0E1F\u0E25\u0E4C","menu.edit":"\u0E41\u0E01\u0E49\u0E44\u0E02","menu.view":"\u0E21\u0E38\u0E21\u0E21\u0E2D\u0E07","menu.preferences":"\u0E01\u0E32\u0E23\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32","menu.sign.in":"\u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A","menu.sign.out":"\u0E2D\u0E2D\u0E01\u0E08\u0E32\u0E01\u0E23\u0E30\u0E1A\u0E1A","become.a.sponsor":"\u0E23\u0E48\u0E27\u0E21\u0E40\u0E1B\u0E47\u0E19\u0E2A\u0E1B\u0E2D\u0E19\u0E40\u0E0B\u0E2D\u0E23\u0E4C","zoom.to.content":"\u0E01\u0E25\u0E31\u0E1A\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E40\u0E19\u0E37\u0E49\u0E2D\u0E2B\u0E32","zoom.to.selection":"\u0E0B\u0E39\u0E21\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E2A\u0E48\u0E27\u0E19\u0E17\u0E35\u0E48\u0E40\u0E25\u0E37\u0E2D\u0E01","zoom.to.fit":"\u0E0B\u0E39\u0E21\u0E43\u0E2B\u0E49\u0E40\u0E15\u0E47\u0E21\u0E1E\u0E2D\u0E14\u0E35","zoom.to":"\u0E0B\u0E39\u0E21\u0E44\u0E1B\u0E17\u0E35\u0E48","preferences.dark.mode":"\u0E42\u0E2B\u0E21\u0E14\u0E21\u0E37\u0E14","preferences.focus.mode":"\u0E42\u0E2B\u0E21\u0E14\u0E42\u0E1F\u0E01\u0E31\u0E2A","preferences.debug.mode":"\u0E42\u0E2B\u0E21\u0E14\u0E14\u0E35\u0E1A\u0E31\u0E01","preferences.show.grid":"\u0E41\u0E2A\u0E14\u0E07\u0E15\u0E32\u0E23\u0E32\u0E07","preferences.use.cad.selection":"\u0E01\u0E32\u0E23\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E41\u0E1A\u0E1A CAD","preferences.keep.stylemenu.open":"\u0E40\u0E1B\u0E34\u0E14\u0E40\u0E21\u0E19\u0E39\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E34\u0E49\u0E07\u0E44\u0E27\u0E49","preferences.always.show.snaps":"\u0E41\u0E2A\u0E14\u0E07\u0E2A\u0E41\u0E19\u0E1B\u0E15\u0E25\u0E2D\u0E14","preferences.rotate.handles":"\u0E41\u0E2A\u0E14\u0E07\u0E08\u0E38\u0E14\u0E08\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E2B\u0E21\u0E38\u0E19","preferences.binding.handles":"\u0E41\u0E2A\u0E14\u0E07\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E25\u0E02\u0E2D\u0E49\u0E32\u0E07\u0E2D\u0E34\u0E07","preferences.clone.handles":"\u0E41\u0E2A\u0E14\u0E07\u0E15\u0E31\u0E27\u0E42\u0E04\u0E25\u0E19",undo:"\u0E40\u0E25\u0E34\u0E01\u0E17\u0E33",redo:"\u0E17\u0E33\u0E0B\u0E49\u0E33",cut:"\u0E15\u0E31\u0E14",copy:"\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01",paste:"\u0E27\u0E32\u0E07","copy.as":"\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E40\u0E1B\u0E47\u0E19","export.as":"\u0E2A\u0E48\u0E07\u0E2D\u0E2D\u0E01\u0E40\u0E1B\u0E47\u0E19","select.all":"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14","select.none":"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E2A\u0E34\u0E48\u0E07\u0E17\u0E35\u0E48\u0E40\u0E25\u0E37\u0E2D\u0E01",delete:"\u0E25\u0E1A","new.project":"\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E01\u0E15\u0E4C\u0E43\u0E2B\u0E21\u0E48",open:"\u0E40\u0E1B\u0E34\u0E14",save:"\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01","save.as":"\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E40\u0E1B\u0E47\u0E19","upload.media":"\u0E2D\u0E31\u0E1E\u0E42\u0E2B\u0E25\u0E14\u0E21\u0E35\u0E40\u0E14\u0E35\u0E22","create.page":"\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E2B\u0E19\u0E49\u0E32","new.page":"\u0E2B\u0E19\u0E49\u0E32\u0E43\u0E2B\u0E21\u0E48","page.name":"\u0E0A\u0E37\u0E48\u0E2D\u0E2B\u0E19\u0E49\u0E32",duplicate:"\u0E2A\u0E33\u0E40\u0E19\u0E32",cancel:"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01","copy.invite.link":"\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E25\u0E34\u0E07\u0E01\u0E4C\u0E40\u0E0A\u0E34\u0E0D","copy.readonly.link":"\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E25\u0E34\u0E07\u0E01\u0E4C\u0E41\u0E1A\u0E1A\u0E43\u0E2B\u0E49\u0E2D\u0E48\u0E32\u0E19\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E40\u0E14\u0E35\u0E22\u0E27","create.multiplayer.project":"\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E01\u0E15\u0E4C\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E2B\u0E25\u0E32\u0E22\u0E04\u0E19","copy.multiplayer.project":"\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E01\u0E15\u0E4C\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E2B\u0E25\u0E32\u0E22\u0E04\u0E19",select:"\u0E40\u0E25\u0E37\u0E2D\u0E01",eraser:"\u0E22\u0E32\u0E07\u0E25\u0E1A",draw:"\u0E27\u0E32\u0E14",arrow:"\u0E25\u0E39\u0E01\u0E28\u0E23",text:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21",sticky:"\u0E01\u0E23\u0E30\u0E14\u0E32\u0E29\u0E42\u0E19\u0E4A\u0E15",rectangle:"\u0E2A\u0E35\u0E48\u0E40\u0E2B\u0E25\u0E35\u0E48\u0E22\u0E21\u0E1C\u0E37\u0E19\u0E1C\u0E49\u0E32",ellipse:"\u0E27\u0E07\u0E23\u0E35",triangle:"\u0E2A\u0E32\u0E21\u0E40\u0E2B\u0E25\u0E35\u0E48\u0E22\u0E21",line:"\u0E40\u0E2A\u0E49\u0E19",rotate:"\u0E2B\u0E21\u0E38\u0E19","lock.aspect.ratio":"\u0E25\u0E47\u0E2D\u0E04\u0E2D\u0E31\u0E15\u0E23\u0E32\u0E2A\u0E48\u0E27\u0E19\u0E20\u0E32\u0E1E","unlock.aspect.ratio":"\u0E1B\u0E25\u0E14\u0E25\u0E47\u0E2D\u0E01\u0E2D\u0E31\u0E15\u0E23\u0E32\u0E2A\u0E48\u0E27\u0E19\u0E20\u0E32\u0E1E",group:"\u0E01\u0E25\u0E38\u0E48\u0E21",ungroup:"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E01\u0E25\u0E38\u0E48\u0E21","move.to.back":"\u0E22\u0E49\u0E32\u0E22\u0E44\u0E1B\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E25\u0E31\u0E07","move.backward":"\u0E02\u0E22\u0E31\u0E1A\u0E16\u0E2D\u0E22\u0E2B\u0E25\u0E31\u0E07","move.forward":"\u0E02\u0E22\u0E31\u0E1A\u0E44\u0E1B\u0E2B\u0E19\u0E49\u0E32","move.to.front":"\u0E22\u0E49\u0E32\u0E22\u0E44\u0E1B\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E19\u0E49\u0E32","reset.angle":"\u0E23\u0E35\u0E40\u0E0B\u0E47\u0E15\u0E21\u0E38\u0E21",lock:"\u0E25\u0E47\u0E2D\u0E04",unlock:"\u0E1B\u0E25\u0E14\u0E25\u0E47\u0E2D\u0E04","align.distribute":"\u0E08\u0E31\u0E14\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07 / \u0E01\u0E23\u0E30\u0E08\u0E32\u0E22","move.to.page":"\u0E22\u0E49\u0E32\u0E22\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E2B\u0E19\u0E49\u0E32","flip.horizontal":"\u0E1E\u0E25\u0E34\u0E01\u0E41\u0E19\u0E27\u0E19\u0E2D\u0E19","flip.vertical":"\u0E1E\u0E25\u0E34\u0E01\u0E41\u0E19\u0E27\u0E15\u0E31\u0E49\u0E07",move:"\u0E22\u0E49\u0E32\u0E22","to.front":"\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E19\u0E49\u0E32",forward:"\u0E02\u0E49\u0E32\u0E07\u0E2B\u0E19\u0E49\u0E32",backward:"\u0E02\u0E49\u0E32\u0E07\u0E2B\u0E25\u0E31\u0E07",back:"\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E25\u0E31\u0E07",language:"\u0E20\u0E32\u0E29\u0E32","translation.link":"\u0E40\u0E23\u0E35\u0E22\u0E19\u0E23\u0E39\u0E49\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E15\u0E34\u0E21","dock.position":"\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07\u0E41\u0E16\u0E1A\u0E40\u0E04\u0E23\u0E37\u0E48\u0E2D\u0E07\u0E21\u0E37\u0E2D",bottom:"\u0E02\u0E49\u0E32\u0E07\u0E25\u0E48\u0E32\u0E07",left:"\u0E02\u0E49\u0E32\u0E07\u0E0B\u0E49\u0E32\u0E22",right:"\u0E02\u0E49\u0E32\u0E07\u0E02\u0E27\u0E32",top:"\u0E02\u0E49\u0E32\u0E07\u0E1A\u0E19",page:"\u0E2B\u0E19\u0E49\u0E32","keyboard.shortcuts":"\u0E41\u0E1B\u0E49\u0E19\u0E1E\u0E34\u0E21\u0E1E\u0E4C\u0E25\u0E31\u0E14",search:"\u0E04\u0E49\u0E19\u0E2B\u0E32",loading:"\u0E01\u0E33\u0E25\u0E31\u0E07\u0E42\u0E2B\u0E25\u0E14{dots}","export.background":"\u0E2A\u0E48\u0E07\u0E2D\u0E2D\u0E01\u0E1E\u0E37\u0E49\u0E19\u0E2B\u0E25\u0E31\u0E07",transparent:"\u0E42\u0E1B\u0E23\u0E48\u0E07\u0E43\u0E2A",auto:"\u0E2D\u0E31\u0E15\u0E42\u0E19\u0E21\u0E31\u0E15\u0E34",light:"\u0E2A\u0E27\u0E48\u0E32\u0E07",dark:"\u0E21\u0E37\u0E14",github:"Github",twitter:"Twitter",discord:"Discord",image:"\u0E20\u0E32\u0E1E","align.left":"\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E0A\u0E34\u0E14\u0E0B\u0E49\u0E32\u0E22","align.center.x":"\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E01\u0E36\u0E48\u0E07\u0E01\u0E25\u0E32\u0E07\u0E41\u0E19\u0E27\u0E19\u0E2D\u0E19","align.right":"\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E0A\u0E34\u0E14\u0E02\u0E27\u0E32","align.top":"\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E14\u0E49\u0E32\u0E19\u0E1A\u0E19","align.center.y":"\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E01\u0E36\u0E48\u0E07\u0E01\u0E25\u0E32\u0E07\u0E41\u0E19\u0E27\u0E15\u0E31\u0E49\u0E07","align.bottom":"\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E14\u0E49\u0E32\u0E19\u0E25\u0E48\u0E32\u0E07","distribute.x":"\u0E01\u0E23\u0E30\u0E08\u0E32\u0E22\u0E41\u0E19\u0E27\u0E19\u0E2D\u0E19","distribute.y":"\u0E01\u0E23\u0E30\u0E08\u0E32\u0E22\u0E41\u0E19\u0E27\u0E15\u0E31\u0E49\u0E07","stretch.x":"\u0E22\u0E37\u0E14\u0E41\u0E19\u0E27\u0E19\u0E2D\u0E19","stretch.y":"\u0E22\u0E37\u0E14\u0E41\u0E19\u0E27\u0E15\u0E31\u0E49\u0E07","dialog.save.firsttime":"\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E47\u0E01\u0E15\u0E4C\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?","dialog.save.again":"\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E01\u0E32\u0E23\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E41\u0E1B\u0E25\u0E07\u0E43\u0E19\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E47\u0E01\u0E15\u0E4C\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?","dialog.cancel":"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01","dialog.no":"\u0E44\u0E21\u0E48","dialog.yes":"\u0E43\u0E0A\u0E48","enter.file.name":"\u0E01\u0E23\u0E2D\u0E01\u0E0A\u0E37\u0E48\u0E2D\u0E44\u0E1F\u0E25\u0E4C"};var cl={"style.menu.color":"Renk","style.menu.fill":"Doldur","style.menu.dash":"\xC7izgi","style.menu.size":"Boyut","style.menu.keep.open":"A\xE7\u0131k Tut","style.menu.font":"Yaz\u0131 Tipi","style.menu.align":"Hizala",styles:"Stiller","zoom.in":"Yak\u0131nla\u015Ft\u0131r","zoom.out":"Uzakla\u015Ft\u0131r",to:"","menu.file":"Dosya","menu.edit":"D\xFCzenle","menu.view":"G\xF6r\xFCnt\xFC","menu.preferences":"Tercihler","menu.sign.in":"Giri\u015F Yap","menu.sign.out":"Oturumu Kapat","become.a.sponsor":"Sponsor Ol","zoom.to.selection":"Se\xE7ime Yak\u0131nla\u015Ft\u0131r","zoom.to.fit":"S\u0131\u011Fd\u0131rmak i\xE7in Yak\u0131nla\u015Ft\u0131r","zoom.to":"Yak\u0131nla\u015Ft\u0131r","preferences.dark.mode":"Karanl\u0131k Mod","preferences.focus.mode":"Odak Modu","preferences.debug.mode":"Debug Modu","preferences.show.grid":"Izgaray\u0131 G\xF6ster","preferences.use.cad.selection":"CAD Se\xE7imi Kullan","preferences.keep.stylemenu.open":"Stil Men\xFCs\xFCn\xFC A\xE7\u0131k Tut","preferences.always.show.snaps":"Hiza \xC7izgilerini Hep G\xF6ster","preferences.rotate.handles":"Rotasyon Kontrolc\xFCleri","preferences.binding.handles":"Ba\u011Flama Kontrolc\xFCleri","preferences.clone.handles":"Klon Kontrolc\xFCleri",undo:"Geri Al",redo:"Yinele",cut:"Kes",copy:"Kopyala",paste:"Yap\u0131\u015Ft\u0131r","copy.as":"Olarak Kopyala","export.as":"Olarak D\u0131\u015Far\u0131 Aktar","select.all":"Hepsini Se\xE7","select.none":"Hi\xE7birini Se\xE7me",delete:"Sil","new.project":"Yeni Proje",open:"A\xE7",save:"Kaydet","save.as":"Farkl\u0131 Kaydet","upload.media":"Medya Y\xFCkle","create.page":"Sayfa Olu\u015Ftur","new.page":"Yeni Sayfa","page.name":"Sayfa \u0130smi",duplicate:"Kopya Olu\u015Ftur",cancel:"\u0130ptal","copy.invite.link":"Davet Linkini Kopyala","create.multiplayer.project":"\xC7ok Oyunculu Proje Olu\u015Ftur","copy.multiplayer.project":"\xC7ok Oyunculu Projeye Kopyala",select:"Se\xE7",eraser:"Silgi",draw:"\xC7izim",arrow:"Ok",text:"Yaz\u0131",sticky:"Yap\u0131\u015Fkan",rectangle:"Dikd\xF6rtgen",ellipse:"Elips",triangle:"\xDC\xE7gen",line:"\xC7izgi",rotate:"D\xF6nd\xFCr","lock.aspect.ratio":"En Boy Oran\u0131n\u0131 Kilitle","unlock.aspect.ratio":"En Boy Oran\u0131 Kilidini A\xE7",group:"Grupla",ungroup:"Gruplamay\u0131 Kald\u0131r","move.to.back":"Arkaya Ta\u015F\u0131","move.backward":"En Arkaya Ta\u015F\u0131","move.forward":"En \xD6ne Ta\u015F\u0131","move.to.front":"\xD6ne Ta\u015F\u0131","reset.angle":"A\xE7\u0131y\u0131 S\u0131f\u0131rla",lock:"Kilitle",unlock:"Kilidini A\xE7","move.to.page":"Sayfaya Ta\u015F\u0131","flip.horizontal":"Yatay \xC7evir","flip.vertical":"Dikey \xC7evir",move:"Ta\u015F\u0131","to.front":"\xD6ne",forward:"En \xD6ne",backward:"En Arkaya",back:"Arkaya",language:"Dil"};var pl={"style.menu.color":"\u041A\u043E\u043B\u0456\u0440","style.menu.fill":"\u0417\u0430\u043F\u043E\u0432\u043D\u044E\u0432\u0430\u0442\u0438","style.menu.dash":"\u0428\u0442\u0440\u0438\u0445","style.menu.size":"\u0420\u043E\u0437\u043C\u0456\u0440","style.menu.keep.open":"\u0422\u0440\u0438\u043C\u0430\u0442\u0438 \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0438\u043C","style.menu.font":"\u0428\u0440\u0438\u0444\u0442","style.menu.align":"\u0412\u0438\u0440\u0456\u0432\u043D\u044F\u0442\u0438",styles:"\u0421\u0442\u0438\u043B\u044C","zoom.in":"\u0417\u0431\u0456\u043B\u044C\u0448\u0438\u0442\u0438","zoom.out":"\u0417\u043C\u0435\u043D\u0448\u0438\u0442\u0438",to:"\u0434\u043E","menu.file":"\u0424\u0430\u0439\u043B","menu.edit":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F","menu.view":"\u0412\u0438\u0433\u043B\u044F\u0434","menu.preferences":"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F","menu.sign.in":"\u0423\u0432\u0456\u0439\u0442\u0438","menu.sign.out":"\u0412\u0438\u0439\u0442\u0438","become.a.sponsor":"\u0421\u0442\u0430\u0442\u0438 \u0441\u043F\u043E\u043D\u0441\u043E\u0440\u043E\u043C","zoom.to.selection":"\u041D\u0430\u0431\u043B\u0438\u0437\u0438\u0442\u0438 \u0434\u043E \u0432\u0438\u0434\u0456\u043B\u0435\u043D\u043D\u044F","zoom.to.fit":"\u0417\u0431\u0456\u043B\u044C\u0448\u0438\u0442\u0438 \u0437\u0430 \u0440\u043E\u0437\u043C\u0456\u0440\u043E\u043C \u0435\u043A\u0440\u0430\u043D\u0443","zoom.to":"\u041D\u0430\u0431\u043B\u0438\u0437\u0438\u0442\u0438 \u0434\u043E","preferences.dark.mode":"\u0422\u0435\u043C\u043D\u0430 \u0442\u0435\u043C\u0430","preferences.focus.mode":"\u041C\u0456\u043D\u0456\u043C\u0430\u043B\u0456\u0441\u0442\u0438\u0447\u043D\u0438\u0439 \u0440\u0435\u0436\u0438\u043C","preferences.debug.mode":"\u0420\u0435\u0436\u0438\u043C \u043D\u0430\u043B\u0430\u0433\u043E\u0434\u0436\u0435\u043D\u043D\u044F","preferences.show.grid":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u0441\u0456\u0442\u043A\u0443","preferences.use.cad.selection":"\u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0432\u0430\u0442\u0438 CAD \u0432\u0438\u0434\u0456\u043B\u0435\u043D\u043D\u044F","preferences.keep.stylemenu.open":"\u0422\u0440\u0438\u043C\u0430\u0442\u0438 \u043C\u0435\u043D\u044E \u0441\u0442\u0438\u043B\u0456\u0432 \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0438\u043C","preferences.always.show.snaps":"\u0417\u0430\u0432\u0436\u0434\u0438 \u043F\u043E\u043A\u0430\u0437\u0443\u0432\u0430\u0442\u0438 \u043F\u0440\u0438\u0432'\u044F\u0437\u043A\u0438","preferences.rotate.handles":"\u0420\u0443\u0447\u043A\u0438 \u043E\u0431\u0435\u0440\u0442\u0430\u043D\u043D\u044F","preferences.binding.handles":"\u0420\u0443\u0447\u043A\u0438 \u043F\u0440\u0438\u0432'\u044F\u0437\u043A\u0438","preferences.clone.handles":"\u0420\u0443\u0447\u043A\u0438 \u043A\u043B\u043E\u043D\u0443\u0432\u0430\u043D\u043D\u044F",undo:"\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438",redo:"\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0438",cut:"\u0412\u0438\u0440\u0456\u0437\u0430\u0442\u0438",copy:"\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438",paste:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438","copy.as":"\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u044F\u043A","export.as":"\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u044F\u043A","select.all":"\u041E\u0431\u0440\u0430\u0442\u0438 \u0432\u0441\u0435","select.none":"\u0417\u043D\u044F\u0442\u0438 \u0432\u0438\u0434\u0456\u043B\u0435\u043D\u043D\u044F",delete:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438","new.project":"\u041D\u043E\u0432\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",open:"\u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438",save:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438","save.as":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u044F\u043A","upload.media":"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0438\u0442\u0438 \u043C\u0435\u0434\u0456\u0430","create.page":"\u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443","new.page":"\u041D\u043E\u0432\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430","page.name":"\u041D\u0430\u0437\u0432\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0438",duplicate:"\u0414\u0443\u0431\u043B\u044E\u0432\u0430\u0442\u0438",cancel:"\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438","copy.invite.link":"\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u043F\u043E\u0441\u0438\u043B\u0430\u043D\u043D\u044F \u043D\u0430 \u0437\u0430\u043F\u0440\u043E\u0448\u0435\u043D\u043D\u044F","create.multiplayer.project":"\u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u0431\u0430\u0433\u0430\u0442\u043E\u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0446\u044C\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442","copy.multiplayer.project":"\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u0432 \u0431\u0430\u0433\u0430\u0442\u043E\u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0446\u044C\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",select:"\u0412\u0438\u0431\u0438\u0440\u0430\u0442\u0438",eraser:"\u041B\u0430\u0441\u0442\u0438\u043A",draw:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438",arrow:"\u0421\u0442\u0440\u0456\u043B\u043A\u0430",text:"\u0422\u0435\u043A\u0441\u0442",sticky:"\u041D\u043E\u0442\u0430\u0442\u043A\u0430",rectangle:"\u041F\u0440\u044F\u043C\u043E\u043A\u0443\u0442\u043D\u0438\u043A",ellipse:"\u0415\u043B\u0456\u043F\u0441",triangle:"\u0422\u0440\u0438\u043A\u0443\u0442\u043D\u0438\u043A",line:" \u041B\u0456\u043D\u0456\u044F",rotate:"\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438","lock.aspect.ratio":"\u0417\u0430\u0431\u043B\u043E\u043A\u0443\u0432\u0430\u0442\u0438 \u0441\u043F\u0456\u0432\u0432\u0456\u0434\u043D\u043E\u0448\u0435\u043D\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D","unlock.aspect.ratio":" \u0420\u043E\u0437\u0431\u043B\u043E\u043A\u0443\u0432\u0430\u0442\u0438 \u0441\u043F\u0456\u0432\u0432\u0456\u0434\u043D\u043E\u0448\u0435\u043D\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D",group:"\u0417\u0433\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438",ungroup:" \u0420\u043E\u0437\u0433\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438","move.to.back":"\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u043D\u0430\u0437\u0430\u0434","move.backward":"\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u043D\u0430 \u0437\u0430\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D","move.forward":"\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u0432\u043F\u0435\u0440\u0435\u0434","move.to.front":"\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u043D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D","reset.angle":"\u0421\u043A\u0438\u0434\u0430\u043D\u043D\u044F \u043A\u0443\u0442\u0430",lock:"\u0411\u043B\u043E\u043A\u0443\u0432\u0430\u043D\u043D\u044F",unlock:" \u0420\u043E\u0437\u0431\u043B\u043E\u043A\u0443\u0432\u0430\u043D\u043D\u044F","move.to.page":"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043D\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443","flip.horizontal":"\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u0438 \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E","flip.vertical":"\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u0438 \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",move:"\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438","to.front":"\u041D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",forward:" \u0412\u043F\u0435\u0440\u0435\u0434",backward:"\u041D\u0430 \u0437\u0430\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",back:"\u041D\u0430\u0437\u0430\u0434",language:"\u041C\u043E\u0432\u0430"};var ul={"style.menu.color":"\u989C\u8272","style.menu.fill":"\u586B\u5145","style.menu.dash":"\u8FB9\u6846","style.menu.size":"\u5C3A\u5BF8","style.menu.keep.open":"\u4FDD\u6301\u5E38\u5F00","style.menu.font":"\u5B57\u4F53","style.menu.align":"\u5BF9\u9F50",styles:"\u6837\u5F0F","zoom.in":"\u653E\u5927","zoom.out":"\u7F29\u5C0F",to:"\u7F29\u653E\u81F3","menu.tools":"\u5DE5\u5177","menu.transform":"\u8F6C\u6362","menu.file":"\u6587\u4EF6","menu.edit":"\u7F16\u8F91","menu.view":"\u89C6\u56FE","menu.preferences":"\u504F\u597D","menu.sign.in":"\u767B\u5F55","menu.sign.out":"\u767B\u51FA",search:"\u641C\u7D22","become.a.sponsor":"\u6210\u4E3A\u8D5E\u52A9\u8005","zoom.to.selection":"\u7F29\u653E\u9009\u4E2D","zoom.to.fit":"\u81EA\u9002\u5E94\u7F29\u653E","zoom.to":"\u7F29\u653E\u81F3","zoom.to.content":"\u7F29\u653E\u81F3\u5185\u5BB9","preferences.dark.mode":"\u6697\u9ED1\u6A21\u5F0F","preferences.focus.mode":"\u4E13\u6CE8\u6A21\u5F0F","preferences.debug.mode":"\u8C03\u8BD5\u6A21\u5F0F","preferences.show.grid":"\u663E\u793A\u7F51\u683C","preferences.use.cad.selection":"\u4F7F\u7528 CAD \u9009\u62E9","preferences.keep.stylemenu.open":"\u4FDD\u6301\u6837\u5F0F\u83DC\u5355\u5E38\u5F00","preferences.always.show.snaps":"\u603B\u662F\u5C55\u793A\u5BF9\u9F50\u7EBF","preferences.rotate.handles":"\u65CB\u8F6C\u624B\u67C4","preferences.binding.handles":"\u6346\u7ED1\u624B\u67C4","preferences.clone.handles":"\u514B\u9686\u624B\u67C4",undo:"\u64A4\u9500",redo:"\u91CD\u505A",cut:"\u526A\u5207",copy:"\u590D\u5236",paste:"\u7C98\u8D34","copy.as":"\u590D\u5236\u4E3A","export.as":"\u5BFC\u51FA\u4E3A","select.all":"\u9009\u4E2D\u5168\u90E8","select.none":"\u53D6\u6D88\u9009\u4E2D",delete:"\u5220\u9664","new.project":"\u65B0\u9879\u76EE",open:"\u6253\u5F00",save:"\u4FDD\u5B58","save.as":"\u4FDD\u5B58\u4E3A","upload.media":"\u4E0A\u4F20\u5A92\u4F53\u6587\u4EF6","create.page":"\u521B\u5EFA\u9875\u9762","new.page":"\u65B0\u9875\u9762","page.name":"\u9875\u9762\u540D\u79F0",duplicate:"\u590D\u5236",cancel:"\u53D6\u6D88","copy.invite.link":"\u590D\u5236\u9080\u8BF7\u94FE\u63A5","create.multiplayer.project":"\u521B\u5EFA\u591A\u4EBA\u9879\u76EE","copy.multiplayer.project":"\u590D\u5236\u5230\u591A\u4EBA\u9879\u76EE",select:"\u9009\u62E9",eraser:"\u6A61\u76AE",draw:"\u753B\u7B14",arrow:"\u7BAD\u5934",text:"\u6587\u672C",sticky:"\u4FBF\u5229\u8D34",rectangle:"\u77E9\u5F62",ellipse:"\u692D\u5706\u5F62",triangle:"\u4E09\u89D2\u5F62",line:"\u76F4\u7EBF",rotate:"\u65CB\u8F6C","lock.aspect.ratio":"\u9501\u5B9A\u5BBD\u9AD8\u6BD4","unlock.aspect.ratio":"\u89E3\u9501\u5BBD\u9AD8\u6BD4",group:"\u5206\u7EC4",ungroup:"\u53D6\u6D88\u5206\u7EC4","move.to.back":"\u7F6E\u5E95","move.backward":"\u4E0B\u79FB\u4E00\u5C42","move.forward":"\u4E0A\u79FB\u4E00\u5C42","move.to.front":"\u7F6E\u9876","reset.angle":"\u91CD\u7F6E\u65CB\u8F6C\u89D2\u5EA6",lock:"\u9501\u5B9A",unlock:"\u89E3\u9501","move.to.page":"\u79FB\u52A8\u5230\u9875\u9762","flip.horizontal":"\u6C34\u5E73\u7FFB\u8F6C","flip.vertical":"\u5782\u76F4\u7FFB\u8F6C",move:"\u79FB\u52A8","to.front":"\u7F6E\u9876",forward:"\u4E0A\u4E00\u5C42",backward:"\u4E0B\u4E00\u5C42",back:"\u7F6E\u5E95",language:"\u8BED\u8A00","keyboard.shortcuts":"\u952E\u76D8\u5FEB\u6377\u952E","translation.link":"\u4E86\u89E3\u66F4\u591A",page:"\u9875\u9762","dock.position":"\u951A\u70B9\u4F4D\u7F6E",bottom:"\u4E0B\u9762",left:"\u5DE6\u9762",right:"\u53F3\u9762",top:"\u4E0A\u9762","export.background":"\u5BFC\u51FA\u80CC\u666F\u8272",transparent:"\u900F\u660E",auto:"\u81EA\u52A8",light:"\u660E\u4EAE",dark:"\u6697\u9ED1","copy.readonly.link":"\u590D\u5236\u53EA\u8BFB\u94FE\u63A5",image:"\u56FE\u7247","align.distribute":"\u5BF9\u9F50 / \u5206\u6563","dialog.save.firsttime":"\u60A8\u662F\u5426\u60F3\u4FDD\u5B58\u5F53\u524D\u7684\u9879\u76EE\uFF1F","dialog.save.again":"\u60A8\u662F\u5426\u60F3\u4FDD\u5B58\u5BF9\u5F53\u524D\u9879\u76EE\u7684\u66F4\u6539\uFF1F","dialog.cancel":"\u53D6\u6D88","dialog.no":"\u5426","dialog.yes":"\u662F"};var hl={"style.menu.color":"\u984F\u8272","style.menu.fill":"\u586B\u5145","style.menu.dash":"\u865B\u7DDA","style.menu.size":"\u5927\u5C0F","style.menu.keep.open":"\u4FDD\u6301\u958B\u555F","style.menu.font":"\u5B57\u578B","style.menu.align":"\u5C0D\u9F4A",styles:"\u6A23\u5F0F","zoom.in":"\u653E\u5927","zoom.out":"\u7E2E\u5C0F",to:"\u81F3","menu.file":"\u6A94\u6848","menu.edit":"\u7DE8\u8F2F","menu.view":"\u6AA2\u8996","menu.preferences":"\u9078\u9805","menu.sign.in":"\u767B\u5165","menu.sign.out":"\u767B\u51FA","become.a.sponsor":"\u6210\u70BA\u8D0A\u52A9\u8005","zoom.to.selection":"\u7E2E\u653E\u81F3\u9078\u53D6\u7BC4\u570D","zoom.to.fit":"\u7E2E\u653E\u81F3\u9069\u7576\u5927\u5C0F","zoom.to":"\u7E2E\u653E\u81F3","preferences.dark.mode":"\u6DF1\u8272\u6A21\u5F0F","preferences.focus.mode":"\u5C08\u6CE8\u6A21\u5F0F","preferences.debug.mode":"\u9664\u932F\u6A21\u5F0F","preferences.show.grid":"\u986F\u793A\u7DB2\u683C","preferences.use.cad.selection":"\u4F7F\u7528 CAD \u9078\u53D6","preferences.keep.stylemenu.open":"\u6A23\u5F0F\u9078\u55AE\u4FDD\u6301\u958B\u555F","preferences.always.show.snaps":"\u6C38\u9060\u986F\u793A\u5C0D\u9F4A\u7DDA","preferences.rotate.handles":"\u65CB\u8F49\u63A7\u9EDE","preferences.binding.handles":"\u7D81\u5B9A\u63A7\u9EDE","preferences.clone.handles":"\u8907\u88FD\u63A7\u9EDE",undo:"\u5FA9\u539F",redo:"\u53D6\u6D88\u5FA9\u539F",cut:"\u526A\u4E0B",copy:"\u8907\u88FD",paste:"\u8CBC\u4E0A","copy.as":"\u8907\u88FD\u6210","export.as":"\u532F\u51FA\u6210","select.all":"\u5168\u9078","select.none":"\u53D6\u6D88\u9078\u53D6",delete:"\u522A\u9664","new.project":"\u65B0\u5C08\u6848",open:"\u958B\u555F",save:"\u5132\u5B58","save.as":"\u53E6\u5B58\u70BA","upload.media":"\u4E0A\u50B3\u5A92\u9AD4","create.page":"\u5EFA\u7ACB\u9801\u9762","new.page":"\u65B0\u9801\u9762","page.name":"\u9801\u9762\u540D\u7A31",duplicate:"\u8907\u88FD",cancel:"\u53D6\u6D88","copy.invite.link":"\u8907\u88FD\u9080\u8ACB\u9023\u7D50","copy.readonly.link":"\u8907\u88FD\u552F\u8B80\u9023\u7D50","create.multiplayer.project":"\u5EFA\u7ACB\u591A\u4EBA\u5C08\u6848","copy.multiplayer.project":"\u8907\u88FD\u81F3\u591A\u4EBA\u5C08\u6848",select:"\u9078\u53D6",eraser:"\u6A61\u76AE\u64E6",draw:"\u624B\u7E6A",arrow:"\u7BAD\u982D",text:"\u6587\u5B57",sticky:"\u4FBF\u5229\u8CBC",rectangle:"\u9577\u65B9\u5F62",ellipse:"\u6A62\u5713\u5F62",triangle:"\u4E09\u89D2\u5F62",line:"\u76F4\u7DDA",rotate:"\u65CB\u8F49","lock.aspect.ratio":"\u9396\u5B9A\u9577\u5BEC\u6BD4","unlock.aspect.ratio":"\u89E3\u9396\u9577\u5BEC\u6BD4",group:"\u7D44\u6210\u7FA4\u7D44",ungroup:"\u53D6\u6D88\u7FA4\u7D44","move.to.back":"\u79FB\u5230\u6700\u4E0B\u5C64","move.backward":"\u4E0B\u79FB\u4E00\u5C64","move.forward":"\u4E0A\u79FB\u4E00\u5C64","move.to.front":"\u79FB\u5230\u6700\u4E0A\u5C64","reset.angle":"\u91CD\u8A2D\u89D2\u5EA6",lock:"\u9396\u5B9A",unlock:"\u89E3\u9396","move.to.page":"\u79FB\u81F3\u9801\u9762","flip.horizontal":"\u6C34\u5E73\u7FFB\u8F49","flip.vertical":"\u5782\u76F4\u7FFB\u8F49",move:"\u79FB\u52D5","to.front":"\u5230\u6700\u4E0A\u5C64",forward:"\u5230\u4E0A\u4E00\u5C64",backward:"\u5230\u4E0B\u4E00\u5C64",back:"\u5230\u6700\u4E0B\u5C64",language:"\u8A9E\u8A00","translation.link":"\u4E86\u89E3\u8A73\u60C5","dock.position":"\u5DE5\u5177\u5217\u4F4D\u7F6E",bottom:"\u4E0B\u65B9",left:"\u5DE6\u5074",right:"\u53F3\u5074",top:"\u4E0A\u65B9",page:"\u9801\u9762"};var qr=[{locale:"ar",label:"\u0639\u0631\u0628\u064A",messages:ja},{locale:"da",label:"Danish",messages:Ga},{locale:"de",label:"Deutsch",messages:Va},{locale:"en",label:"English",messages:$a},{locale:"es",label:"Espa\xF1ol",messages:Na},{locale:"fa",label:"\u0641\u0627\u0631\u0633\u06CC",messages:Wa},{locale:"fr",label:"Fran\xE7ais",messages:Ka},{locale:"gl",label:"Galego",messages:Ua},{locale:"he",label:"\u05E2\u05D1\u05E8\u05D9\u05EA",messages:_a},{locale:"it",label:"Italiano",messages:Ya},{locale:"ja",label:"\u65E5\u672C\u8A9E",messages:Za},{locale:"ko-kr",label:"\uD55C\uAD6D\uC5B4",messages:Xa},{locale:"my",label:"\u1019\u103C\u1014\u103A\u1019\u102C\u1005\u102C",messages:Qa},{locale:"nb-no",label:"Norwegian Bokm\xE5l",messages:el},{locale:"ne",label:"\u0928\u0947\u092A\u093E\u0932\u0940",messages:tl},{locale:"nn-no",label:"Norwegian Nynorsk",messages:nl},{locale:"pl",label:"Polski",messages:ol},{locale:"pt",label:"Portugu\xEAs - Europeu",messages:sl},{locale:"pt-br",label:"Portugu\xEAs - Brasil",messages:rl},{locale:"ru",label:"Russian",messages:il},{locale:"sv",label:"Svenska",messages:al},{locale:"te",label:"\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41",messages:ll},{locale:"tr",label:"T\xFCrk\xE7e",messages:cl},{locale:"uk",label:"Ukrainian",messages:pl},{locale:"zh-ch",label:"\u7B80\u4F53\u4E2D\u6587",messages:ul},{locale:"zh-tw",label:"\u7E41\u9AD4\u4E2D\u6587 (\u53F0\u7063)",messages:hl},{locale:"th",label:"\u0E20\u0E32\u0E29\u0E32\u0E44\u0E17\u0E22",messages:dl},{locale:"ku",label:"\u06A9\u0648\u0631\u062F\u06CC",messages:qa}];qr.sort((s,o)=>s.locale<o.locale?-1:1);function ml(s){var e;let o=qr.find(t=>t.locale===s);return{locale:s,label:(e=o==null?void 0:o.label)!=null?e:s,messages:S(S({},Ja),o==null?void 0:o.messages)}}function fl(s){return gl.useMemo(()=>ml(s!=null?s:navigator.language.split(/[-_]/)[0]),[s])}var Jr=R(require("react")),xi=Jr.createContext({}),Kr=()=>{let s=Jr.useContext(xi);if(!s)throw new Error("useCtx must be inside a Provider with a value");return s};var To=require("react/jsx-runtime"),X=ur.forwardRef((h,u)=>{var m=h,{onSelect:s,onClick:o,onDoubleClick:e,variant:t,children:n,isToolLocked:r=!1,disabled:i=!1,isActive:d=!1,onKeyDown:a,id:c}=m,p=De(m,["onSelect","onClick","onDoubleClick","variant","children","isToolLocked","disabled","isActive","onKeyDown","id"]);return(0,To.jsxs)(_u,k(S({ref:u,isActive:d,variant:t,onClick:o,disabled:i,onPointerDown:s,onDoubleClick:e,onKeyDown:a,bp:Pe,id:c},p),{children:[(0,To.jsx)(Rt,{children:n}),r&&(0,To.jsx)(Yu,{})]}))});function At(r){var i=r,{label:s,kbd:o,variant:e,isLocked:t}=i,n=De(i,["label","kbd","variant","isLocked"]);let d=V(),a=ur.useCallback(()=>{d.toggleToolLock()},[]),c=ur.useCallback(p=>{p.key===" "&&d.isForcePanning&&p.preventDefault()},[]);return(0,To.jsx)(ae,{label:s[0].toUpperCase()+s.slice(1),kbd:o,children:(0,To.jsx)(X,k(S({},n),{variant:e,isToolLocked:t&&n.isActive,onDoubleClick:a,onKeyDown:c,"aria-label":s[0].toUpperCase()+s.slice(1)}))})}var Rt=M("div",{position:"relative",height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"$ui",color:"inherit",userSelect:"none",WebkitUserSelect:"none",boxSizing:"border-box",border:"1px solid transparent","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent"}),_u=M("button",{position:"relative",color:"$text",fontSize:"$0",background:"none",margin:"0",padding:"$2",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",cursor:"pointer",pointerEvents:"all",height:"40px",width:"40px",border:"1px solid $panel","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent",[`&:disabled ${Rt}`]:{opacity:.618},variants:{variant:{primary:{marginTop:"0"},icon:{[`& ${Rt}`]:{display:"grid","& > *":{gridRow:1,gridColumn:1}}},text:{width:"auto",[`& ${Rt}`]:{fontSize:"$1",padding:"0 $3",gap:"$3"}},circle:{padding:0,height:32,width:32,border:"none",[`& ${Rt}`]:{border:"1px solid $panelContrast",borderRadius:"100%",boxShadow:"$panel"},[`& ${Rt} > svg`]:{width:14,height:14}}},isActive:{true:{},false:{}},bp:{mobile:{padding:0},small:{}}},compoundVariants:[{variant:"primary",bp:"mobile",css:{height:40,width:36,[`& ${Rt} > svg`]:{width:16,height:16}}},{variant:"primary",bp:"small",css:{height:"40px",width:"40px",[`& ${Rt} > svg`]:{width:20,height:20}}},{isActive:!0,css:{[`${Rt}`]:{backgroundColor:"$selected",color:"$selectedContrast"}}},{isActive:!1,bp:"small",css:{[`&:hover:not(:disabled) ${Rt}`]:{backgroundColor:"$hover"},[`&:focus:not(:disabled) ${Rt}`]:{backgroundColor:"$hover"}}}]}),Yu=M("div",{position:"absolute",width:10,height:10,backgroundColor:"$selected",borderRadius:"100%",bottom:-2,border:"2px solid $panel",zIndex:100});var E=require("react/jsx-runtime"),Zu=s=>s.document.pageStates[s.appState.currentPageId].selectedIds.length,Xu=s=>s.settings.isDebugMode,qu=s=>s.document.pageStates[s.appState.currentPageId].selectedIds.some(o=>s.document.pages[s.appState.currentPageId].shapes[o].children!==void 0),Ju=s=>s.stopPropagation(),Qu=({onBlur:s,children:o})=>{let e=Tt();return(0,E.jsxs)(de.Root,{dir:"ltr",children:[(0,E.jsx)(de.Trigger,{dir:"ltr",children:o}),(0,E.jsx)(de.Portal,{container:e.current,children:(0,E.jsx)(de.Content,{onEscapeKeyDown:Ju,tabIndex:-1,onBlur:s,asChild:!0,children:(0,E.jsx)(St,{id:"TD-ContextMenu",children:(0,E.jsx)(eh,{})})})})]})},eh=Q.memo(function(){let o=V(),e=(0,Te.useIntl)(),t=o.useStore(Zu),n=o.useStore(Xu),r=o.useStore(qu),i=Q.useCallback(()=>{o.flipHorizontal()},[o]),d=Q.useCallback(()=>{o.flipVertical()},[o]),a=Q.useCallback(()=>{o.duplicate()},[o]),c=Q.useCallback(()=>{o.toggleLocked()},[o]),p=Q.useCallback(()=>{o.group()},[o]),u=Q.useCallback(()=>{o.moveToBack()},[o]),h=Q.useCallback(()=>{o.moveBackward()},[o]),m=Q.useCallback(()=>{o.moveForward()},[o]),g=Q.useCallback(()=>{o.moveToFront()},[o]),f=Q.useCallback(()=>{o.delete()},[o]),y=Q.useCallback(()=>{o.cut()},[o]),T=Q.useCallback(()=>{o.copy()},[o]),b=Q.useCallback(()=>{o.paste()},[o]),w=Q.useCallback(()=>{o.copyImage("svg",{scale:1,quality:1,transparentBackground:!1})},[o]),v=Q.useCallback(()=>{o.copyImage("png",{scale:2,quality:1,transparentBackground:!0})},[o]),P=Q.useCallback(()=>{o.undo()},[o]),C=Q.useCallback(()=>{o.redo()},[o]),B=Q.useCallback(()=>F(this,null,function*(){o.exportImage("png",{scale:2,quality:1})}),[o]),I=Q.useCallback(()=>F(this,null,function*(){o.exportImage("jpeg",{scale:2,quality:1})}),[o]),D=Q.useCallback(()=>F(this,null,function*(){o.exportImage("webp",{scale:2,quality:1})}),[o]),A=Q.useCallback(()=>F(this,null,function*(){o.exportImage("svg",{scale:1,quality:1})}),[o]),O=Q.useCallback(()=>F(this,null,function*(){o.copyJson()}),[o]),L=Q.useCallback(()=>F(this,null,function*(){o.exportJson()}),[o]),se=t>0,J=t>1,ne=t>2;return(0,E.jsx)(E.Fragment,{children:se?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(oe,{onClick:a,kbd:"#D",id:"TD-ContextMenu-Duplicate",children:(0,E.jsx)(Te.FormattedMessage,{id:"duplicate"})}),(0,E.jsx)(oe,{onClick:i,kbd:"\u21E7H",id:"TD-ContextMenu-Flip_Horizontal",children:(0,E.jsx)(Te.FormattedMessage,{id:"flip.horizontal"})}),(0,E.jsx)(oe,{onClick:d,kbd:"\u21E7V",id:"TD-ContextMenu-Flip_Vertical",children:(0,E.jsx)(Te.FormattedMessage,{id:"flip.vertical"})}),(0,E.jsxs)(oe,{onClick:c,kbd:"#\u21E7L",id:"TD-ContextMenu- Lock_Unlock",children:[(0,E.jsx)(Te.FormattedMessage,{id:"lock"})," / ",(0,E.jsx)(Te.FormattedMessage,{id:"unlock"})]}),(J||r)&&(0,E.jsx)(ee,{}),J&&(0,E.jsx)(oe,{onClick:p,kbd:"#G",id:"TD-ContextMenu-Group",children:(0,E.jsx)(Te.FormattedMessage,{id:"group"})}),r&&(0,E.jsx)(oe,{onClick:p,kbd:"#G",id:"TD-ContextMenu-Ungroup",children:(0,E.jsx)(Te.FormattedMessage,{id:"ungroup"})}),(0,E.jsx)(ee,{}),(0,E.jsxs)(Qr,{label:e.formatMessage({id:"move"}),id:"TD-ContextMenu-Move",children:[(0,E.jsx)(oe,{onClick:g,kbd:"\u21E7]",id:"TD-ContextMenu-Move-To_Front",children:(0,E.jsx)(Te.FormattedMessage,{id:"to.front"})}),(0,E.jsx)(oe,{onClick:m,kbd:"]",id:"TD-ContextMenu-Move-Forward",children:(0,E.jsx)(Te.FormattedMessage,{id:"forward"})}),(0,E.jsx)(oe,{onClick:h,kbd:"[",id:"TD-ContextMenu-Move-Backward",children:(0,E.jsx)(Te.FormattedMessage,{id:"backward"})}),(0,E.jsx)(oe,{onClick:u,kbd:"\u21E7[",id:"TD-ContextMenu-Move-To_Back",children:(0,E.jsx)(Te.FormattedMessage,{id:"back"})})]}),(0,E.jsx)(sh,{}),J&&(0,E.jsx)(th,{hasTwoOrMore:J,hasThreeOrMore:ne}),(0,E.jsx)(ee,{}),(0,E.jsx)(oe,{onClick:y,kbd:"#X",id:"TD-ContextMenu-Cut",children:(0,E.jsx)(Te.FormattedMessage,{id:"cut"})}),(0,E.jsx)(oe,{onClick:T,kbd:"#C",id:"TD-ContextMenu-Copy",children:(0,E.jsx)(Te.FormattedMessage,{id:"copy"})}),(0,E.jsx)(oe,{onClick:b,kbd:"#V",id:"TD-ContextMenu-Paste",children:(0,E.jsx)(Te.FormattedMessage,{id:"paste"})}),(0,E.jsx)(ee,{}),(0,E.jsxs)(Qr,{label:`${e.formatMessage({id:"copy.as"})}...`,size:"small",id:"TD-ContextMenu-Copy-As",children:[(0,E.jsx)(oe,{onClick:w,id:"TD-ContextMenu-Copy-as-SVG",children:"SVG"}),(0,E.jsx)(oe,{onClick:v,id:"TD-ContextMenu-Copy-As-PNG",children:"PNG"}),n&&(0,E.jsx)(oe,{onClick:O,id:"TD-ContextMenu-Copy_as_JSON",children:"JSON"})]}),(0,E.jsxs)(Qr,{label:`${e.formatMessage({id:"export.as"})}...`,size:"small",id:"TD-ContextMenu-Export",children:[(0,E.jsx)(oe,{onClick:A,id:"TD-ContextMenu-Export-SVG",children:"SVG"}),(0,E.jsx)(oe,{onClick:B,id:"TD-ContextMenu-Export-PNG",children:"PNG"}),(0,E.jsx)(oe,{onClick:I,id:"TD-ContextMenu-Export-JPG",children:"JPG"}),(0,E.jsx)(oe,{onClick:D,id:"TD-ContextMenu-Export-WEBP",children:"WEBP"}),n&&(0,E.jsx)(oe,{onClick:L,id:"TD-ContextMenu-Export-JSON",children:"JSON"})]}),(0,E.jsx)(ee,{}),(0,E.jsx)(oe,{onClick:f,kbd:"\u232B",id:"TD-ContextMenu-Delete",children:(0,E.jsx)(Te.FormattedMessage,{id:"delete"})})]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(oe,{onClick:b,kbd:"#V",id:"TD-ContextMenu-Paste",children:(0,E.jsx)(Te.FormattedMessage,{id:"paste"})}),(0,E.jsx)(oe,{onClick:P,kbd:"#Z",id:"TD-ContextMenu-Undo",children:(0,E.jsx)(Te.FormattedMessage,{id:"undo"})}),(0,E.jsx)(oe,{onClick:C,kbd:"#\u21E7Z",id:"TD-ContextMenu-Redo",children:(0,E.jsx)(Te.FormattedMessage,{id:"redo"})}),(0,E.jsxs)(Qr,{label:`${e.formatMessage({id:"export.as"})}...`,size:"small",id:"TD-ContextMenu-Export",children:[(0,E.jsx)(oe,{onClick:A,id:"TD-ContextMenu-Export-SVG",children:"SVG"}),(0,E.jsx)(oe,{onClick:B,id:"TD-ContextMenu-Export-PNG",children:"PNG"}),(0,E.jsx)(oe,{onClick:I,id:"TD-ContextMenu-Export-JPG",children:"JPG"}),(0,E.jsx)(oe,{onClick:D,id:"TD-ContextMenu-Export-WEBP",children:"WEBP"}),n&&(0,E.jsx)(oe,{onClick:L,id:"TD-ContextMenu-Export-JSON",children:"JSON"})]})]})})});function th({hasThreeOrMore:s}){let o=V(),e=Q.useCallback(()=>{o.align("top")},[o]),t=Q.useCallback(()=>{o.align("centerVertical")},[o]),n=Q.useCallback(()=>{o.align("bottom")},[o]),r=Q.useCallback(()=>{o.stretch("vertical")},[o]),i=Q.useCallback(()=>{o.distribute("vertical")},[o]),d=Q.useCallback(()=>{o.align("left")},[o]),a=Q.useCallback(()=>{o.align("centerHorizontal")},[o]),c=Q.useCallback(()=>{o.align("right")},[o]),p=Q.useCallback(()=>{o.stretch("horizontal")},[o]),u=Q.useCallback(()=>{o.distribute("horizontal")},[o]),h=Tt();return(0,E.jsxs)(de.Sub,{children:[(0,E.jsx)(Ii,{id:"TD-ContextMenu-Align-Distribute-Trigger",children:(0,E.jsx)(Te.FormattedMessage,{id:"align.distribute"})}),(0,E.jsx)(de.Portal,{container:h.current,children:(0,E.jsx)(de.SubContent,{asChild:!0,sideOffset:4,alignOffset:-2,children:(0,E.jsxs)(nh,{numberOfSelected:s?"threeOrMore":"twoOrMore",children:[(0,E.jsx)(Ut,{onClick:d,id:"TD-ContextMenu-Align_Distribute-AlignLeft",children:(0,E.jsx)(Ae.AlignLeftIcon,{})}),(0,E.jsx)(Ut,{onClick:a,id:"TD-ContextMenu-Align_Distribute-AlignCenterHorizontal",children:(0,E.jsx)(Ae.AlignCenterHorizontallyIcon,{})}),(0,E.jsx)(Ut,{onClick:c,id:"TD-ContextMenu-Align_Distribute-AlignRight",children:(0,E.jsx)(Ae.AlignRightIcon,{})}),(0,E.jsx)(Ut,{onClick:p,id:"TD-ContextMenu-Align_Distribute-StretchHorizontal",children:(0,E.jsx)(Ae.StretchHorizontallyIcon,{})}),s&&(0,E.jsx)(Ut,{onClick:u,id:"TD-ContextMenu-Align_Distribute-SpaceEvenlyHorizontal",children:(0,E.jsx)(Ae.SpaceEvenlyHorizontallyIcon,{})}),(0,E.jsx)(Ut,{onClick:e,id:"TD-ContextMenu-Align_Distribute-AlignTop",children:(0,E.jsx)(Ae.AlignTopIcon,{})}),(0,E.jsx)(Ut,{onClick:t,id:"TD-ContextMenu-Align_Distribute-AlignCenterVertical",children:(0,E.jsx)(Ae.AlignCenterVerticallyIcon,{})}),(0,E.jsx)(Ut,{onClick:n,id:"TD-ContextMenu-Align_Distribute-AlignBottom",children:(0,E.jsx)(Ae.AlignBottomIcon,{})}),(0,E.jsx)(Ut,{onClick:r,id:"TD-ContextMenu-Align_Distribute-StretchVertical",children:(0,E.jsx)(Ae.StretchVerticallyIcon,{})}),s&&(0,E.jsx)(Ut,{onClick:i,id:"TD-ContextMenu-Align_Distribute-SpaceEvenlyVertical",children:(0,E.jsx)(Ae.SpaceEvenlyVerticallyIcon,{})}),(0,E.jsx)(vi,{offset:13})]})})})]})}var nh=M(St,{display:"grid",variants:{numberOfSelected:{threeOrMore:{gridTemplateColumns:"repeat(5, auto)"},twoOrMore:{gridTemplateColumns:"repeat(4, auto)"}}}}),oh=s=>s.appState.currentPageId,rh=s=>s.document.pages;function sh(){let s=V(),o=s.useStore(oh),e=s.useStore(rh),t=Object.values(e).sort((r,i)=>(r.childIndex||0)-(i.childIndex||0)).filter(r=>r.id!==o),n=Tt();return t.length===0?null:(0,E.jsxs)(de.Sub,{children:[(0,E.jsx)(Ii,{children:(0,E.jsx)(Te.FormattedMessage,{id:"move.to.page"})}),(0,E.jsx)(de.Portal,{container:n.current,children:(0,E.jsx)(de.SubContent,{sideOffset:4,alignOffset:-2,asChild:!0,children:(0,E.jsxs)(St,{children:[t.map(({id:r,name:i},d)=>(0,E.jsx)(oe,{disabled:r===o,onClick:()=>s.moveToPage(r),children:i||`Page ${d}`},r)),(0,E.jsx)(vi,{offset:13})]})})})]})}function Qr({children:s,label:o,size:e,id:t}){let n=Tt();return(0,E.jsxs)(de.Sub,{children:[(0,E.jsx)(Ii,{children:o}),(0,E.jsx)(de.Portal,{container:n.current,children:(0,E.jsx)(de.SubContent,{sideOffset:4,alignOffset:-2,asChild:!0,children:(0,E.jsxs)(St,{size:e,children:[s,(0,E.jsx)(vi,{offset:13})]})})})]})}var vi=M(de.ContextMenuArrow,{fill:"$panel"});function Ut(e){var t=e,{onSelect:s}=t,o=De(t,["onSelect"]);return(0,E.jsx)(de.ContextMenuItem,{dir:"ltr",onSelect:s,asChild:!0,children:(0,E.jsx)(X,S({},o))})}var oe=e=>{var t=e,{id:s}=t,o=De(t,["id"]);return(0,E.jsx)(de.ContextMenuItem,{asChild:!0,id:s,children:(0,E.jsx)(pe,S({},o))})},Ii=e=>{var t=e,{id:s}=t,o=De(t,["id"]);return(0,E.jsx)(de.SubTrigger,{asChild:!0,id:s,children:(0,E.jsx)(pe,S({hasArrow:!0},o))})},Sl=Q.memo(Qu);var yt=require("react/jsx-runtime");function bl({error:s,resetErrorBoundary:o}){let e=V(),t=()=>{window.location.reload(),o()},n=()=>{let d=document.createElement("textarea");d.value=s.message,document.body.appendChild(d),d.select(),document.execCommand("copy"),d.remove()},r=()=>{e.saveProjectAs()},i=()=>{e.resetDocument(),o()};return(0,yt.jsx)(ih,{children:(0,yt.jsxs)(ah,{children:[(0,yt.jsx)("div",{children:"We've encountered an error!"}),(0,yt.jsx)("pre",{children:(0,yt.jsx)("code",{children:s.message})}),(0,yt.jsxs)(lh,{children:[(0,yt.jsx)(pe,{onClick:n,children:"Copy Error"}),(0,yt.jsx)(pe,{onClick:t,children:"Refresh Page"})]}),(0,yt.jsx)(ee,{}),(0,yt.jsxs)("p",{children:["Keep getting this error?"," ",(0,yt.jsx)("a",{onClick:r,title:"Download your project",children:"Download your project"})," ","as a backup and then"," ",(0,yt.jsx)("a",{onClick:i,title:"Reset the document",children:"reset the document"}),"."]})]})})}var ih=M("div",{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"$canvas"}),ah=M("div",{backgroundColor:"$panel",border:"1px solid $panelContrast",padding:"$5",borderRadius:8,boxShadow:"$panel",maxWidth:320,color:"$text",fontFamily:"$ui",fontSize:"$2",textAlign:"center",display:"flex",flexDirection:"column",gap:"$3","& > pre":{marginTop:"$3",marginBottom:"$3",textAlign:"left",whiteSpace:"pre-wrap",backgroundColor:"$hover",padding:"$4",borderRadius:"$2",fontFamily:'"Menlo", "Monaco", monospace',fontWeight:500},"& p":{fontFamily:"$body",lineHeight:1.7,padding:"$5",margin:0},"& a":{color:"$text",cursor:"pointer",textDecoration:"underline"},"& hr":{marginLeft:"-$5",marginRight:"-$5"}}),lh=M("div",{display:"flex","& > button > div":{justifyContent:"center",textAlign:"center"}});var Tl=require("@radix-ui/react-icons");var yo=M("button",{position:"relative",height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",outline:"none",border:"none",pointerEvents:"all",fontSize:"$0",color:"$text",cursor:"pointer",display:"grid",alignItems:"center",justifyContent:"center","& > *":{gridRow:1,gridColumn:1},"&:disabled":{opacity:"0.5"},"& > span":{width:"100%",height:"100%",display:"flex",alignItems:"center"},variants:{bp:{mobile:{backgroundColor:"transparent"},small:{"&:hover:not(:disabled)":{backgroundColor:"$hover"}}},size:{small:{height:32,width:32,"& svg:nth-of-type(1)":{height:"16px",width:"16px"}},medium:{height:44,width:44,"& svg:nth-of-type(1)":{height:"18px",width:"18px"}},large:{height:44,width:44,"& svg:nth-of-type(1)":{height:"20px",width:"20px"}}},isActive:{true:{color:"$selected"}}}});var Ci=require("react/jsx-runtime");function yl({onSelect:s}){return(0,Ci.jsx)(dh,{children:(0,Ci.jsx)(yo,{onClick:s,children:(0,Ci.jsx)(Tl.DotFilledIcon,{})})})}var dh=M("div",{opacity:1,zIndex:100,backgroundColor:"transparent","& svg":{color:"$text"},"&:hover svg":{color:"$text"}});var kl=require("react-intl");var wl=require("react/jsx-runtime"),ch=s=>s.appState.isLoading;function Di(){let o=V().useStore(ch);return(0,wl.jsx)(ph,{hidden:!o,children:(0,wl.jsx)(kl.FormattedMessage,{id:"loading",values:{dots:"..."}})})}var ph=M("div",{position:"absolute",top:0,left:"50%",transform:"translate(-50%, 0)",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px",padding:"8px 16px",fontFamily:"var(--fonts-ui)",fontSize:"var(--fontSizes-1)",boxShadow:"var(--shadows-panel)",backgroundColor:"white",zIndex:200,pointerEvents:"none","& > div > *":{pointerEvents:"all"},variants:{transform:{hidden:{transform:"translate(-50%, 100%)"},visible:{transform:"translate(-50%, 0%)"}}}});var tt=R(require("@radix-ui/react-alert-dialog")),wo=require("react-intl");var Ge=require("react/jsx-runtime");function uh({children:s,onClose:o,container:e}){return(0,Ge.jsxs)(tt.Portal,{container:e,children:[(0,Ge.jsx)(bh,{}),(0,Ge.jsx)(Th,{onKeyDown:n=>{switch(n.key){case"Escape":o==null||o();break}},children:s})]})}var hh=M(tt.Description,{marginBottom:20,color:"$text",fontSize:"$2",lineHeight:1.5,textAlign:"center",maxWidth:"62%",minWidth:0,alignSelf:"center"}),mh=tt.Root,gh=uh,fh=hh,xl=tt.Action,Sh=tt.Cancel,vl=({container:s})=>{let{setDialogState:o,dialogState:e,onCancel:t,onNo:n,onYes:r}=Kr(),i=(0,wo.useIntl)(),d={saveFirstTime:i.formatMessage({id:"dialog.save.firsttime"}),saveAgain:i.formatMessage({id:"dialog.save.again"})};return(0,Ge.jsx)(mh,{open:e!==null,children:(0,Ge.jsxs)(gh,{onClose:()=>o(null),container:s,children:[e&&(0,Ge.jsx)(fh,{children:d[e]}),(0,Ge.jsxs)("div",{style:{width:"100%",gap:"$6",display:"flex",justifyContent:"space-between"},children:[t&&(0,Ge.jsx)(Sh,{asChild:!0,children:(0,Ge.jsx)(ko,{css:{color:"$text"},onClick:()=>{t(),o(null)},children:(0,Ge.jsx)(wo.FormattedMessage,{id:"dialog.cancel"})})}),(0,Ge.jsxs)("div",{style:{flexShrink:0},children:[n&&(0,Ge.jsx)(xl,{asChild:!0,children:(0,Ge.jsx)(ko,{onClick:()=>{n(),o(null)},children:(0,Ge.jsx)(wo.FormattedMessage,{id:"dialog.no"})})}),r&&(0,Ge.jsx)(xl,{asChild:!0,children:(0,Ge.jsx)(ko,{css:{backgroundColor:"#2F80ED",color:"White"},onClick:()=>{r(),o(null)},children:(0,Ge.jsx)(wo.FormattedMessage,{id:"dialog.yes"})})})]})]})]})})},bh=M(tt.Overlay,{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, .15)",pointerEvents:"all"}),Wb=M(tt.Overlay,{backgroundColor:"rgba(0, 0, 0, .15)",position:"absolute",pointerEvents:"all",inset:0}),Th=M(tt.Content,{position:"fixed",font:"$ui",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"max-content",padding:"$3",pointerEvents:"all",backgroundColor:"$panel",borderRadius:"$3",display:"flex",flexDirection:"column",justifyContent:"center",fontFamily:"$ui",border:"1px solid $panelContrast",boxShadow:"$panel"}),ko=M("button",{all:"unset",display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:"$2",padding:"0 15px",fontSize:"$1",lineHeight:1,fontWeight:"normal",height:36,color:"$text",cursor:"pointer",minWidth:48});var Lt=R(require("@radix-ui/react-alert-dialog")),Cl=require("@radix-ui/react-icons"),hr=R(require("react")),mr=require("react-intl");var Il=R(require("react"));var es=require("react/jsx-runtime"),ts=Il.forwardRef((t,e)=>{var n=t,{icon:s}=n,o=De(n,["icon"]);return(0,es.jsxs)(yh,{children:[(0,es.jsx)(wh,k(S({},o),{ref:e})),s?(0,es.jsx)(kh,{children:s}):null]})}),yh=M("div",{position:"relative",width:"100%",height:"min-content"}),wh=M("input",{color:"$text",border:"none",textAlign:"left",width:"100%",paddingLeft:"$3",paddingRight:"$6",backgroundColor:"$background",height:"32px",outline:"none",fontFamily:"$ui",fontSize:"$1","&:focus":{backgroundColor:"$hover"},borderRadius:"$2"}),kh=M(je,{top:0,right:0,position:"absolute",paddingLeft:"$3",paddingRight:"$3",pointerEvents:"none",color:"$text"});var lt=require("react/jsx-runtime"),Dl=({isOpen:s,onClose:o})=>{let e=V(),t=Tt(),n=(0,mr.useIntl)(),[r,i]=hr.useState(e.document.name),d=hr.useCallback(p=>{let u=p.target.value.trimStart();i(u)},[]);function a(p){p.stopPropagation()}let c=hr.useCallback(p=>{switch(p.key){case"Enter":{e.saveProjectAs(r),o();break}case"Escape":{o();break}}},[]);return(0,lt.jsx)(Lt.Root,{open:s,children:(0,lt.jsxs)(Lt.Portal,{container:t.current,children:[(0,lt.jsx)(vh,{onPointerDown:o}),(0,lt.jsxs)(xh,{dir:"ltr",onKeyDown:a,onKeyUp:a,children:[(0,lt.jsx)(Ch,{placeholder:n.formatMessage({id:"enter.file.name"}),value:r,onChange:d,onKeyDown:c,icon:(0,lt.jsx)(Cl.Pencil1Icon,{})}),(0,lt.jsxs)(Ih,{children:[(0,lt.jsx)(Lt.Action,{asChild:!0,children:(0,lt.jsx)(ko,{onClick:o,children:(0,lt.jsx)(mr.FormattedMessage,{id:"cancel"})})}),(0,lt.jsx)(Lt.Action,{asChild:!0,children:(0,lt.jsx)(ko,{css:{backgroundColor:"#2F80ED",color:"White"},onClick:()=>{let p=r.trim().replace(/\.tldr$/,"");e.saveProjectAs(p),o()},children:(0,lt.jsx)(mr.FormattedMessage,{id:"save"})})})]})]})]})})},xh=M(Lt.Content,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:300,maxWidth:"fit-content",maxHeight:"85vh",marginTop:"-5vh",pointerEvents:"all",backgroundColor:"$panel",padding:"$3",borderRadius:"$2",font:"$ui",zIndex:999999,"&:focus":{outline:"none"}}),vh=M(Lt.Overlay,{backgroundColor:"rgba(0, 0, 0, .15)",position:"absolute",pointerEvents:"all",inset:0,zIndex:999998}),Ih=M("div",{width:"100%",display:"flex",alignItems:"center",gap:8,justifyContent:"flex-end",marginTop:10}),Ch=M(ts,{background:"$hover"});var Cd=R(require("react"));var ss=R(require("@radix-ui/react-dropdown-menu")),U=require("@radix-ui/react-icons"),ke=R(require("react")),zl=require("react-intl");var Ml=require("@radix-ui/react-dropdown-menu");var Pl=require("react/jsx-runtime");function Z(t){var n=t,{onSelect:s,id:o}=n,e=De(n,["onSelect","id"]);return(0,Pl.jsx)(Ml.Item,{dir:"ltr",asChild:!0,onSelect:s,id:o,children:(0,Pl.jsx)(pe,S({},e))})}var Bl=require("@radix-ui/react-dropdown-menu");var le=s=>s.preventDefault();var El=require("react/jsx-runtime");function dt({checked:s,disabled:o=!1,variant:e,onCheckedChange:t,kbd:n,id:r,ariaLabel:i,children:d}){return(0,El.jsx)(Bl.CheckboxItem,{dir:"ltr",onSelect:le,onCheckedChange:t,checked:s,disabled:o,asChild:!0,id:r,"aria-label":i,children:(0,El.jsx)(pe,{kbd:n,variant:e,hasIndicator:!0,children:d})})}var ns=R(require("@radix-ui/react-dropdown-menu"));var $e=s=>s.stopPropagation();var Pi=require("react/jsx-runtime");function ct({sideOffset:s=4,alignOffset:o=0,children:e,align:t,variant:n,id:r,overflow:i=!1,side:d="bottom"}){let a=Tt();return(0,Pi.jsx)(ns.Portal,{container:a.current,dir:"ltr",children:(0,Pi.jsx)(ns.Content,{align:t,alignOffset:o,sideOffset:s,onEscapeKeyDown:$e,asChild:!0,id:r,side:d,children:(0,Pi.jsx)(Dh,{variant:n,overflow:i,children:e})})})}var Dh=M(St,{width:"fit-content",height:"fit-content",minWidth:0,maxHeight:"100vh",overflowY:"auto",overflowX:"hidden","&::webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none",scrollbarWidth:"none",variants:{variant:{horizontal:{flexDirection:"row"},menu:{minWidth:128}},overflow:{true:{maxHeight:"60vh"}}}});var Rl=require("@radix-ui/react-dropdown-menu");var yT=M(Rl.Separator,{backgroundColor:"$hover",height:1,marginTop:"$2",marginRight:"-$2",marginBottom:"$2",marginLeft:"-$2"});var Al=require("@radix-ui/react-dropdown-menu");var gr=M(Al.RadioItem,{height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",variants:{isActive:{true:{backgroundColor:"$selected",color:"white"},false:{}},bp:{mobile:{},small:{}}},compoundVariants:[{isActive:!1,bp:"small",css:{"&:focus":{backgroundColor:"$hover"},"&:hover:not(:disabled)":{backgroundColor:"$hover"}}}]});var kn=require("@radix-ui/react-dropdown-menu");var _n=require("react/jsx-runtime");function _t({children:s,size:o,overflow:e=!1,disabled:t=!1,label:n,id:r}){return(0,_n.jsxs)(kn.Sub,{children:[(0,_n.jsx)(kn.SubTrigger,{dir:"ltr",asChild:!0,children:(0,_n.jsx)(pe,{disabled:t,hasArrow:!0,children:n})}),(0,_n.jsx)(kn.SubContent,{asChild:!0,sideOffset:4,alignOffset:-4,children:(0,_n.jsxs)(St,{size:o,overflow:e,children:[s,(0,_n.jsx)(kn.Arrow,{offset:13})]})})]},r)}var Hl=require("@radix-ui/react-dropdown-menu");var Ll=require("react/jsx-runtime");function os(t){var n=t,{id:s,children:o}=n,e=De(n,["id","children"]);return(0,Ll.jsx)(Hl.Trigger,{asChild:!0,id:s,children:(0,Ll.jsx)(X,k(S({},e),{children:o}))})}var H=require("react/jsx-runtime"),Ph=s=>s.settings.dockPosition,Mh=s=>s.document.pageStates[s.appState.currentPageId].selectedIds.length,Eh=s=>{let o=s.document.pages[s.appState.currentPageId],{selectedIds:e}=s.document.pageStates[s.appState.currentPageId];return e.every(t=>o.shapes[t].isLocked)},Bh=s=>{let o=s.document.pages[s.appState.currentPageId],{selectedIds:e}=s.document.pageStates[s.appState.currentPageId];return e.every(t=>o.shapes[t].isAspectRatioLocked)},Rh=s=>{let o=s.document.pages[s.appState.currentPageId],e=s.document.pageStates[s.appState.currentPageId].selectedIds.map(t=>o.shapes[t]);return e.every(t=>t.children!==void 0||t.parentId===e[0].parentId&&e[0].parentId!==s.appState.currentPageId)},Ah=s=>{let{selectedIds:o}=s.document.pageStates[s.appState.currentPageId];return o.length>0},Lh=s=>{let{selectedIds:o}=s.document.pageStates[s.appState.currentPageId];return o.length>1};function Ol(){let s=V(),o=(0,zl.useIntl)(),e=s.useStore(Eh),t=s.useStore(Bh),n=s.useStore(Rh),r=s.useStore(Ah),i=s.useStore(Lh),d=s.useStore(Mh),a=s.useStore(Ph),c=d>1,p=d>2,u=ke.useCallback(()=>{s.rotate()},[s]),h=ke.useCallback(()=>{s.duplicate()},[s]),m=ke.useCallback(()=>{s.toggleLocked()},[s]),g=ke.useCallback(()=>{s.toggleAspectRatioLocked()},[s]),f=ke.useCallback(()=>{s.group()},[s]),y=ke.useCallback(()=>{s.moveToBack()},[s]),T=ke.useCallback(()=>{s.moveBackward()},[s]),b=ke.useCallback(()=>{s.moveForward()},[s]),w=ke.useCallback(()=>{s.moveToFront()},[s]),v=ke.useCallback(()=>{s.setShapeProps({rotation:0})},[s]),P=ke.useCallback(()=>{s.align("top")},[s]),C=ke.useCallback(()=>{s.align("centerVertical")},[s]),B=ke.useCallback(()=>{s.align("bottom")},[s]),I=ke.useCallback(()=>{s.stretch("vertical")},[s]),D=ke.useCallback(()=>{s.distribute("vertical")},[s]),A=ke.useCallback(()=>{s.align("left")},[s]),O=ke.useCallback(()=>{s.align("centerHorizontal")},[s]),L=ke.useCallback(()=>{s.align("right")},[s]),se=ke.useCallback(()=>{s.stretch("horizontal")},[s]),J=ke.useCallback(()=>{s.distribute("horizontal")},[s]),ne=ke.useCallback(et=>{s.setMenuOpen(et)},[s]),ie=a==="bottom"||a==="top"?"top":a;return(0,H.jsxs)(ss.Root,{dir:"ltr",onOpenChange:ne,children:[(0,H.jsx)(ss.Trigger,{dir:"ltr",asChild:!0,id:"TD-Tools-Dots",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"shape.options"}),variant:"circle",children:(0,H.jsx)(U.DotsHorizontalIcon,{})})}),(0,H.jsx)(ct,{sideOffset:16,side:ie,children:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(rs,{children:[(0,H.jsx)(ae,{label:o.formatMessage({id:"duplicate"}),kbd:"#D",id:"TD-Tools-Copy",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"duplicate"}),disabled:!r,onClick:h,children:(0,H.jsx)(U.CopyIcon,{})})}),(0,H.jsx)(ae,{label:o.formatMessage({id:"rotate"}),id:"TD-Tools-Rotate",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"rotate"}),disabled:!r,onClick:u,children:(0,H.jsx)(U.RotateCounterClockwiseIcon,{})})}),(0,H.jsx)(ae,{label:o.formatMessage({id:e?"unlock":"lock"}),kbd:"#L",id:"TD-Tools-Lock",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:e?"unlock":"lock"}),disabled:!r,onClick:m,children:e?(0,H.jsx)(U.LockClosedIcon,{}):(0,H.jsx)(U.LockOpen1Icon,{})})}),(0,H.jsx)(ae,{label:o.formatMessage({id:t?"unlock.aspect.ratio":"lock.aspect.ratio"}),id:"TD-Tools-AspectRatio",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:t?"unlock.aspect.ratio":"lock.aspect.ratio"}),disabled:!r,onClick:g,children:t?(0,H.jsx)(U.AspectRatioIcon,{}):(0,H.jsx)(U.BoxIcon,{})})}),(0,H.jsx)(ae,{label:o.formatMessage({id:"group"}),kbd:"#G",id:"TD-Tools-Group",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"group"}),disabled:!r||!n&&!i,onClick:f,children:(0,H.jsx)(U.GroupIcon,{})})})]}),(0,H.jsxs)(rs,{children:[(0,H.jsx)(ae,{label:o.formatMessage({id:"move.to.back"}),kbd:"#\u21E7[",id:"TD-Tools-PinBottom",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"move.to.back"}),disabled:!r,onClick:y,children:(0,H.jsx)(U.PinBottomIcon,{})})}),(0,H.jsx)(ae,{label:o.formatMessage({id:"move.backward"}),kbd:"#[",id:"TD-Tools-ArrowDown",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"move.backward"}),disabled:!r,onClick:T,children:(0,H.jsx)(U.ArrowDownIcon,{})})}),(0,H.jsx)(ae,{label:o.formatMessage({id:"move.forward"}),kbd:"#]",id:"TD-Tools-ArrowUp",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"move.forward"}),disabled:!r,onClick:b,children:(0,H.jsx)(U.ArrowUpIcon,{})})}),(0,H.jsx)(ae,{label:o.formatMessage({id:"move.to.front"}),kbd:"#\u21E7]",id:"TD-Tools-PinTop",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"move.to.front"}),disabled:!r,onClick:w,children:(0,H.jsx)(U.PinTopIcon,{})})}),(0,H.jsx)(ae,{label:o.formatMessage({id:"reset.angle"}),id:"TD-Tools-ResetAngle",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"reset.angle"}),disabled:!r,onClick:v,children:(0,H.jsx)(U.AngleIcon,{})})})]}),(0,H.jsx)(ee,{}),(0,H.jsxs)(rs,{children:[(0,H.jsx)(ae,{label:o.formatMessage({id:"align.left"}),id:"TD-Tools-AlignLeft",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"align.left"}),disabled:!c,onClick:A,children:(0,H.jsx)(U.AlignLeftIcon,{})})}),(0,H.jsx)(ae,{label:o.formatMessage({id:"align.center.x"}),id:"TD-Tools-AlignCenterHorizontal",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"align.center.x"}),disabled:!c,onClick:O,children:(0,H.jsx)(U.AlignCenterHorizontallyIcon,{})})}),(0,H.jsx)(ae,{label:o.formatMessage({id:"align.right"}),id:"TD-Tools-AlignRight",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"align.right"}),disabled:!c,onClick:L,children:(0,H.jsx)(U.AlignRightIcon,{})})}),(0,H.jsx)(ae,{label:o.formatMessage({id:"stretch.x"}),id:"TD-Tools-StretchHorizontal",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"stretch.x"}),disabled:!c,onClick:se,children:(0,H.jsx)(U.StretchHorizontallyIcon,{})})}),(0,H.jsx)(ae,{label:o.formatMessage({id:"distribute.x"}),id:"TD-Tools-SpaceEvenlyHorizontal",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"distribute.x"}),disabled:!p,onClick:J,children:(0,H.jsx)(U.SpaceEvenlyHorizontallyIcon,{})})})]}),(0,H.jsxs)(rs,{children:[(0,H.jsx)(ae,{label:o.formatMessage({id:"align.top"}),id:"TD-Tools-AlignTop",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"align.top"}),disabled:!c,onClick:P,children:(0,H.jsx)(U.AlignTopIcon,{})})}),(0,H.jsx)(ae,{label:o.formatMessage({id:"align.center.y"}),id:"TD-Tools-AlignCenterVertical",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"align.center.y"}),disabled:!c,onClick:C,children:(0,H.jsx)(U.AlignCenterVerticallyIcon,{})})}),(0,H.jsx)(ae,{label:o.formatMessage({id:"align.bottom"}),id:"TD-Tools-AlignBottom",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"align.bottom"}),disabled:!c,onClick:B,children:(0,H.jsx)(U.AlignBottomIcon,{})})}),(0,H.jsx)(ae,{label:o.formatMessage({id:"stretch.y"}),id:"TD-Tools-StretchVertical",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"stretch.y"}),disabled:!c,onClick:I,children:(0,H.jsx)(U.StretchVerticallyIcon,{})})}),(0,H.jsx)(ae,{label:o.formatMessage({id:"distribute.y"}),id:"TD-Tools-SpaceEvenlyVertical",children:(0,H.jsx)(X,{"aria-label":o.formatMessage({id:"distribute.y"}),disabled:!p,onClick:D,children:(0,H.jsx)(U.SpaceEvenlyVerticallyIcon,{})})})]})]})})]})}var rs=M("div",{position:"relative",display:"flex",width:"100%",background:"none",border:"none",cursor:"pointer",outline:"none",alignItems:"center",justifyContent:"flex-start",padding:0});var Fl=R(require("react")),jl=require("react-intl");var Mi=require("react/jsx-runtime"),Hh=s=>s.appState.isEmptyCanvas&&Object.keys(s.document.pages[s.appState.currentPageId].shapes).length>0,zh=s=>s.settings.isDebugMode,Oh=s=>s.settings.dockPosition,Gl=Fl.memo(function(){let o=V(),e=o.useStore(Hh),t=o.useStore(Oh),n=o.useStore(zh),r={bottom:t==="bottom"&&n?120:t==="bottom"?80:n?60:20,left:"50%",transform:"translate(-50%,0)"};return e?(0,Mi.jsx)(Fh,{id:"TD-Tools-Back_to_content",style:S({},r),children:(0,Mi.jsx)(pe,{onClick:o.zoomToContent,children:(0,Mi.jsx)(jl.FormattedMessage,{id:"zoom.to.content"})})}):null}),Fh=M(St,{pointerEvents:"all",width:"fit-content",minWidth:0,position:"fixed",bottom:0});var dd=R(require("react")),cd=require("react-intl");var QT=require("react/jsx-runtime");var Vl=require("react/jsx-runtime");function Ei(s){let t=s,{size:o=16}=t,e=De(t,["size"]);return(0,Vl.jsx)("svg",k(S({width:24,height:24},e),{children:(0,Vl.jsx)("circle",{cx:12,cy:12,r:o/2})}))}var $l=require("react/jsx-runtime");function Nl(){return(0,$l.jsx)("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,$l.jsx)("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:50.26548*.1})})}var Wl=require("react/jsx-runtime"),jh=`${50.26548*.025} ${50.26548*.1}`;function Kl(){return(0,Wl.jsx)("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,Wl.jsx)("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:jh})})}var Ul=require("react/jsx-runtime");function _l(){return(0,Ul.jsx)("svg",{width:"24",height:"24",viewBox:"1 1.5 21 22",fill:"currentColor",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,Ul.jsx)("path",{d:"M10.0162 19.2768C10.0162 19.2768 9.90679 19.2517 9.6879 19.2017C9.46275 19.1454 9.12816 19.0422 8.68413 18.8921C8.23384 18.7358 7.81482 18.545 7.42707 18.3199C7.03307 18.101 6.62343 17.7883 6.19816 17.3818C5.77289 16.9753 5.33511 16.3718 4.88482 15.5713C4.43453 14.7645 4.1531 13.8545 4.04053 12.8414C3.92795 11.822 4.04991 10.8464 4.40639 9.91451C4.76286 8.98266 5.39452 8.10084 6.30135 7.26906C7.21444 6.44353 8.29325 5.83377 9.5378 5.43976C10.7823 5.05202 11.833 4.92068 12.6898 5.04576C13.5466 5.16459 14.3878 5.43664 15.2133 5.86191C16.0388 6.28718 16.7768 6.8688 17.4272 7.60678C18.0714 8.34475 18.5404 9.21406 18.8344 10.2147C19.1283 11.2153 19.1721 12.2598 18.9657 13.348C18.7593 14.4299 18.2872 15.4337 17.5492 16.3593C16.8112 17.2849 15.9263 18.0072 14.8944 18.5263C13.8624 19.0391 12.9056 19.3174 12.0238 19.3612C11.142 19.405 10.2101 19.2705 9.22823 18.9578C8.24635 18.6451 7.35828 18.151 6.56402 17.4756C5.77601 16.8002 6.08871 16.8658 7.50212 17.6726C8.90927 18.4731 10.1444 18.8484 11.2076 18.7983C12.2645 18.7545 13.2965 18.4825 14.3034 17.9822C15.3102 17.4819 16.1264 16.8221 16.7518 16.0028C17.3772 15.1835 17.7681 14.3111 17.9244 13.3855C18.0808 12.4599 18.0401 11.5781 17.8025 10.74C17.5586 9.902 17.1739 9.15464 16.6486 8.49797C16.1233 7.8413 15.2289 7.27844 13.9656 6.80939C12.7086 6.34034 11.4203 6.20901 10.1007 6.41539C8.78732 6.61552 7.69599 7.06893 6.82669 7.77564C5.96363 8.48859 5.34761 9.26409 4.97863 10.1021C4.60964 10.9402 4.45329 11.8376 4.50958 12.7945C4.56586 13.7513 4.79101 14.6238 5.18501 15.4118C5.57276 16.1998 5.96363 16.8002 6.35764 17.2129C6.75164 17.6257 7.13313 17.9509 7.50212 18.1886C7.87736 18.4325 8.28074 18.642 8.71227 18.8171C9.15005 18.9922 9.47839 19.111 9.69728 19.1736C9.91617 19.2361 10.0256 19.2705 10.0256 19.2768H10.0162Z",strokeWidth:"2"})})}var Yl=require("react/jsx-runtime");function Zl(){return(0,Yl.jsx)("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,Yl.jsx)("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2,strokeLinecap:"round"})})}var fr=require("react/jsx-runtime");function Xl(s){return(0,fr.jsxs)("svg",k(S({width:18,height:18,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s),{children:[(0,fr.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4.656a.5.5 0 01.5-.5h9.7a.5.5 0 010 1H2.5a.5.5 0 01-.5-.5z"}),(0,fr.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 3a.578.578 0 00-.578.578v.578h3.311v-.578A.578.578 0 008.428 3H6.272zm3.733 1.156v-.578A1.578 1.578 0 008.428 2H6.272a1.578 1.578 0 00-1.578 1.578v.578H3.578a.5.5 0 00-.5.5V12.2a1.578 1.578 0 001.577 1.578h5.39a1.578 1.578 0 001.577-1.578V4.656a.5.5 0 00-.5-.5h-1.117zm-5.927 1V12.2a.578.578 0 00.577.578h5.39a.578.578 0 00.577-.578V5.156H4.078z"}),(0,fr.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5zM8.428 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5z"})]}))}var ql=require("react/jsx-runtime");function Bi(e){var t=e,{flipHorizontal:s}=t,o=De(t,["flipHorizontal"]);return(0,ql.jsx)("svg",k(S({width:24,height:24,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",style:{transform:s?"scale(-1, 1)":"scale(1, 1)"}},o),{children:(0,ql.jsx)("path",{d:"M10.6707 8.5081C10.6707 10.1923 9.3004 11.5625 7.61631 11.5625H6.5351C6.35593 11.5625 6.21074 11.4173 6.21074 11.2382V11.13C6.21074 10.9508 6.35591 10.8057 6.5351 10.8057H7.61631C8.88313 10.8057 9.91387 9.77492 9.91387 8.5081C9.91387 7.24128 8.88313 6.21054 7.61631 6.21054H5.62155L6.99534 7.58433C7.14289 7.73183 7.14289 7.97195 6.99534 8.11944C6.85216 8.26251 6.60298 8.2623 6.46013 8.11944L4.44045 6.09971C4.36898 6.02824 4.32959 5.93321 4.32959 5.8321C4.32959 5.73106 4.36898 5.63598 4.44045 5.56454L6.46024 3.54472C6.60309 3.40176 6.85248 3.40176 6.99535 3.54472C7.14291 3.69218 7.14291 3.93234 6.99535 4.07979L5.62156 5.45368H7.61631C9.3004 5.45368 10.6707 6.82393 10.6707 8.5081Z"})}))}var Jl=require("react/jsx-runtime");function Ql(s){return(0,Jl.jsx)("svg",k(S({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s),{children:(0,Jl.jsx)("path",{d:"M12.4239 4.62C13.3572 4.62 14.1572 4.73333 14.8239 4.96C15.4906 5.17333 15.9772 5.43333 16.2839 5.74C16.3639 5.82 16.4039 5.94 16.4039 6.1V8.86H14.0639C13.9172 8.86 13.8439 8.78666 13.8439 8.64V7.26C13.4306 7.12666 12.9572 7.06 12.4239 7.06C11.6506 7.06 11.0639 7.18 10.6639 7.42C10.2639 7.66 10.0639 8.04666 10.0639 8.58V9C10.0639 9.38666 10.1639 9.69333 10.3639 9.92C10.5772 10.1333 11.0306 10.3467 11.7239 10.56L13.6439 11.14C14.4706 11.38 15.1172 11.66 15.5839 11.98C16.0506 12.3 16.3772 12.68 16.5639 13.12C16.7639 13.5467 16.8639 14.0733 16.8639 14.7V15.62C16.8639 16.7933 16.4039 17.7133 15.4839 18.38C14.5639 19.0467 13.2839 19.38 11.6439 19.38C10.6706 19.38 9.79723 19.2867 9.0239 19.1C8.2639 18.9133 7.71056 18.6533 7.3639 18.32C7.3239 18.28 7.29056 18.24 7.2639 18.2C7.25056 18.1467 7.2439 18.06 7.2439 17.94V15.74H7.6239C8.2239 16.1533 8.85056 16.4533 9.5039 16.64C10.1572 16.8267 10.9306 16.92 11.8239 16.92C12.6506 16.92 13.2506 16.7867 13.6239 16.52C14.0106 16.2533 14.2039 15.9333 14.2039 15.56V14.88C14.2039 14.6667 14.1639 14.48 14.0839 14.32C14.0172 14.16 13.8706 14.0133 13.6439 13.88C13.4172 13.7467 13.0572 13.6067 12.5639 13.46L10.6639 12.88C9.7839 12.6133 9.11056 12.3 8.6439 11.94C8.17723 11.58 7.85056 11.18 7.6639 10.74C7.49056 10.3 7.4039 9.83333 7.4039 9.34V8.38C7.4039 7.64666 7.61056 7 8.0239 6.44C8.43723 5.88 9.01723 5.44 9.7639 5.12C10.5239 4.78666 11.4106 4.62 12.4239 4.62Z"})}))}var ed=require("react/jsx-runtime");function td(s){return(0,ed.jsx)("svg",k(S({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s),{children:(0,ed.jsx)("path",{d:"M8.16191 19H5.68191C5.53525 19 5.46191 18.9267 5.46191 18.78V5H8.76191C8.88191 5 8.97525 5.03333 9.04191 5.1C9.10858 5.15333 9.17525 5.27333 9.24191 5.46C9.72191 6.59333 10.1686 7.7 10.5819 8.78C11.0086 9.84667 11.4352 10.98 11.8619 12.18H12.1619C12.6019 10.9667 13.0352 9.79333 13.4619 8.66C13.8886 7.52667 14.3552 6.30667 14.8619 5H18.3219C18.4686 5 18.5419 5.07333 18.5419 5.22V19H16.0619C15.9152 19 15.8419 18.9267 15.8419 18.78V16.26C15.8419 15.5267 15.8486 14.8133 15.8619 14.12C15.8886 13.4267 15.9286 12.6867 15.9819 11.9C16.0486 11.1 16.1419 10.1933 16.2619 9.18H15.9019C15.4352 10.3533 14.9486 11.5667 14.4419 12.82C13.9486 14.06 13.4819 15.2333 13.0419 16.34H11.1019C11.0619 16.34 11.0152 16.3333 10.9619 16.32C10.9219 16.2933 10.8886 16.2467 10.8619 16.18C10.4619 15.18 10.0086 14.06 9.50191 12.82C9.00858 11.58 8.53525 10.3667 8.08191 9.18H7.70191C7.83525 10.18 7.93525 11.0733 8.00191 11.86C8.06858 12.6467 8.10858 13.3933 8.12191 14.1C8.14858 14.8067 8.16191 15.5267 8.16191 16.26V19Z"})}))}var nd=require("react/jsx-runtime");function od(s){return(0,nd.jsx)("svg",k(S({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s),{children:(0,nd.jsx)("path",{d:"M7.68191 19C7.53525 19 7.46191 18.9267 7.46191 18.78V5H10.1219C10.2686 5 10.3419 5.07333 10.3419 5.22V16.56H13.4419V15.02H15.7619C15.9086 15.02 15.9819 15.0933 15.9819 15.24V19H7.68191Z"})}))}var Sr=require("react/jsx-runtime");function rd(){return(0,Sr.jsxs)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Sr.jsx)("path",{d:"M1.72838 9.33987L8.84935 2.34732C9.23874 1.96494 9.86279 1.96539 10.2516 2.34831L13.5636 5.60975C13.9655 6.00555 13.9607 6.65526 13.553 7.04507L8.13212 12.2278C7.94604 12.4057 7.69851 12.505 7.44107 12.505L6.06722 12.505L3.83772 12.505C3.5673 12.505 3.30842 12.3954 3.12009 12.2014L1.7114 10.7498C1.32837 10.3551 1.33596 9.72521 1.72838 9.33987Z",stroke:"currentColor"}),(0,Sr.jsx)("line",{x1:"6.01807",y1:"12.5",x2:"10.7959",y2:"12.5",stroke:"currentColor",strokeLinecap:"round"}),(0,Sr.jsx)("line",{x1:"5.50834",y1:"5.74606",x2:"10.1984",y2:"10.4361",stroke:"currentColor"})]})}var sd=require("react/jsx-runtime");function id(){return(0,sd.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,sd.jsx)("path",{d:"M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"})})}var ad=require("react/jsx-runtime");function ld(){return(0,ad.jsx)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,ad.jsx)("path",{d:"M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L11.1464 3.14645C11.3417 2.95118 11.6583 2.95118 11.8536 3.14645C12.0488 3.34171 12.0488 3.65829 11.8536 3.85355L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z"})})}var Ri=require("react/jsx-runtime");function pd(){let s=V(),o=(0,cd.useIntl)(),e=dd.useCallback(()=>{s.delete()},[s]),t=s.useStore(n=>n.appState.status==="idle"&&n.document.pageStates[n.appState.currentPageId].selectedIds.length>0);return(0,Ri.jsx)(ae,{label:o.formatMessage({id:"delete"}),kbd:"\u232B",id:"TD-Delete",children:(0,Ri.jsx)(X,{"aria-label":o.formatMessage({id:"delete"}),variant:"circle",disabled:!t,onSelect:e,children:(0,Ri.jsx)(Xl,{})})})}var is=R(require("@radix-ui/react-dropdown-menu")),Yt=require("@radix-ui/react-icons"),xn=R(require("@radix-ui/react-popover")),bd=R(require("react")),Li=require("react-intl");var ud=require("@radix-ui/react-icons"),hd=R(require("react")),md=require("react-intl");var dn=require("react/jsx-runtime"),Gh=s=>s.settings.language,gd=()=>{let s=V(),o=s.useStore(Gh),e=hd.useCallback(t=>{s.setSetting("language",t)},[s]);return(0,dn.jsxs)(ct,{variant:"menu",overflow:!0,id:"language-menu",side:"left",sideOffset:8,children:[qr.map(({locale:t,label:n})=>(0,dn.jsx)(dt,{checked:o===t,onCheckedChange:()=>e(t),id:`TD-MenuItem-Language-${t}`,children:n},t)),(0,dn.jsx)(ee,{}),(0,dn.jsx)("a",{href:"https://github.com/tldraw/tldraw/blob/main/guides/translation.md",target:"_blank",rel:"nofollow",children:(0,dn.jsxs)(Z,{id:"TD-MenuItem-Translation-Link",children:[(0,dn.jsx)(md.FormattedMessage,{id:"translation.link"}),(0,dn.jsx)(je,{children:(0,dn.jsx)(ud.ExternalLinkIcon,{})})]})})]})};var pt=R(require("@radix-ui/react-dialog")),fd=require("@radix-ui/react-icons"),xo=require("react-intl");var Le=require("react/jsx-runtime");function Sd({onOpenChange:s}){let o=(0,xo.useIntl)(),e=Tt(),t={Tools:[{label:o.formatMessage({id:"select"}),kbd:"1"},{label:o.formatMessage({id:"draw"}),kbd:"2"},{label:o.formatMessage({id:"eraser"}),kbd:"3"},{label:o.formatMessage({id:"rectangle"}),kbd:"4"},{label:o.formatMessage({id:"ellipse"}),kbd:"5"},{label:o.formatMessage({id:"triangle"}),kbd:"6"},{label:o.formatMessage({id:"line"}),kbd:"7"},{label:o.formatMessage({id:"arrow"}),kbd:"8"},{label:o.formatMessage({id:"text"}),kbd:"9"},{label:o.formatMessage({id:"sticky"}),kbd:"0"}],View:[{label:o.formatMessage({id:"zoom.in"}),kbd:"#+"},{label:o.formatMessage({id:"zoom.out"}),kbd:"#-"},{label:`${o.formatMessage({id:"zoom.to"})} 100%`,kbd:"\u21E7+0"},{label:o.formatMessage({id:"zoom.to.fit"}),kbd:"\u21E7+1"},{label:o.formatMessage({id:"zoom.to.selection"}),kbd:"\u21E7+2"},{label:o.formatMessage({id:"preferences.dark.mode"}),kbd:"#\u21E7D"},{label:o.formatMessage({id:"preferences.focus.mode"}),kbd:"#."},{label:o.formatMessage({id:"preferences.show.grid"}),kbd:"#\u21E7G"}],Transform:[{label:o.formatMessage({id:"flip.horizontal"}),kbd:"\u21E7H"},{label:o.formatMessage({id:"flip.vertical"}),kbd:"\u21E7V"},{label:`${o.formatMessage({id:"lock"})} / ${o.formatMessage({id:"unlock"})}`,kbd:"#\u21E7L"},{label:`${o.formatMessage({id:"move"})} ${o.formatMessage({id:"to.front"})}`,kbd:"\u21E7]"},{label:`${o.formatMessage({id:"move"})} ${o.formatMessage({id:"forward"})}`,kbd:"]"},{label:`${o.formatMessage({id:"move"})} ${o.formatMessage({id:"backward"})}`,kbd:"["},{label:`${o.formatMessage({id:"move"})} ${o.formatMessage({id:"back"})}`,kbd:"\u21E7["}],File:[{label:o.formatMessage({id:"new.project"}),kbd:"#N"},{label:o.formatMessage({id:"open"}),kbd:"#O"},{label:o.formatMessage({id:"save"}),kbd:"#S"},{label:o.formatMessage({id:"save.as"}),kbd:"#\u21E7S"},{label:o.formatMessage({id:"upload.media"}),kbd:"#U"}],Edit:[{label:o.formatMessage({id:"undo"}),kbd:"#Z"},{label:o.formatMessage({id:"redo"}),kbd:"#\u21E7Z"},{label:o.formatMessage({id:"cut"}),kbd:"#X"},{label:o.formatMessage({id:"copy"}),kbd:"#C"},{label:o.formatMessage({id:"paste"}),kbd:"#V"},{label:o.formatMessage({id:"select.all"}),kbd:"#A"},{label:o.formatMessage({id:"delete"}),kbd:"\u232B"},{label:o.formatMessage({id:"duplicate"}),kbd:"#D"}]};return(0,Le.jsxs)(pt.Root,{onOpenChange:s,children:[(0,Le.jsx)(pt.Trigger,{asChild:!0,children:(0,Le.jsx)(pe,{id:"TD-HelpItem-Keyboard",variant:"wide",children:(0,Le.jsx)(xo.FormattedMessage,{id:"keyboard.shortcuts"})})}),(0,Le.jsxs)(pt.Portal,{container:e.current,children:[(0,Le.jsx)(Uh,{}),(0,Le.jsxs)(Wh,{children:[(0,Le.jsxs)(Yh,{children:[(0,Le.jsx)(xo.FormattedMessage,{id:"keyboard.shortcuts"}),(0,Le.jsx)(pt.Close,{asChild:!0,children:(0,Le.jsx)(_h,{children:(0,Le.jsx)(fd.Cross2Icon,{})})})]}),(0,Le.jsx)(Kh,{bp:Pe,children:Object.entries(t).map(([n,r])=>(0,Le.jsxs)(Ai,{children:[(0,Le.jsx)(Vh,{children:(0,Le.jsx)(xo.FormattedMessage,{id:`menu.${n.toLocaleLowerCase()}`})}),(0,Le.jsx)($h,{children:r.map(i=>(0,Le.jsxs)(Nh,{children:[i.label,(0,Le.jsx)(mo,{variant:"menu",children:i.kbd})]},i.label))})]},n))})]})]})]})}var Vh=M("h3",{fontSize:"$2",color:"$text",fontFamily:"$ui",margin:0,paddingBottom:"$5"}),Ai=M("div",{breakInside:"avoid",paddingBottom:24}),$h=M("ul",{listStyleType:"none",width:"100%",padding:0,margin:0}),Nh=M("li",{display:"flex",alignItems:"center",justifyContent:"space-between",height:32,minHeight:32,width:"100%",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",borderRadius:4,userSelect:"none",WebkitUserSelect:"none",margin:0,padding:"0 0"}),Wh=M(pt.Content,{borderRadius:6,boxShadow:"hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"fit-content",maxWidth:"90vw",maxHeight:"74vh",overflowY:"auto",padding:25,zIndex:9999,pointerEvents:"all",background:"$panel","&:focus":{outline:"none"}}),Kh=M("div",{maxWidth:"100%",width:"fit-content",height:"fit-content",overflowY:"auto",columnGap:64,variants:{bp:{mobile:{columns:1,[`& ${Ai}`]:{minWidth:"0px"}},small:{columns:2,[`& ${Ai}`]:{minWidth:"200px"}},medium:{columns:3},large:{columns:3}}}}),Uh=M(pt.Overlay,{backgroundColor:"$overlay",position:"fixed",inset:0,zIndex:9998}),_h=M(yo,{fontFamily:"inherit",borderRadius:"100%",height:25,width:25,display:"inline-flex",alignItems:"center",justifyContent:"center",color:"$text",cursor:"pointer","&:hover":{backgroundColor:"$hover"}}),Yh=M(pt.Title,{fontFamily:"$body",fontSize:"$3",color:"$text",paddingBottom:32,display:"flex",alignItems:"center",justifyContent:"space-between",margin:0});var ue=require("react/jsx-runtime"),Zh=s=>s.settings.isDebugMode,Xh=s=>s.settings.dockPosition;function Td(){let s=V(),o=s.useStore(Zh),e=s.useStore(Xh),[t,n]=bd.useState(!1);return(0,ue.jsxs)(xn.Root,{children:[(0,ue.jsx)(nm,{dir:"ltr",debug:o,side:e,bp:Pe,children:(0,ue.jsx)(xn.Trigger,{dir:"ltr",asChild:!0,children:(0,ue.jsx)(em,{children:(0,ue.jsx)(Yt.QuestionMarkIcon,{})})})}),(0,ue.jsx)(xn.Content,{dir:"ltr",align:"end",side:"top",alignOffset:10,sideOffset:8,asChild:!0,children:(0,ue.jsxs)(tm,{style:{visibility:t?"hidden":"visible"},children:[(0,ue.jsx)(qh,{}),(0,ue.jsx)(Sd,{onOpenChange:n}),(0,ue.jsx)(ee,{}),(0,ue.jsx)(Qh,{})]})})]})}var qh=()=>(0,ue.jsxs)(is.Root,{dir:"ltr",children:[(0,ue.jsx)(is.Trigger,{asChild:!0,children:(0,ue.jsx)(pe,{variant:"wide",hasArrow:!0,children:(0,ue.jsx)(Li.FormattedMessage,{id:"language"})})}),(0,ue.jsx)(gd,{})]}),Jh=[{id:"tldraw-beta",icon:Yt.ExternalLinkIcon,url:"https://beta.tldraw.com"},{id:"github",icon:Yt.GitHubLogoIcon,url:"https://github.com/tldraw/tldraw"},{id:"twitter",icon:Yt.TwitterLogoIcon,url:"https://twitter.com/tldraw"},{id:"discord",icon:id,url:"https://discord.gg/SBBEVCA4PG"},{id:"become.a.sponsor",icon:Yt.HeartFilledIcon,url:"https://github.com/sponsors/steveruizok"}],Qh=()=>(0,ue.jsx)(ue.Fragment,{children:Jh.map(s=>(0,ue.jsx)("a",{href:s.url,target:"_blank",rel:"nofollow",children:(0,ue.jsxs)(pe,{id:`TD-Link-${s.id}`,variant:"wide",children:[(0,ue.jsx)(Li.FormattedMessage,{id:s.id}),(0,ue.jsx)(je,{children:(0,ue.jsx)(s.icon,{})})]})},s.id))}),em=M("button",{width:32,height:32,borderRadius:"100%",display:"flex",padding:0,justifyContent:"center",alignItems:"center",outline:"none",backgroundColor:"$panel",cursor:"pointer",boxShadow:"$panel",border:"1px solid $panelContrast",color:"$text","& svg":{height:12,width:12}}),tm=M(St,{width:"fit-content",height:"fit-content",minWidth:200,maxHeight:380,overflowY:"auto","& *":{boxSizing:"border-box"},"& a":{outline:"none"},variants:{variant:{horizontal:{flexDirection:"row"},menu:{minWidth:128}}}}),nm=M(xn.Anchor,{position:"absolute",zIndex:999,right:10,bottom:10,width:32,height:32,variants:{debug:{true:{},false:{}},bp:{mobile:{bottom:64},small:{bottom:20},medium:{},large:{}},side:{top:{},left:{},right:{},bottom:{}}},compoundVariants:[{debug:!0,css:{bottom:50}},{bp:"mobile",side:"bottom",debug:!0,css:{bottom:104}},{bp:"small",side:"bottom",debug:!0,css:{bottom:60}},{bp:"small",side:"bottom",debug:!0,css:{bottom:60}}]});var It=require("@radix-ui/react-icons"),Xt=R(require("react")),xd=require("react-intl");var Yn=M("div",{backgroundColor:"$panel",display:"flex",alignItems:"center",flexDirection:"row",boxShadow:"$panel",padding:"$2",border:"1px solid $panelContrast",gap:0,overflow:"hidden",variants:{side:{center:{borderRadius:9},left:{padding:0,borderTop:0,borderLeft:0,borderTopRightRadius:0,borderBottomRightRadius:9,borderBottomLeftRadius:0},right:{padding:0,borderTop:0,borderRight:0,borderTopLeftRadius:0,borderBottomLeftRadius:9,borderBottomRightRadius:0}}},"& hr":{height:10,width:"100%",backgroundColor:"red",border:"none"}});var vn=R(require("@radix-ui/react-dropdown-menu")),vo=require("@radix-ui/react-icons"),Zt=R(require("react")),wd=require("react-intl");var wt=require("react/jsx-runtime"),Hi=["rectangle","ellipse","triangle","line"],yd={["rectangle"]:(0,wt.jsx)(vo.SquareIcon,{}),["ellipse"]:(0,wt.jsx)(vo.CircleIcon,{}),["triangle"]:(0,wt.jsx)(vo.VercelLogoIcon,{}),["line"]:(0,wt.jsx)(ld,{})},om=s=>s.settings.dockPosition,kd=Zt.memo(function({activeTool:o,isToolLocked:e}){let t=V(),n=(0,wd.useIntl)(),r=t.useStore(om),[i,d]=Zt.useState("rectangle");Zt.useEffect(()=>{Hi.includes(o)&&i!==o&&d(o)},[o]);let a=Zt.useCallback(()=>{t.selectTool(i)},[o,t]),c=Zt.useCallback(()=>{t.toggleToolLock()},[t]),p=Zt.useCallback(g=>{g.key===" "&&t.shiftKey&&g.preventDefault()},[]),u=Hi.includes(o),h=r==="bottom"||r==="top"?"top":r,m=r==="bottom"||r==="top"?"row":"column";return(0,wt.jsxs)(vn.Root,{dir:"ltr",onOpenChange:a,children:[(0,wt.jsx)(vn.Trigger,{dir:"ltr",asChild:!0,id:"TD-PrimaryTools-Shapes",children:(0,wt.jsx)(X,{disabled:u&&t.shiftKey,variant:"primary",onDoubleClick:c,isToolLocked:u&&e,isActive:u,onKeyDown:p,"aria-label":n.formatMessage({id:"shapes"}),children:yd[i]})}),(0,wt.jsx)(vn.Content,{asChild:!0,side:h,sideOffset:12,children:(0,wt.jsx)(Yn,{side:"center",style:{flexDirection:m},children:Hi.map((g,f)=>(0,wt.jsx)(ae,{label:n.formatMessage({id:g}),kbd:(4+f).toString(),id:`TD-PrimaryTools-Shapes-${g}`,children:(0,wt.jsx)(vn.Item,{asChild:!0,children:(0,wt.jsx)(X,{"aria-label":n.formatMessage({id:g}),variant:"primary",onClick:()=>{t.selectTool(g),d(g)},children:yd[g]})})},g))})})]})});var Ne=require("react/jsx-runtime"),rm=s=>s.appState.activeTool,sm=s=>s.appState.isToolLocked,im=s=>s.settings.dockPosition,vd=Xt.memo(function(){let o=V(),e=(0,xd.useIntl)(),t=o.useStore(rm),n=o.useStore(sm),r=o.useStore(im),i=Xt.useCallback(()=>{o.selectTool("select")},[o]),d=Xt.useCallback(()=>{o.selectTool("erase")},[o]),a=Xt.useCallback(()=>{o.selectTool("draw")},[o]),c=Xt.useCallback(()=>{o.selectTool("arrow")},[o]),p=Xt.useCallback(()=>{o.selectTool("text")},[o]),u=Xt.useCallback(()=>{o.selectTool("sticky")},[o]),h=Xt.useCallback(()=>F(this,null,function*(){o.openAsset()}),[o]);return(0,Ne.jsxs)(am,{side:"center",id:"TD-PrimaryTools",style:{flexDirection:r==="bottom"||r==="top"?"row":"column"},bp:Pe,children:[(0,Ne.jsx)(At,{kbd:"1",label:e.formatMessage({id:"select"}),onClick:i,isActive:t==="select",variant:"primary",id:"TD-PrimaryTools-CursorArrow",children:(0,Ne.jsx)(It.CursorArrowIcon,{})}),(0,Ne.jsx)(At,{kbd:"2",label:e.formatMessage({id:"draw"}),onClick:a,isActive:t==="draw",variant:"primary",id:"TD-PrimaryTools-Pencil",children:(0,Ne.jsx)(It.Pencil1Icon,{})}),(0,Ne.jsx)(At,{kbd:"3",label:e.formatMessage({id:"eraser"}),onClick:d,isActive:t==="erase",variant:"primary",id:"TD-PrimaryTools-Eraser",children:(0,Ne.jsx)(rd,{})}),(0,Ne.jsx)(kd,{activeTool:t,isToolLocked:n}),(0,Ne.jsx)(At,{kbd:"8",label:e.formatMessage({id:"arrow"}),onClick:c,isLocked:n,variant:"primary",isActive:t==="arrow",id:"TD-PrimaryTools-ArrowTopRight",children:(0,Ne.jsx)(It.ArrowTopRightIcon,{})}),(0,Ne.jsx)(At,{kbd:"9",label:e.formatMessage({id:"text"}),onClick:p,isLocked:n,variant:"primary",isActive:t==="text",id:"TD-PrimaryTools-Text",children:(0,Ne.jsx)(It.TextIcon,{})}),(0,Ne.jsx)(At,{kbd:"0",label:e.formatMessage({id:"sticky"}),onClick:u,isActive:t==="sticky",variant:"primary",id:"TD-PrimaryTools-Pencil2",children:(0,Ne.jsx)(It.Pencil2Icon,{})}),(0,Ne.jsx)(At,{label:e.formatMessage({id:"image"}),onClick:h,id:"TD-PrimaryTools-Image",variant:"primary",children:(0,Ne.jsx)(It.ImageIcon,{})})]})}),am=M(Yn,{variants:{bp:{mobile:{padding:"$0",borderRadius:"10px"},small:{padding:"$2"}}}});var zi=require("react/jsx-runtime"),lm=s=>s.appState.status,dm=s=>s.appState.activeTool;function Id(){let s=V(),o=s.useStore(lm),e=s.useStore(dm);return(0,zi.jsx)(cm,{bp:Pe,id:"TD-StatusBar",children:(0,zi.jsxs)(pm,{children:[e," | ",o]})})}var cm=M("div",{height:40,userSelect:"none",WebkitUserSelect:"none",borderTop:"1px solid $panelContrast",gridArea:"status",display:"flex",color:"$text",justifyContent:"space-between",alignItems:"center",backgroundColor:"$panel",gap:8,fontFamily:"$ui",fontSize:"$0",padding:"0 16px",variants:{bp:{small:{fontSize:"$1"}}}}),pm=M("div",{whiteSpace:"nowrap",overflow:"hidden"});var ut=require("react/jsx-runtime"),um=s=>s.settings.isDebugMode,hm=s=>s.settings.dockPosition,Dd=Cd.memo(function({onBlur:o}){let e=V(),t=e.useStore(hm),n=e.useStore(um);return(0,ut.jsxs)(ut.Fragment,{children:[(0,ut.jsx)(mm,{side:t,onBlur:o,bp:Pe,debug:n,children:(0,ut.jsxs)(gm,{id:"TD-Tools",children:[(0,ut.jsx)(Gl,{}),(0,ut.jsxs)(Sm,{orientation:t==="bottom"||t==="top"?"horizontal":"vertical",children:[(0,ut.jsx)(Ol,{}),(0,ut.jsx)(vd,{}),(0,ut.jsx)(pd,{})]})]})}),(0,ut.jsx)(Td,{}),n&&(0,ut.jsx)(fm,{children:(0,ut.jsx)(Id,{})})]})}),mm=M("div",{position:"absolute",width:"100%",minWidth:0,maxWidth:"100%",height:64,gap:"$4",display:"flex",justifyContent:"center",alignItems:"center",zIndex:200,overflow:"hidden",pointerEvents:"none","& > div > *":{pointerEvents:"all"},variants:{debug:{true:{},false:{}},bp:{mobile:{},small:{},medium:{},large:{}},side:{top:{width:"100%",height:64,left:0,right:0,top:45},right:{width:64,height:"100%",top:0,right:0},bottom:{width:"100%",left:0,right:0,bottom:4},left:{width:64,height:"100%",left:0}}},compoundVariants:[{side:"top",bp:"large",css:{top:0}},{side:"bottom",debug:!0,css:{bottom:44}}]}),gm=M("div",{display:"flex",width:"fit-content",height:"fit-content",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"$4"}),fm=M("div",{position:"absolute",bottom:"0px",left:"0px",right:"0px",height:"40px",width:"100%",maxWidth:"100%"}),Sm=M("div",{position:"relative",display:"flex",alignItems:"center",height:"fit-content",gap:"$3",variants:{orientation:{horizontal:{flexDirection:"row"},vertical:{flexDirection:"column"}}}});var Qc=R(require("react")),ep=require("react-intl");var Ed=R(require("@radix-ui/react-dropdown-menu")),Bd=require("@radix-ui/react-icons"),Rd=require("browser-fs-access"),he=R(require("react")),Me=require("react-intl");var cn=R(require("react")),Ht=require("react-intl");var ye=require("react/jsx-runtime"),bm=s=>s.settings,Tm=["bottom","left","right","top"];function Md(){let s=V(),o=(0,Ht.useIntl)(),e=s.useStore(bm),t=cn.useCallback(()=>{s.setSetting("isDebugMode",u=>!u)},[s]),n=cn.useCallback(()=>{s.setSetting("isDarkMode",u=>!u)},[s]),r=cn.useCallback(()=>{s.setSetting("isFocusMode",u=>!u)},[s]),i=cn.useCallback(()=>{s.setSetting("showGrid",u=>!u)},[s]),d=cn.useCallback(()=>{s.setSetting("keepStyleMenuOpen",u=>!u)},[s]),a=cn.useCallback(()=>{s.setSetting("isCadSelectMode",u=>!u)},[s]),c=cn.useCallback(u=>{s.setSetting("dockPosition",u)},[s]),p=cn.useCallback(u=>{s.setSetting("exportBackground",u)},[s]);return(0,ye.jsxs)(_t,{label:o.formatMessage({id:"menu.preferences"}),id:"TD-MenuItem-Preferences",children:[(0,ye.jsx)(dt,{checked:e.isDarkMode,onCheckedChange:n,kbd:"#\u21E7D",id:"TD-MenuItem-Preferences-Dark_Mode",ariaLabel:o.formatMessage({id:"preferences.dark.mode"}),children:(0,ye.jsx)(Ht.FormattedMessage,{id:"preferences.dark.mode"})}),(0,ye.jsx)(dt,{checked:e.isFocusMode,onCheckedChange:r,kbd:"#.",id:"TD-MenuItem-Preferences-Focus_Mode",ariaLabel:o.formatMessage({id:"preferences.focus.mode"}),children:(0,ye.jsx)(Ht.FormattedMessage,{id:"preferences.focus.mode"})}),(0,ye.jsx)(dt,{checked:e.isDebugMode,onCheckedChange:t,id:"TD-MenuItem-Preferences-Debug_Mode",ariaLabel:o.formatMessage({id:"preferences.debug.mode"}),children:(0,ye.jsx)(Ht.FormattedMessage,{id:"preferences.debug.mode"})}),(0,ye.jsx)(ee,{}),(0,ye.jsx)(dt,{checked:e.showGrid,onCheckedChange:i,kbd:"#\u21E7G",id:"TD-MenuItem-Preferences-Grid",ariaLabel:o.formatMessage({id:"preferences.show.grid"}),children:(0,ye.jsx)(Ht.FormattedMessage,{id:"preferences.show.grid"})}),(0,ye.jsx)(dt,{checked:e.isCadSelectMode,onCheckedChange:a,id:"TD-MenuItem-Preferences-Cad_Selection",ariaLabel:o.formatMessage({id:"preferences.use.cad.selection"}),children:(0,ye.jsx)(Ht.FormattedMessage,{id:"preferences.use.cad.selection"})}),(0,ye.jsx)(dt,{checked:e.keepStyleMenuOpen,onCheckedChange:d,id:"TD-MenuItem-Preferences-Style_menu",ariaLabel:o.formatMessage({id:"preferences.keep.stylemenu.open"}),children:(0,ye.jsx)(Ht.FormattedMessage,{id:"preferences.keep.stylemenu.open"})}),(0,ye.jsx)(_t,{label:o.formatMessage({id:"dock.position"}),children:Tm.map(u=>(0,ye.jsx)(dt,{checked:e.dockPosition===u,onCheckedChange:()=>c(u),id:`TD-MenuItem-DockPosition-${u}`,ariaLabel:`DockPosition-${u}`,children:(0,ye.jsx)(Pd,{children:(0,ye.jsx)(Ht.FormattedMessage,{id:u})})},u))}),(0,ye.jsx)(_t,{label:o.formatMessage({id:"export.background"}),children:Object.values(bo).map(u=>(0,ye.jsx)(dt,{checked:e.exportBackground===u,onCheckedChange:()=>p(u),id:`TD-MenuItem-ExportBackground-${u}`,ariaLabel:`ExportBackground-${u}`,children:(0,ye.jsx)(Pd,{children:(0,ye.jsx)(Ht.FormattedMessage,{id:u})})},u))})]})}var Pd=M("span",{textTransform:"capitalize"});var z=require("react/jsx-runtime"),ym=s=>s.document.pageStates[s.appState.currentPageId].selectedIds.length,wm=s=>s.appState.disableAssets,Ad=he.memo(function({readOnly:o}){let e=V(),t=(0,Me.useIntl)(),[n,r]=he.useState(!1),i=e.useStore(ym),d=e.useStore(wm),[a,c]=he.useState(0);he.useEffect(()=>c(1),[]);let{onNewProject:p,onOpenProject:u,onSaveProject:h,onSaveProjectAs:m}=Wr(),g=he.useCallback(()=>{Rd.supported?e.saveProjectAs():r(!0)},[e]),f=he.useCallback(()=>{e.delete()},[e]),y=he.useCallback(()=>{e.copyImage("svg",{scale:1,quality:1,transparentBackground:!1})},[e]),T=he.useCallback(()=>{e.copyImage("png",{scale:2,quality:1,transparentBackground:!0})},[e]),b=he.useCallback(()=>F(this,null,function*(){e.exportImage("png",{scale:2,quality:1})}),[e]),w=he.useCallback(()=>F(this,null,function*(){e.exportImage("jpeg",{scale:2,quality:1})}),[e]),v=he.useCallback(()=>F(this,null,function*(){e.exportImage("webp",{scale:2,quality:1})}),[e]),P=he.useCallback(()=>F(this,null,function*(){e.exportImage("svg",{scale:2,quality:1})}),[e]),C=he.useCallback(()=>F(this,null,function*(){e.copyJson()}),[e]),B=he.useCallback(()=>F(this,null,function*(){e.exportJson()}),[e]),I=he.useCallback(()=>{e.cut()},[e]),D=he.useCallback(()=>{e.copy()},[e]),A=he.useCallback(()=>{e.paste()},[e]),O=he.useCallback(()=>{e.selectAll()},[e]),L=he.useCallback(()=>{e.selectNone()},[e]),se=he.useCallback(()=>{e.openAsset()},[e]),J=he.useCallback(()=>{e.zoomTo(1)},[e]),ne=e.callbacks.onNewProject||e.callbacks.onOpenProject||e.callbacks.onSaveProject||e.callbacks.onSaveProjectAs||e.callbacks.onExport,ie=i>0;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(Ed.Root,{dir:"ltr",children:[(0,z.jsx)(os,{id:"TD-MenuIcon",children:(0,z.jsx)(Bd.HamburgerMenuIcon,{})}),(0,z.jsxs)(ct,{variant:"menu",id:"TD-Menu",side:"bottom",align:"start",sideOffset:4,alignOffset:4,children:[ne&&(0,z.jsxs)(_t,{label:`${t.formatMessage({id:"menu.file"})}...`,id:"TD-MenuItem-File",children:[e.callbacks.onNewProject&&(0,z.jsx)(Z,{onClick:p,kbd:"#N",id:"TD-MenuItem-File-New_Project",children:(0,z.jsx)(Me.FormattedMessage,{id:"new.project"})}),e.callbacks.onOpenProject&&(0,z.jsxs)(Z,{onClick:u,kbd:"#O",id:"TD-MenuItem-File-Open",children:[(0,z.jsx)(Me.FormattedMessage,{id:"open"}),"..."]}),e.callbacks.onSaveProject&&(0,z.jsx)(Z,{onClick:h,kbd:"#S",id:"TD-MenuItem-File-Save",children:(0,z.jsx)(Me.FormattedMessage,{id:"save"})}),e.callbacks.onSaveProjectAs&&(0,z.jsxs)(Z,{onClick:g,kbd:"#\u21E7S",id:"TD-MenuItem-File-Save_As",children:[(0,z.jsx)(Me.FormattedMessage,{id:"save.as"}),"..."]}),(0,z.jsxs)(_t,{label:`${t.formatMessage({id:"export.as"})}...`,size:"small",id:"TD-MenuItem-Export",children:[(0,z.jsx)(Z,{onClick:P,id:"TD-MenuItem-Export-SVG",children:"SVG"}),(0,z.jsx)(Z,{onClick:b,id:"TD-MenuItem-Export-PNG",children:"PNG"}),(0,z.jsx)(Z,{onClick:w,id:"TD-MenuItem-Export-JPG",children:"JPG"}),(0,z.jsx)(Z,{onClick:v,id:"TD-MenuItem-Export-WEBP",children:"WEBP"}),(0,z.jsx)(Z,{onClick:B,id:"TD-MenuItem-Export-JSON",children:"JSON"})]}),!d&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(ee,{}),(0,z.jsx)(Z,{onClick:se,kbd:"#U",id:"TD-MenuItem-File-Upload_Media",children:(0,z.jsx)(Me.FormattedMessage,{id:"upload.media"})})]})]}),(0,z.jsxs)(_t,{label:`${t.formatMessage({id:"menu.edit"})}...`,id:"TD-MenuItem-Edit",children:[(0,z.jsx)(Z,{onSelect:le,onClick:e.undo,disabled:o,kbd:"#Z",id:"TD-MenuItem-Edit-Undo",children:(0,z.jsx)(Me.FormattedMessage,{id:"undo"})}),(0,z.jsx)(Z,{onSelect:le,onClick:e.redo,disabled:o,kbd:"#\u21E7Z",id:"TD-MenuItem-Edit-Redo",children:(0,z.jsx)(Me.FormattedMessage,{id:"redo"})}),(0,z.jsx)(ee,{}),(0,z.jsx)(Z,{onSelect:le,disabled:!ie||o,onClick:I,kbd:"#X",id:"TD-MenuItem-Edit-Cut",children:(0,z.jsx)(Me.FormattedMessage,{id:"cut"})}),(0,z.jsx)(Z,{onSelect:le,disabled:!ie,onClick:D,kbd:"#C",id:"TD-MenuItem-Edit-Copy",children:(0,z.jsx)(Me.FormattedMessage,{id:"copy"})}),(0,z.jsx)(Z,{onSelect:le,onClick:A,kbd:"#V",id:"TD-MenuItem-Edit-Paste",children:(0,z.jsx)(Me.FormattedMessage,{id:"paste"})}),(0,z.jsx)(ee,{}),(0,z.jsxs)(_t,{label:`${t.formatMessage({id:"copy.as"})}...`,size:"small",id:"TD-MenuItem-Copy-As",children:[(0,z.jsx)(Z,{onClick:y,id:"TD-MenuItem-Copy-as-SVG",children:"SVG"}),(0,z.jsx)(Z,{onClick:T,id:"TD-MenuItem-Copy-As-PNG",children:"PNG"}),(0,z.jsx)(Z,{onClick:C,id:"TD-MenuItem-Copy_as_JSON",children:"JSON"})]}),(0,z.jsx)(ee,{}),(0,z.jsx)(Z,{onSelect:le,onClick:O,kbd:"#A",id:"TD-MenuItem-Select_All",children:(0,z.jsx)(Me.FormattedMessage,{id:"select.all"})}),(0,z.jsx)(Z,{onSelect:le,disabled:!ie,onClick:L,id:"TD-MenuItem-Select_None",children:(0,z.jsx)(Me.FormattedMessage,{id:"select.none"})}),(0,z.jsx)(ee,{}),(0,z.jsx)(Z,{onSelect:f,disabled:!ie,kbd:"\u232B",id:"TD-MenuItem-Delete",children:(0,z.jsx)(Me.FormattedMessage,{id:"delete"})})]}),(0,z.jsxs)(_t,{label:t.formatMessage({id:"menu.view"}),id:"TD-MenuItem-Edit",children:[(0,z.jsx)(Z,{onSelect:le,onClick:e.zoomIn,kbd:"#+",id:"TD-MenuItem-View-ZoomIn",children:(0,z.jsx)(Me.FormattedMessage,{id:"zoom.in"})}),(0,z.jsx)(Z,{onSelect:le,onClick:e.zoomOut,kbd:"#-",id:"TD-MenuItem-View-ZoomOut",children:(0,z.jsx)(Me.FormattedMessage,{id:"zoom.out"})}),(0,z.jsxs)(Z,{onSelect:le,onClick:J,kbd:"\u21E7+0",id:"TD-MenuItem-View-ZoomTo100",children:[(0,z.jsx)(Me.FormattedMessage,{id:"zoom.to"})," 100%"]}),(0,z.jsx)(Z,{onSelect:le,onClick:e.zoomToFit,kbd:"\u21E7+1",id:"TD-MenuItem-View-ZoomToFit",children:(0,z.jsx)(Me.FormattedMessage,{id:"zoom.to.fit"})}),(0,z.jsx)(Z,{onSelect:le,onClick:e.zoomToSelection,kbd:"\u21E7+2",id:"TD-MenuItem-View-ZoomToSelection",children:(0,z.jsx)(Me.FormattedMessage,{id:"zoom.to.selection"})})]}),(0,z.jsx)(ee,{}),(0,z.jsx)(Md,{})]})]}),(0,z.jsx)(Dl,{isOpen:n,onClose:()=>r(!1)})]})});var Kc=R(require("@radix-ui/react-dropdown-menu")),Fo=require("@radix-ui/react-icons"),Ks=require("@tldraw/core"),fn=R(require("react")),Cr=require("react-intl");var Ld=require("react/jsx-runtime");function Hd(){return(0,Ld.jsx)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",children:(0,Ld.jsx)("path",{d:"M1.36482 4.71089C1.36482 3.21371 2.57853 2 4.07572 2C5.5729 2 6.78661 3.21371 6.78661 4.71089C6.78661 5.76842 6.18106 6.68452 5.29779 7.13136C5.80465 7.24611 6.26407 7.44186 6.66028 7.73182C7.18674 8.11711 7.57215 8.64722 7.81073 9.30983C7.81452 9.30606 7.81832 9.3023 7.82212 9.29855C8.30448 8.82317 8.91325 8.52463 9.60905 8.37275C8.68812 7.922 8.05394 6.97569 8.05394 5.88126C8.05394 4.35017 9.29513 3.10898 10.8262 3.10898C12.3573 3.10898 13.5985 4.35017 13.5985 5.88126C13.5985 6.97561 12.9644 7.92186 12.0436 8.37265C12.7396 8.52449 13.3486 8.82306 13.831 9.29854C14.5795 10.0361 14.9481 11.1249 14.9481 12.5176C14.9481 12.7799 14.7354 12.9926 14.473 12.9926C14.2107 12.9926 13.9981 12.7799 13.9981 12.5175C13.9981 11.2848 13.6738 10.4774 13.1642 9.97518C12.6532 9.4716 11.8802 9.20024 10.8266 9.20024C9.77294 9.20024 8.99993 9.4716 8.48896 9.97518C7.97939 10.4774 7.65513 11.2848 7.65513 12.5176C7.65513 12.7799 7.44247 12.9926 7.18013 12.9926C6.9178 12.9926 6.70513 12.7799 6.70513 12.5176C6.70513 11.6734 6.84053 10.941 7.11384 10.3307C7.0922 10.2895 7.0763 10.2444 7.06737 10.1962C6.91739 9.38749 6.57392 8.84586 6.09923 8.49845C5.61626 8.14499 4.94481 7.95427 4.07574 7.95427C3.05232 7.95427 2.30368 8.21784 1.80952 8.70485C1.31675 9.19047 1.00176 9.97257 1.00176 11.1702C1.00176 11.4326 0.789093 11.6452 0.526758 11.6452C0.264423 11.6452 0.0517578 11.4326 0.0517578 11.1702C0.0517578 9.81263 0.411052 8.74925 1.14268 8.02821C1.60624 7.57137 2.18892 7.28191 2.85378 7.13142C1.97043 6.68461 1.36482 5.76848 1.36482 4.71089ZM4.07572 2.95C3.1032 2.95 2.31482 3.73838 2.31482 4.71089C2.31482 5.68341 3.1032 6.47178 4.07572 6.47178C5.04823 6.47178 5.83661 5.68341 5.83661 4.71089C5.83661 3.73838 5.04823 2.95 4.07572 2.95ZM10.8262 4.05898C9.8198 4.05898 9.00394 4.87484 9.00394 5.88126C9.00394 6.88768 9.8198 7.70355 10.8262 7.70355C11.8326 7.70355 12.6485 6.88768 12.6485 5.88126C12.6485 4.87484 11.8326 4.05898 10.8262 4.05898Z"})})}var mt=require("@tldraw/core"),Gn=require("@tldraw/intersect"),N=require("@tldraw/vec");var Ct="-0.03em";var Io=[.5,.5],u0=Math.PI*2,as=".tldr",Zn={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>s*(2-s),easeInOutQuad:s=>s<.5?2*s*s:-1+(4-2*s)*s,easeInCubic:s=>s*s*s,easeOutCubic:s=>--s*s*s+1,easeInOutCubic:s=>s<.5?4*s*s*s:(s-1)*(2*s-2)*(2*s-2)+1,easeInQuart:s=>s*s*s*s,easeOutQuart:s=>1- --s*s*s*s,easeInOutQuart:s=>s<.5?8*s*s*s*s:1-8*--s*s*s*s,easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>1+--s*s*s*s*s,easeInOutQuint:s=>s<.5?16*s*s*s*s*s:1+16*--s*s*s*s*s,easeInSine:s=>1-Math.cos(s*Math.PI/2),easeOutSine:s=>Math.sin(s*Math.PI/2),easeInOutSine:s=>-(Math.cos(Math.PI*s)-1)/2,easeInExpo:s=>s<=0?0:Math.pow(2,10*s-10),easeOutExpo:s=>s>=1?1:1-Math.pow(2,-10*s),easeInOutExpo:s=>s<=0?0:s>=1?1:s<.5?Math.pow(2,20*s-10)/2:(2-Math.pow(2,-20*s+10))/2};var Oi=["#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467","#FF802B"],km=typeof Window=="undefined"?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent),zd=typeof Window=="undefined"?!1:/linux/i.test(navigator.userAgent),ls=[".png",".svg",".jpg",".jpeg",".gif"],ds=km?[]:[".mp4",".webm"];function We(s){if(s===null)return s;if(s instanceof Date)return new Date(s.getTime());if(typeof s=="object")if(typeof s[Symbol.iterator]=="function"){let o=[];if(s.length>0)for(let e of s)o.push(We(e));return o}else{let o=Object.keys(s),e={};if(o.length>0)for(let t of o)e[t]=We(s[t]);return e}return s}var ht=require("@tldraw/core"),Ro=require("@tldraw/intersect"),$=require("@tldraw/vec"),Qn=R(require("react"));var Pt=require("@tldraw/core"),Eo=require("@tldraw/intersect"),Jt=require("@tldraw/vec"),_d=R(require("react"));var Fi=require("@tldraw/core");function Dt(s,o){let e=Fi.Utils.getFromCache(o,s,()=>{let[t,n]=s.size;return{minX:0,maxX:t,minY:0,maxY:n,width:t,height:n}});return Fi.Utils.translateBounds(e,s.point)}var xm={["start"]:"left",["middle"]:"center",["end"]:"right",["justify"]:"justify"};function Od(s="start"){return xm[s]}var In;function vm(){var o;(o=document.getElementById("__textLabelMeasure"))==null||o.remove();let s=document.createElement("pre");return s.id="__textLabelMeasure",Object.assign(s.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:Ct,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none","-webkit-user-select":"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),s.tabIndex=-1,document.body.appendChild(s),s}typeof window!="undefined"&&(In=vm());var Gi="",Fd="",ji=[0,0];function jd(){Gi=""}function Cn(s,o){if(!s)return[16,32];if(!In)return[10,10];if(In.parent||document.body.appendChild(In),s===Gi&&o===Fd)return ji;Gi=s,Fd=o,In.textContent=s,In.style.font=o;let e=In.offsetWidth||1,t=In.offsetHeight||1;return ji=[e,t],ji}var Im=new RegExp(`${[32,160,4961,65792,65793,4153,4241].map(s=>String.fromCodePoint(s)).join("|")}`);function Dn(s,o,e,t,n,r=!1){let i="normal",a=Ct,c=Cm({text:s,wrap:r,width:n,fontSize:o,fontWeight:i,fontFamily:e,fontStyle:"normal",textAlign:"left",letterSpacing:Ct,lineHeight:1}),p=document.createElementNS("http://www.w3.org/2000/svg","text");p.setAttribute("font-size",o+"px"),p.setAttribute("font-family",e),p.setAttribute("font-weight",i),p.setAttribute("line-height",1*o+"px"),p.setAttribute("letter-spacing",a),p.setAttribute("text-align",t!=null?t:"left"),p.setAttribute("dominant-baseline","mathematical"),p.setAttribute("alignment-baseline","mathematical");let u=c.map((h,m)=>{let g=document.createElementNS("http://www.w3.org/2000/svg","tspan");return g.textContent=h+`
`,g.setAttribute("y",1*o*(m+.5)+"px"),p.appendChild(g),g});switch(t){case"middle":{p.setAttribute("text-align","center"),p.setAttribute("text-anchor","middle"),u.forEach(h=>h.setAttribute("x",n/2+""));break}case"end":{p.setAttribute("text-align","right"),p.setAttribute("text-anchor","end"),u.forEach(h=>h.setAttribute("x",-4+n+""));break}default:p.setAttribute("text-align","left"),p.setAttribute("text-anchor","start"),u.forEach(h=>h.setAttribute("x",4+""))}return p}function Cm(s){let o=document.createElement("div");o.style.setProperty("position","absolute"),o.style.setProperty("top","-9999px"),o.style.setProperty("left","-9999px"),o.style.setProperty("width",s.width+"px"),o.style.setProperty("height","min-content"),o.style.setProperty("font-size",s.fontSize+"px"),o.style.setProperty("font-family",s.fontFamily),o.style.setProperty("font-weight",s.fontWeight),o.style.setProperty("line-height",s.lineHeight*s.fontSize+"px"),o.style.setProperty("letter-spacing",s.letterSpacing),o.style.setProperty("text-align",s.textAlign),document.body.appendChild(o);let e=s.text.split(Im).flatMap(i=>i.replace(`
`,` 
`)).join(" ").split(" ");o.innerText=e[0];let t=o.offsetHeight,n=[e[0]],r=[n];for(let i=1;i<e.length;i++){let d=e[i];o.innerText+=" "+d;let a=o.offsetHeight;a>t&&(t=a,n=[],r.push(n)),n.push(d)}return o.remove(),r.map(i=>i.join(" "))}var br=require("react/jsx-runtime");function Gd({id:s,bounds:o,labelSize:e,offset:t,scale:n=1}){return(0,br.jsx)("defs",{children:(0,br.jsxs)("mask",{id:s+"_clip",children:[(0,br.jsx)("rect",{x:-100,y:-100,width:o.width+200,height:o.height+200,fill:"white"}),(0,br.jsx)("rect",{x:o.width/2-e[0]/2*n+((t==null?void 0:t[0])||0),y:o.height/2-e[1]/2*n+((t==null?void 0:t[1])||0),width:e[0]*n,height:e[1]*n,rx:4*n,ry:4*n,fill:"black",opacity:Math.max(n,.8)})]})})}var Vd=require("@tldraw/intersect"),xt=R(require("@tldraw/vec"));var cs=Math.PI*2,kt=class{static inwardEdgeNormal(o){let e=xt.default.sub(o[1],o[0]),t=xt.default.len2(e);return[-e[0]/t,e[1]/t]}static outwardEdgeNormal(o){return xt.default.neg(kt.inwardEdgeNormal(o))}static isReflexVertex(o,e){let t=o.length,n=o[(e+t-1)%t],r=o[e],i=o[(e+1)%t];return kt.leftSide(n,i,r)<0}static getEdges(o){return o.map((e,t)=>[e,o[(t+1)%o.length]])}static edgesIntersection([o,e],[t,n]){let r=(n[1]-t[1])*(e[0]-o[0])-(n[0]-t[0])*(e[1]-o[1]);if(r==0)return null;let i=((n[0]-t[0])*(o[1]-t[1])-(n[1]-t[1])*(o[0]-t[0]))/r,d=((e[0]-o[0])*(o[1]-t[1])-(e[1]-o[1])*(o[0]-t[0]))/r;return i<0||d<0||i>1||d>1?null:[o[0]+i*(e[0]-o[0]),o[1]+i*(e[1]-o[1])]}static appendArc(o,e,t,n,r,i=!1){let d=[...o],a=Math.atan2(n[1]-e[1],n[0]-e[0]),c=Math.atan2(r[1]-e[1],r[0]-e[0]);a<0&&(a+=cs),c<0&&(c+=cs);let p=5,u=a>c?a-c:a+cs-c,h=(i?-u:cs-u)/p;d.push(n);for(let m=1;m<p;++m){let g=a+h*m;d.push([e[0]+Math.cos(g)*t,e[1]+Math.sin(g)*t])}return d.push(r),d}static createOffsetEdge(o,e){return o.map(t=>xt.default.add(t,e))}static getOffsetPolygon(o,e=0){let t=kt.getEdges(o),n=t.map(i=>kt.createOffsetEdge(i,xt.default.mul(kt.outwardEdgeNormal(i),e))),r=[];for(let i=0;i<n.length;i++){let d=n[i],a=n[(i+n.length-1)%n.length],c=kt.edgesIntersection(a,d);c?r.push(c):kt.appendArc(r,t[i][0],e,a[1],d[0],!1)}return r}static createPaddingPolygon(o,e=0){let t=o.map(r=>kt.createOffsetEdge(r,kt.inwardEdgeNormal(r))),n=[];for(let r=0;r<t.length;r++){let i=t[r],d=t[(r+t.length-1)%t.length],a=kt.edgesIntersection(d,i);a?n.push(a):kt.appendArc(n,o[r][0],e,d[1],i[0],!0)}return n}},Vi=kt;l(Vi,"leftSide",xt.default.isLeft);function $d(s,o){if(s.length<3)throw Error("Polygon must have at least 3 points");let e=s.length;return s.map((t,n)=>[t,s[(n+1)%e]]).map(([t,n])=>{let r=xt.default.mul(xt.default.per(xt.default.uni(xt.default.sub(n,t))),o);return[xt.default.add(t,r),xt.default.add(n,r)]}).map((t,n,r)=>{let i=(0,Vd.intersectLineLine)(t,r[(n+1)%r.length]);if(i===void 0)throw Error("Expected an intersection");return i})}var Xn=require("@tldraw/core");var Nd="#fafafa",$i="#343d45",Co={["white"]:"#f0f1f3",["lightGray"]:"#c6cbd1",["gray"]:"#788492",["black"]:"#1d1d1d",["green"]:"#36b24d",["cyan"]:"#0e98ad",["blue"]:"#1c7ed6",["indigo"]:"#4263eb",["violet"]:"#7746f1",["red"]:"#ff2133",["orange"]:"#ff9433",["yellow"]:"#ffc936"},Dm={light:k(S({},Object.fromEntries(Object.entries(Co).map(([s,o])=>[s,Xn.Utils.lerpColor(o,Nd,.45)]))),{["white"]:"#ffffff",["black"]:"#3d3d3d"}),dark:k(S({},Object.fromEntries(Object.entries(Co).map(([s,o])=>[s,Xn.Utils.lerpColor(Xn.Utils.lerpColor(o,"#999999",.3),$i,.4)]))),{["white"]:"#1d1d1d",["black"]:"#bbbbbb"})},Do={light:k(S({},Co),{["white"]:"#1d1d1d"}),dark:k(S({},Object.fromEntries(Object.entries(Co).map(([s,o])=>[s,Xn.Utils.lerpColor(o,$i,.1)]))),{["white"]:"#cecece",["black"]:"#cecece"})},ps={light:k(S({},Object.fromEntries(Object.entries(Co).map(([s,o])=>[s,Xn.Utils.lerpColor(o,Nd,.82)]))),{["white"]:"#fefefe"}),dark:k(S({},Object.fromEntries(Object.entries(Co).map(([s,o])=>[s,Xn.Utils.lerpColor(o,$i,.82)]))),{["white"]:"rgb(30,33,37)",["black"]:"#1e1e1f"})},Pm={["small"]:2,["medium"]:3.5,["large"]:5},Mm={["small"]:28,["medium"]:48,["large"]:96,auto:"auto"},Em={["script"]:'"Caveat Brush"',["sans"]:'"Source Sans Pro"',["serif"]:'"Crimson Pro"',["mono"]:'"Source Code Pro"'},Bm={["script"]:1,["sans"]:1,["serif"]:1,["mono"]:1},Rm={["small"]:24,["medium"]:36,["large"]:48,auto:"auto"};function Am(s){return Pm[s]}function qn(s,o="script"){return Mm[s]*Bm[o]}function qt(s="script"){return Em[s]}function Ni(s){return Rm[s]}function nt(s){let o=qn(s.size,s.font),e=qt(s.font),{scale:t=1}=s;return`${o*t}px/1 ${e}`}function Wd(s){let o=Ni(s.size),e=qt(s.font),{scale:t=1}=s;return`${o*t}px/1 ${e}`}function Wi(s,o=!1){let{color:e}=s,t=o?"dark":"light",n=e==="white"||e==="black"?"yellow":e;return{fill:Dm[t][n],stroke:Do[t][n],color:o?"#1d1d1d":"#0d0d0d"}}function K(s,o){let{color:e,size:t,isFilled:n}=s,r=Am(t),i=o?"dark":"light";return{stroke:Do[i][e],fill:n?ps[i][e]:"none",strokeWidth:r}}var Oe={color:"black",size:"small",isFilled:!1,dash:"draw",scale:1},Po=k(S({},Oe),{font:"script",textAlign:"middle"});var Kd="  ",Ee=class{static insertTextFirefox(o,e){o.setRangeText(e,o.selectionStart||0,o.selectionEnd||0,"end"),o.dispatchEvent(new InputEvent("input",{data:e,inputType:"insertText",isComposing:!1}))}static insert(o,e){let t=o.ownerDocument,n=t.activeElement;n!==o&&o.focus(),t.execCommand("insertText",!1,e)||Ee.insertTextFirefox(o,e),n===t.body?o.blur():n instanceof HTMLElement&&n!==o&&n.focus()}static set(o,e){o.select(),Ee.insert(o,e)}static getSelection(o){let{selectionStart:e,selectionEnd:t}=o;return o.value.slice(e||void 0,t||void 0)}static wrapSelection(o,e,t){let{selectionStart:n,selectionEnd:r}=o,i=Ee.getSelection(o);Ee.insert(o,e+i+(t!=null?t:e)),o.selectionStart=(n||0)+e.length,o.selectionEnd=(r||0)+e.length}static replace(o,e,t){let n=0;o.value.replace(e,(...r)=>{let i=n+r[r.length-2],d=r[0].length;o.selectionStart=i,o.selectionEnd=i+d;let a=typeof t=="string"?t:t(...r);return Ee.insert(o,a),o.selectionStart=i,n+=a.length-d,a})}static findLineEnd(o,e){let t=o.lastIndexOf(`
`,e-1)+1;return o.charAt(t)!=="	"?e:t+1}static indent(o){var d;let{selectionStart:e,selectionEnd:t,value:n}=o,r=n.slice(e,t),i=(d=/\n/g.exec(r))==null?void 0:d.length;if(i&&i>0){let a=n.lastIndexOf(`
`,e-1)+1,c=o.value.slice(a,t-1),p=c.replace(/^|\n/g,`$&${Kd}`),u=p.length-c.length;o.setSelectionRange(a,t-1),Ee.insert(o,p),o.setSelectionRange(e+1,t+u)}else Ee.insert(o,Kd)}static unindent(o){let{selectionStart:e,selectionEnd:t,value:n}=o,r=n.lastIndexOf(`
`,e-1)+1,i=Ee.findLineEnd(n,t),d=o.value.slice(r,i),a=d.replace(/(^|\n)(\t| {1,2})/g,"$1"),c=d.length-a.length;o.setSelectionRange(r,i),Ee.insert(o,a);let p=/\t| {1,2}/.exec(n.slice(r,e)),u=p?p[0].length:0,h=e-u;o.setSelectionRange(e-u,Math.max(h,t-c))}};var Ke=R(require("react"));var us=require("react/jsx-runtime"),Pn=Ke.memo(function({font:o,text:e,color:t,offsetX:n=0,offsetY:r=0,scale:i=1,isEditing:d=!1,onBlur:a,onChange:c}){let p=Ke.useRef(null),u=Ke.useRef(!1),h=Ke.useCallback(w=>{c(x.normalizeText(w.currentTarget.value))},[c]),m=Ke.useCallback(w=>{if(w.key==="Escape"){w.preventDefault(),w.stopPropagation(),a==null||a();return}if(w.key==="Tab"&&e.length===0){w.preventDefault();return}if(!(w.key==="Meta"||w.metaKey))w.stopPropagation();else if(w.key==="z"&&w.metaKey){w.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),w.stopPropagation(),w.preventDefault();return}(w.metaKey||w.ctrlKey)&&w.key==="="&&w.preventDefault(),w.key==="Tab"&&(w.preventDefault(),w.shiftKey?Ee.unindent(w.currentTarget):Ee.indent(w.currentTarget),c==null||c(x.normalizeText(w.currentTarget.value)))},[c]),g=Ke.useCallback(w=>{w.currentTarget.setSelectionRange(0,0),a==null||a()},[a]),f=Ke.useCallback(w=>{!d||!u.current||document.activeElement===w.currentTarget&&w.currentTarget.select()},[d]),y=Ke.useCallback(w=>{d&&w.stopPropagation()},[d]),T=Ke.useRef(d);Ke.useEffect(()=>{d?(T.current=!0,requestAnimationFrame(()=>{u.current=!0;let w=p.current;w&&(w.focus(),w.select())})):T.current&&(a==null||a(),T.current=!1)},[d,a]);let b=Ke.useRef(null);return Ke.useLayoutEffect(()=>{let w=b.current;if(!w)return;let v=Cn(e,o);w.style.transform=`scale(${i}, ${i}) translate(${n}px, ${r}px)`,w.style.width=v[0]+1+"px",w.style.height=v[1]+1+"px"},[e,o,r,n,i]),(0,us.jsx)(Lm,{children:(0,us.jsxs)(Hm,{ref:b,hasText:!!e,isEditing:d,style:{font:o,color:t},children:[d?(0,us.jsx)(zm,{ref:p,style:{font:o,color:t},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:e,color:t,onFocus:f,onChange:h,onKeyDown:m,onBlur:g,onPointerDown:y,onContextMenu:$e,onCopy:$e,onPaste:$e,onCut:$e}):e,"\u200B"]})})}),Lm=M("div",{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",userSelect:"none",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}}}}),Ud={whiteSpace:"pre-wrap",overflowWrap:"break-word",letterSpacing:Ct},Hm=M("div",S({position:"absolute",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,outline:0,fontWeight:"500",textAlign:"center",backfaceVisibility:"hidden",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",variants:{hasText:{false:{pointerEvents:"none"},true:{pointerEvents:"all"}},isEditing:{false:{userSelect:"none"},true:{background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}}},Ud)),zm=M("textarea",k(S({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text",fontSmooth:"always",WebkitFontSmoothing:"subpixel-antialiased",MozOsxFontSmoothing:"auto"},Ud),{"&:focus":{outline:"none",border:"none"}}));var Mo=R(require("@tldraw/vec"));function Mn(s,o,{initialShape:e,transformOrigin:t,scaleX:n,scaleY:r}){if(s.rotation||e.isAspectRatioLocked){let i=Mo.default.toFixed(Mo.default.mul(e.size,Math.min(Math.abs(n),Math.abs(r)))),d=Mo.default.toFixed([o.minX+(o.width-s.size[0])*(n<0?1-t[0]:t[0]),o.minY+(o.height-s.size[1])*(r<0?1-t[1]:t[1])]),a=n<0&&r>=0||r<0&&n>=0?e.rotation?-e.rotation:0:e.rotation;return{size:i,point:d,rotation:a}}else return{point:Mo.default.toFixed([o.minX,o.minY]),size:Mo.default.toFixed([o.width,o.height])}}var Ki=R(require("@tldraw/vec"));function En(s,o){return{size:Ki.default.toFixed([o.width,o.height]),point:Ki.default.toFixed([o.minX,o.minY])}}var Y=class extends Pt.TLShapeUtil{constructor(){super(...arguments);l(this,"canBind",!1);l(this,"canEdit",!1);l(this,"canClone",!1);l(this,"isAspectRatioLocked",!1);l(this,"hideResizeHandles",!1);l(this,"bindingDistance",16);l(this,"hitTestPoint",(e,t)=>Pt.Utils.pointInBounds(t,this.getRotatedBounds(e)));l(this,"hitTestLineSegment",(e,t,n)=>{let r=Pt.Utils.getBoundsFromPoints([t,n]),i=this.getBounds(e);return Pt.Utils.boundsContain(i,r)||e.rotation?(0,Eo.intersectLineSegmentPolyline)(t,n,Pt.Utils.getRotatedCorners(this.getBounds(e))).didIntersect:(0,Eo.intersectLineSegmentBounds)(t,n,this.getBounds(e)).length>0});l(this,"create",e=>(this.refMap.set(e.id,_d.createRef()),this.getShape(e)));l(this,"getCenter",e=>Pt.Utils.getBoundsCenter(this.getBounds(e)));l(this,"getExpandedBounds",e=>Pt.Utils.expandBounds(this.getBounds(e),this.bindingDistance));l(this,"getBindingPoint",(e,t,n,r,i,d)=>{let a=this.getBounds(e),c=this.getExpandedBounds(e);if(!Pt.Utils.pointInBounds(n,c))return;let p=(0,Eo.intersectRayBounds)(r,i,c).filter(T=>T.didIntersect).map(T=>T.points[0]);if(!p.length)return;let u=this.getCenter(e),h=p.sort((T,b)=>Jt.Vec.dist(b,r)-Jt.Vec.dist(T,r))[0],m=Jt.Vec.med(n,h),g,f;d?(g=Jt.Vec.dist(n,u)<16/2?u:n,f=0):(Jt.Vec.distanceToLineSegment(n,m,u)<16/2?g=u:g=m,Pt.Utils.pointInBounds(n,a)?f=this.bindingDistance:f=Math.max(this.bindingDistance,Pt.Utils.getBoundsSides(a).map(T=>Jt.Vec.distanceToLineSegment(T[1][0],T[1][1],n)).sort((T,b)=>T-b)[0]));let y=Jt.Vec.divV(Jt.Vec.sub(g,[c.minX,c.minY]),[c.width,c.height]);return{point:Jt.Vec.clampV(y,0,1),distance:f}});l(this,"mutate",(e,t)=>t);l(this,"transform",(e,t,n)=>k(S({},e),{point:[t.minX,t.minY]}));l(this,"transformSingle",(e,t,n)=>this.transform(e,t,n));l(this,"updateChildren");l(this,"onChildrenChange");l(this,"onHandleChange");l(this,"onRightPointHandle");l(this,"onDoubleClickHandle");l(this,"onDoubleClickBoundsHandle");l(this,"onSessionComplete");l(this,"getSvgElement",(e,t)=>{var i,d,a,c,p;let n=(i=document.getElementById(e.id+"_svg"))==null?void 0:i.cloneNode(!0);if(!n)return;if((c=(a=(d=e.label)==null?void 0:d.trim())==null?void 0:a.length)!=null?c:0>0){let u=e,h=document.createElementNS("http://www.w3.org/2000/svg","g"),m=nt(e.style),g=Cn(e.label,m),f=qn(e.style.size,e.style.font)*((p=e.style.scale)!=null?p:1),y=qt(e.style.font).slice(1,-1),T=Dn(u.label,f,y,"middle",g[0],!1),b=this.getBounds(e);return T.setAttribute("transform",`translate(${b.width/2-g[0]/2}, ${b.height/2-g[1]/2})`),T.setAttribute("fill",K(e.style,t).stroke),T.setAttribute("transform-origin","center center"),h.setAttribute("text-align","center"),h.setAttribute("text-anchor","middle"),h.appendChild(n),h.appendChild(T),h}return n})}};var pn=require("@tldraw/core"),hs=require("@tldraw/intersect"),te=R(require("@tldraw/vec")),Ui=R(require("perfect-freehand"));function Xd(s,o,e,t){return["M",s[0],s[1],"A",e[2],e[2],0,0,t<0?0:1,o[0],o[1]].join(" ")}function Tr(s,o){let{start:e,end:t}=s,n=te.default.dist(e.point,t.point),r=te.default.med(e.point,t.point),i=n/2*o,d=te.default.uni(te.default.vec(e.point,t.point));return te.default.toFixed(Math.abs(i)<10?r:te.default.add(r,te.default.mul(te.default.per(d),i)))}function qd(s,o,e,t,n,r){let i=pn.Utils.rng(s),d=K(o).strokeWidth,a=n?te.default.nudge(e,t,d):e,c=r?te.default.nudge(t,e,d):t,p=(0,Ui.default)([a,c],{size:d,thinning:.618+i()*.2,easing:Zn.easeOutQuad,simulatePressure:!0,streamline:0,last:!0});return pn.Utils.getSvgPathFromStroke(p)}function Jd(s,o,e,t,n,r,i,d,a,c){let p=pn.Utils.rng(s),u=K(o).strokeWidth,h=n?te.default.rotWith(e,i,u/a):e,m=r?te.default.rotWith(t,i,-(u/a)):t,g=te.default.angle(i,h),f=te.default.angle(i,m),y=[],T=8+Math.floor(Math.abs(a)/20*1+p()/2);for(let w=0;w<T;w++){let v=c(w/T),P=pn.Utils.lerpAngles(g,f,v);y.push(te.default.toFixed(te.default.nudgeAtAngle(i,P,d)))}let b=(0,Ui.default)([h,...y,m],{size:1+u,thinning:.618+p()*.2,easing:Zn.easeOutQuad,simulatePressure:!1,streamline:0,last:!0});return pn.Utils.getSvgPathFromStroke(b)}function un(s,o,e){return pn.Utils.circleFromThreePoints(s,e,o)}function ms(s,o,e,t,n){let r=(0,hs.intersectCircleCircle)(s,o*.618,e,t).points;if(!r)return x.warn("Could not find an intersection for the arrow head."),{left:s,right:s};let i=n?r[0]:r[1],d=i?te.default.nudge(te.default.rotWith(i,s,Math.PI/6),s,o*-.382):s,a=i?te.default.nudge(te.default.rotWith(i,s,-Math.PI/6),s,o*-.382):s;return{left:d,right:a}}function gs(s,o,e){let t=(0,hs.intersectCircleLineSegment)(s,e,s,o).points;if(!t)return x.warn("Could not find an intersection for the arrow head."),{left:s,right:s};let n=t[0],r=n?te.default.rotWith(n,s,Math.PI/6):s,i=n?te.default.rotWith(n,s,-Math.PI/6):s;return{left:r,right:i}}function Yd(s,o,e,t,n){let{left:r,right:i}=ms(s,o,e,t,n);return`M ${r} L ${s} ${i}`}function Zd(s,o,e){let{left:t,right:n}=gs(s,o,e);return`M ${t} L ${s} ${n}`}function Qd(s,o,e,t,n,r){let{strokeWidth:i}=K(s,!1),d=te.default.dist(o,t),a=Math.min(d/3,i*8),c=[];if(te.default.dist(e,te.default.toFixed(te.default.med(o,t)))<1)c.push(`M ${o} L ${t}`),n&&c.push(Zd(o,t,a)),r&&c.push(Zd(t,o,a));else{let u=un(o,e,t),h=[u[0],u[1]],m=u[2],g=Jn(h,m,o,t);c.push(`M ${o} A ${m} ${m} 0 0 ${g>0?"1":"0"} ${t}`),n&&c.push(Yd(o,a,h,m,g<0)),r&&c.push(Yd(t,a,h,m,g>=0))}return c.join(" ")}function yr(s,o,e){if(te.default.dist2(o,te.default.med(s,e))<=4)return[s,e];let t=[],n=un(s,o,e),r=[n[0],n[1]],i=n[2],d=te.default.angle(r,s),a=te.default.angle(r,e);for(let c=0;c<20;c++){let p=c/19,u=pn.Utils.lerpAngles(d,a,p);t.push(te.default.nudgeAtAngle(r,u,i))}return t}function ec(s,o,e){if(e===s||e===o)return!0;let t=Math.PI*2,n=(o-s+t)%t,r=(e-s+t)%t;return n<=Math.PI!=r>n}function Jn(s,o,e,t){let n=pn.Utils.getSweep(s,e,t);return o*(2*Math.PI)*(n/(2*Math.PI))}var _i=require("@tldraw/core"),tc=R(require("@tldraw/vec")),nc=R(require("react"));var fs=require("react/jsx-runtime");function Bo({left:s,middle:o,right:e,stroke:t,strokeWidth:n}){return(0,fs.jsxs)("g",{children:[(0,fs.jsx)("path",{className:"tl-stroke-hitarea",d:`M ${s} L ${o} ${e}`}),(0,fs.jsx)("path",{d:`M ${s} L ${o} ${e}`,fill:"none",stroke:t,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"})]})}var Bn=require("react/jsx-runtime"),oc=nc.memo(function({id:o,style:e,start:t,bend:n,end:r,arrowBend:i,decorationStart:d,decorationEnd:a,isDraw:c,isDarkMode:p}){let u=tc.default.dist(t,r);if(u<2)return null;let h=K(e,p),{strokeWidth:m}=h,g=1+m*1.618,f=un(t,n,r),y=[f[0],f[1]],T=f[2],b=Jn(y,T,t,r),w=_i.Utils.rng(o),v=Zn[w()>0?"easeInOutSine":"easeInOutCubic"],P=c?Jd(o,e,t,r,d,a,y,T,b,v):Xd(t,r,f,i),{strokeDasharray:C,strokeDashoffset:B}=_i.Utils.getPerfectDashProps(Math.abs(b),g,e.dash,2,!1),I=Math.min(u/3,m*8),D=d?ms(t,I,y,T,b<0):null,A=a?ms(r,I,y,T,b>=0):null;return(0,Bn.jsxs)(Bn.Fragment,{children:[(0,Bn.jsx)("path",{className:"tl-stroke-hitarea",d:P}),(0,Bn.jsx)("path",{d:P,fill:c?h.stroke:"none",stroke:h.stroke,strokeWidth:c?0:g,strokeDasharray:C,strokeDashoffset:B,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"}),D&&(0,Bn.jsx)(Bo,{left:D.left,middle:t,right:D.right,stroke:h.stroke,strokeWidth:g}),A&&(0,Bn.jsx)(Bo,{left:A.left,middle:r,right:A.right,stroke:h.stroke,strokeWidth:g})]})});var rc=require("@tldraw/core"),Ss=R(require("@tldraw/vec")),sc=R(require("react"));var Rn=require("react/jsx-runtime"),ic=sc.memo(function({id:o,style:e,start:t,end:n,decorationStart:r,decorationEnd:i,isDraw:d,isDarkMode:a}){let c=Ss.default.dist(t,n);if(c<2)return null;let p=K(e,a),{strokeWidth:u}=p,h=1+u*1.618,m=d?qd(o,e,t,n,r,i):"M"+Ss.default.toFixed(t)+"L"+Ss.default.toFixed(n),{strokeDasharray:g,strokeDashoffset:f}=rc.Utils.getPerfectDashProps(c,u*1.618,e.dash,2,!1),y=Math.min(c/3,u*8),T=r?gs(t,n,y):null,b=i?gs(n,t,y):null;return(0,Rn.jsxs)(Rn.Fragment,{children:[(0,Rn.jsx)("path",{className:"tl-stroke-hitarea",d:m}),(0,Rn.jsx)("path",{d:m,fill:p.stroke,stroke:p.stroke,strokeWidth:d?h/2:h,strokeDasharray:g,strokeDashoffset:f,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"stroke"}),T&&(0,Rn.jsx)(Bo,{left:T.left,middle:t,right:T.right,stroke:p.stroke,strokeWidth:h}),b&&(0,Rn.jsx)(Bo,{left:b.left,middle:n,right:b.right,stroke:p.stroke,strokeWidth:h})]})});var Ye=require("react/jsx-runtime"),bs=class extends Y{constructor(){super(...arguments);l(this,"type","arrow");l(this,"hideBounds",!0);l(this,"canEdit",!0);l(this,"pathCache",new WeakMap);l(this,"getShape",e=>{var t,n,r,i;return S({id:"id",type:"arrow",name:"Arrow",parentId:"page",childIndex:1,point:[0,0],rotation:0,bend:0,handles:{start:S({id:"start",index:0,point:[0,0],canBind:!0},(t=e.handles)==null?void 0:t.start),end:S({id:"end",index:1,point:[1,1],canBind:!0},(n=e.handles)==null?void 0:n.end),bend:S({id:"bend",index:2,point:[.5,.5]},(r=e.handles)==null?void 0:r.bend)},decorations:(i=e.decorations)!=null?i:{end:"arrow"},style:S(k(S({},Oe),{isFilled:!1}),e.style),label:"",labelPoint:[.5,.5]},e)});l(this,"Component",Y.Component(({shape:e,isEditing:t,isGhost:n,meta:r,events:i,onShapeChange:d,onShapeBlur:a},c)=>{var L,se;let{id:p,label:u="",handles:{start:h,bend:m,end:g},decorations:f={},style:y}=e,T=(se=(L=u==null?void 0:u.trim())==null?void 0:L.length)!=null?se:0>0,b=$.Vec.dist(m.point,$.Vec.toFixed($.Vec.med(h.point,g.point)))<1,w=nt(y),v=K(y,r.isDarkMode),P=T||t?Cn(u,w):[0,0],C=this.getBounds(e),B=Qn.useMemo(()=>{let{start:J,bend:ne,end:ie}=e.handles;if(b)return $.Vec.dist(J.point,ie.point);let et=un(J.point,ne.point,ie.point),sn=et.slice(0,2),bn=et[2],Tn=Jn(sn,bn,J.point,ie.point);return Math.abs(Tn)},[e.handles]),I=Math.max(.5,Math.min(1,Math.max(B/(P[1]+128),B/(P[0]+128)))),D=Qn.useMemo(()=>{let J=this.getBounds(e);return $.Vec.sub(e.handles.bend.point,$.Vec.toFixed([J.width/2,J.height/2]))},[e,I]),A=Qn.useCallback(J=>{d==null||d({id:p,label:J})},[d]),O=b?ic:oc;return(0,Ye.jsxs)(Om,k(S({ref:c},i),{children:[(0,Ye.jsx)(Pn,{font:w,text:u,color:v.stroke,offsetX:D[0],offsetY:D[1],scale:I,isEditing:t,onChange:A,onBlur:a}),(0,Ye.jsxs)(ht.SVGContainer,{id:e.id+"_svg",children:[(0,Ye.jsx)("defs",{children:(0,Ye.jsxs)("mask",{id:e.id+"_clip",children:[(0,Ye.jsx)("rect",{x:-100,y:-100,width:C.width+200,height:C.height+200,fill:"white"}),(0,Ye.jsx)("rect",{x:C.width/2-P[0]/2*I+D[0],y:C.height/2-P[1]/2*I+D[1],width:P[0]*I,height:P[1]*I,rx:4*I,ry:4*I,fill:"black",opacity:1})]})}),(0,Ye.jsx)("g",{pointerEvents:"none",opacity:n?.3:1,mask:T||t?`url(#${e.id}_clip)`:"",children:(0,Ye.jsx)(O,{id:p,style:y,start:h.point,end:g.point,bend:m.point,arrowBend:e.bend,decorationStart:f==null?void 0:f.start,decorationEnd:f==null?void 0:f.end,isDraw:y.dash==="draw",isDarkMode:r.isDarkMode})})]})]}))}));l(this,"Indicator",Y.Indicator(({shape:e,bounds:t})=>{var T,b;let{style:n,decorations:r,label:i,handles:{start:d,bend:a,end:c}}=e,p=(b=(T=i==null?void 0:i.trim())==null?void 0:T.length)!=null?b:0>0,u=nt(n),h=p?Cn(i,u):[0,0],m=$.Vec.dist(a.point,$.Vec.toFixed($.Vec.med(d.point,c.point)))<1,g=Qn.useMemo(()=>{let{start:w,bend:v,end:P}=e.handles;if(m)return $.Vec.dist(w.point,P.point);let C=un(w.point,v.point,P.point),B=C.slice(0,2),I=C[2],D=Jn(B,I,w.point,P.point);return Math.abs(D)},[e.handles]),f=Math.max(.5,Math.min(1,Math.max(g/(h[1]+128),g/(h[0]+128)))),y=Qn.useMemo(()=>{let w=this.getBounds(e);return $.Vec.sub(e.handles.bend.point,[w.width/2,w.height/2])},[e,f]);return(0,Ye.jsxs)(Ye.Fragment,{children:[p&&(0,Ye.jsx)(Gd,{id:e.id,scale:f,offset:y,bounds:t,labelSize:h}),(0,Ye.jsx)("path",{d:Qd(n,d.point,a.point,c.point,r==null?void 0:r.start,r==null?void 0:r.end),mask:p?`url(#${e.id}_clip)`:""}),p&&(0,Ye.jsx)("rect",{x:t.width/2-h[0]/2*f+y[0],y:t.height/2-h[1]/2*f+y[1],width:h[0]*f,height:h[1]*f,rx:4*f,ry:4*f,fill:"transparent"})]})}));l(this,"getBounds",e=>{let t=ht.Utils.getFromCache(this.boundsCache,e,()=>{let{handles:{start:n,bend:r,end:i}}=e;return ht.Utils.getBoundsFromPoints(yr(n.point,r.point,i.point))});return ht.Utils.translateBounds(t,e.point)});l(this,"getRotatedBounds",e=>{let{handles:{start:t,bend:n,end:r}}=e,i=yr(t.point,n.point,r.point),{minX:d,minY:a,maxX:c,maxY:p}=ht.Utils.getBoundsFromPoints(i);return e.rotation!==0&&(i=i.map(u=>$.Vec.rotWith(u,[(d+c)/2,(a+p)/2],e.rotation||0))),ht.Utils.translateBounds(ht.Utils.getBoundsFromPoints(i),e.point)});l(this,"getCenter",e=>{let{start:t,end:n}=e.handles;return $.Vec.add(e.point,$.Vec.med(t.point,n.point))});l(this,"shouldRender",(e,t)=>t.decorations!==e.decorations||t.handles!==e.handles||t.style!==e.style||t.label!==e.label);l(this,"hitTestPoint",(e,t)=>{let{handles:{start:n,bend:r,end:i}}=e,d=$.Vec.sub(t,e.point),a=yr(n.point,r.point,i.point);for(let c=1;c<a.length;c++)if($.Vec.distanceToLineSegment(a[c-1],a[c],d)<1)return!0;return!1});l(this,"hitTestLineSegment",(e,t,n)=>{let{handles:{start:r,bend:i,end:d}}=e,a=$.Vec.sub(t,e.point),c=$.Vec.sub(n,e.point),p=yr(r.point,i.point,d.point);for(let u=1;u<p.length;u++)if((0,Ro.intersectLineSegmentLineSegment)(p[u-1],p[u],a,c).didIntersect)return!0;return!1});l(this,"hitTestBounds",(e,t)=>{let{start:n,end:r,bend:i}=e.handles,d=$.Vec.add(e.point,n.point),a=$.Vec.add(e.point,r.point);if(ht.Utils.pointInBounds(d,t)||ht.Utils.pointInBounds(a,t))return!0;if($.Vec.isEqual($.Vec.med(n.point,r.point),i.point))return(0,Ro.intersectLineSegmentBounds)(d,a,t).length>0;{let[c,p,u]=un(n.point,i.point,r.point),h=$.Vec.add(e.point,[c,p]);return(0,Ro.intersectArcBounds)(h,u,d,a,t).length>0}});l(this,"transform",(e,t,{initialShape:n,scaleX:r,scaleY:i})=>{let d=this.getBounds(n),a=["start","end"],c=S({},n.handles);a.forEach(h=>{if(h==="bend")return;let[m,g]=c[h].point,f=m/d.width,y=g/d.height;c[h]=k(S({},c[h]),{point:[t.width*(r<0?1-f:f),t.height*(i<0?1-y:y)]})});let p=r>0&&i<0||r<0&&i>0?-n.bend:n.bend,u=Tr(c,p);return c.bend.point=u,{point:$.Vec.toFixed([t.minX,t.minY]),handles:c,bend:p}});l(this,"onDoubleClickHandle",(e,t)=>{var n,r;switch(t){case"bend":return{bend:0,handles:k(S({},e.handles),{bend:k(S({},e.handles.bend),{point:Tr(e.handles,e.bend)})})};case"start":return{decorations:k(S({},e.decorations),{start:(n=e.decorations)!=null&&n.start?void 0:"arrow"})};case"end":return{decorations:k(S({},e.decorations),{end:(r=e.decorations)!=null&&r.end?void 0:"arrow"})}}return this});l(this,"onHandleChange",(e,t)=>{let n=ht.Utils.deepMerge(e.handles,t),r=e.bend;if(n=ht.Utils.deepMerge(n,{start:{point:$.Vec.toFixed(n.start.point)},end:{point:$.Vec.toFixed(n.end.point)}}),$.Vec.isEqual(n.start.point,n.end.point))return;if("bend"in t){let{start:p,end:u,bend:h}=n,m=$.Vec.dist(p.point,u.point),g=$.Vec.med(p.point,u.point),f=$.Vec.angle(p.point,u.point),y=$.Vec.uni($.Vec.vec(p.point,u.point)),T=$.Vec.add(g,$.Vec.mul($.Vec.per(y),m)),b=$.Vec.sub(g,$.Vec.mul($.Vec.per(y),m)),w=$.Vec.nearestPointOnLineSegment(T,b,h.point,!0),P=$.Vec.dist(g,w)/(m/2);r=ht.Utils.clamp(P,-.99,.99);let C=$.Vec.angle(p.point,w);$.Vec.isEqual(g,Tr(n,r))?r=0:ec(f,f+Math.PI,C)&&(r*=-1)}let i={point:e.point,bend:r,handles:k(S({},n),{bend:k(S({},n.bend),{point:Tr(n,r)})})},d=e.point,a=this.getBounds(S({},i)),c=$.Vec.sub([a.minX,a.minY],d);return $.Vec.isEqual(c,[0,0])||(Object.values(i.handles).forEach(p=>{p.point=$.Vec.toFixed($.Vec.sub(p.point,c))}),i.point=$.Vec.toFixed($.Vec.add(i.point,c))),i});l(this,"getSvgElement",(e,t)=>{var i,d,a,c,p;let n=(i=document.getElementById(e.id+"_svg"))==null?void 0:i.cloneNode(!0);if(!n)return;if((c=(a=(d=e.label)==null?void 0:d.trim())==null?void 0:a.length)!=null?c:0>0){let u=e,h=document.createElementNS("http://www.w3.org/2000/svg","g"),m=nt(e.style),g=Cn(e.label,m),f=qn(e.style.size,e.style.font)*((p=e.style.scale)!=null?p:1),y=qt(e.style.font).slice(1,-1),T=Dn(u.label,f,y,"start",g[0],!1),b,{start:w,bend:v,end:P}=e.handles;if($.Vec.dist(v.point,$.Vec.toFixed($.Vec.med(w.point,P.point)))<1)b=$.Vec.dist(w.point,P.point);else{let L=un(w.point,v.point,P.point),se=L.slice(0,2),J=L[2],ne=Jn(se,J,w.point,P.point);b=Math.abs(ne)}let B=Math.max(.5,Math.min(1,Math.max(b/(g[1]+128),b/(g[0]+128)))),I=this.getBounds(e),D=$.Vec.sub(e.handles.bend.point,[I.width/2,I.height/2]),A=I.width/2-g[0]/2*B+D[0],O=I.height/2-g[1]/2*B+D[1];return T.setAttribute("transform",`translate(${A}, ${O})`),T.setAttribute("fill",K(e.style,t).stroke),T.setAttribute("transform-origin","center center"),h.setAttribute("text-align","center"),h.setAttribute("text-anchor","middle"),h.appendChild(n),h.appendChild(T),h}return n})}},Om=M("div",{width:"100%",height:"100%"});var xe=require("@tldraw/core"),hn=require("@tldraw/intersect"),Qt=require("@tldraw/vec"),ys=R(require("react"));var Ts=require("@tldraw/core"),ac=R(require("@tldraw/vec")),wr=require("perfect-freehand");var Fm={easing:s=>Math.sin(s*Math.PI/2),simulatePressure:!0},jm={easing:s=>s*s,simulatePressure:!1};function Yi(s){let o=K(s.style);return k(S({size:1+o.strokeWidth*1.5,thinning:.65,streamline:.65,smoothing:.65},s.points[1][2]===.5?Fm:jm),{last:s.isComplete})}function lc(s){return s.points.length<2?"":Ts.Utils.getSvgPathFromStroke((0,wr.getStrokePoints)(s.points,Yi(s)).map(o=>o.point))}function dc(s,o){return(0,wr.getStrokePoints)(s.points,o)}function cc(s){if(s.points.length<2)return"";let o=Yi(s),e=dc(s,o);return Ts.Utils.getSvgPathFromStroke((0,wr.getStrokeOutlinePoints)(e,o))}function Zi(s){let{points:o}=s;if(o.length<2)return"M 0 0 L 0 0";let e=Yi(s),t=dc(s,e),n=o[o.length-1];return ac.default.isEqual(t[0].point,n)||t.push({point:n}),Ts.Utils.getSvgPathFromStrokePoints(t)}var ot=require("react/jsx-runtime"),ws=class extends Y{constructor(){super(...arguments);l(this,"type","draw");l(this,"pointsBoundsCache",new WeakMap([]));l(this,"shapeBoundsCache",new Map);l(this,"rotatedCache",new WeakMap([]));l(this,"pointCache",{});l(this,"canClone",!0);l(this,"getShape",e=>xe.Utils.deepMerge({id:"id",type:"draw",name:"Draw",parentId:"page",childIndex:1,point:[0,0],rotation:0,style:Oe,points:[],isComplete:!1},e));l(this,"Component",Y.Component(({shape:e,meta:t,isSelected:n,isGhost:r,events:i},d)=>{let{points:a,style:c,isComplete:p}=e,u=ys.useMemo(()=>lc(e),[a,c.size]),h=ys.useMemo(()=>c.dash==="draw"?cc(e):Zi(e),[a,c.size,c.dash,p]),m=K(c,t.isDarkMode),{stroke:g,fill:f,strokeWidth:y}=m,T=this.getBounds(e);if(T.width<=y/2&&T.height<=y/2){let B=1+y;return(0,ot.jsx)(xe.SVGContainer,k(S({ref:d,id:e.id+"_svg"},i),{children:(0,ot.jsx)("circle",{r:B,fill:g,stroke:g,pointerEvents:"all",opacity:r?.3:1})}))}let w=c.isFilled&&a.length>3&&Qt.Vec.dist(a[0],a[a.length-1])<y*2;if(e.style.dash==="draw")return(0,ot.jsx)(xe.SVGContainer,k(S({ref:d,id:e.id+"_svg"},i),{children:(0,ot.jsxs)("g",{opacity:r?.3:1,children:[(0,ot.jsx)("path",{className:w||n?"tl-fill-hitarea":"tl-stroke-hitarea",d:h}),w&&(0,ot.jsx)("path",{d:u,stroke:"none",fill:f,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),(0,ot.jsx)("path",{d:h,fill:g,stroke:g,strokeWidth:y/2,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})]})}));let v={["draw"]:"none",["solid"]:"none",["dotted"]:`0.1 ${y*4}`,["dashed"]:`${y*4} ${y*4}`}[c.dash],P={["draw"]:"none",["solid"]:"none",["dotted"]:"0",["dashed"]:"0"}[c.dash],C=1+y*1.5;return(0,ot.jsx)(xe.SVGContainer,k(S({ref:d,id:e.id+"_svg"},i),{children:(0,ot.jsxs)("g",{opacity:r?.3:1,children:[(0,ot.jsx)("path",{className:w&&n?"tl-fill-hitarea":"tl-stroke-hitarea",d:h}),(0,ot.jsx)("path",{d:h,fill:w?f:"none",stroke:"none",strokeWidth:Math.min(4,y*2),strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),(0,ot.jsx)("path",{d:h,fill:"none",stroke:g,strokeWidth:C,strokeDasharray:v,strokeDashoffset:P,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})]})}))}));l(this,"Indicator",Y.Indicator(({shape:e})=>{let{points:t}=e,n=ys.useMemo(()=>Zi(e),[t]),r=this.getBounds(e);return r.width<4&&r.height<4?(0,ot.jsx)("circle",{x:r.width/2,y:r.height/2,r:1}):(0,ot.jsx)("path",{d:n})}));l(this,"transform",(e,t,{initialShape:n,scaleX:r,scaleY:i})=>{let d=xe.Utils.getFromCache(this.boundsCache,n,()=>xe.Utils.getBoundsFromPoints(n.points)),a=n.points.map(([u,h,m])=>[t.width*(r<0?1-u/d.width:u/d.width),t.height*(i<0?1-h/d.height:h/d.height),m]),c=xe.Utils.getBoundsFromPoints(e.points),p=Qt.Vec.sub([t.minX,t.minY],[c.minX,c.minY]);return{points:a,point:p}});l(this,"getBounds",e=>{let t=!this.pointsBoundsCache.has(e.points),n=this.pointCache[e.id]!==e.point;if(t){let r=xe.Utils.getBoundsFromPoints(e.points);this.pointsBoundsCache.set(e.points,r),this.shapeBoundsCache.set(e.id,xe.Utils.translateBounds(r,e.point)),this.pointCache[e.id]=e.point}else n&&!t&&(this.pointCache[e.id]=e.point,this.shapeBoundsCache.set(e.id,xe.Utils.translateBounds(this.pointsBoundsCache.get(e.points),e.point)));return this.shapeBoundsCache.get(e.id)});l(this,"shouldRender",(e,t)=>t.points!==e.points||t.style!==e.style||t.isComplete!==e.isComplete);l(this,"hitTestPoint",(e,t)=>{let n=Qt.Vec.sub(t,e.point);return xe.Utils.pointInPolyline(n,e.points)});l(this,"hitTestLineSegment",(e,t,n)=>{let{points:r,point:i}=e,d=Qt.Vec.sub(t,i),a=Qt.Vec.sub(n,i),c=this.getBounds(e);if(c.width<8&&c.height<8)return Qt.Vec.distanceToLineSegment(t,n,xe.Utils.getBoundsCenter(c))<5;if((0,hn.intersectLineSegmentBounds)(d,a,c)){for(let p=1;p<r.length;p++)if((0,hn.intersectLineSegmentLineSegment)(r[p-1],r[p],d,a).didIntersect)return!0}return!1});l(this,"hitTestBounds",(e,t)=>{if(!e.rotation){let i=this.getBounds(e);return xe.Utils.boundsContain(t,i)||(xe.Utils.boundsContain(i,t)||(0,hn.intersectBoundsBounds)(i,t).length>0)&&(0,hn.intersectBoundsPolyline)(xe.Utils.translateBounds(t,Qt.Vec.neg(e.point)),e.points).length>0}let n=this.getRotatedBounds(e),r=xe.Utils.getFromCache(this.rotatedCache,e,()=>{let i=xe.Utils.getBoundsCenter(xe.Utils.getBoundsFromPoints(e.points));return e.points.map(d=>Qt.Vec.rotWith(d,i,e.rotation||0))});return xe.Utils.boundsContain(t,n)||(0,hn.intersectBoundsPolyline)(xe.Utils.translateBounds(t,Qt.Vec.neg(e.point)),r).length>0})}};var Mt=require("@tldraw/core"),Ln=require("@tldraw/intersect"),Ze=require("@tldraw/vec"),Sc=R(require("react"));var Xi=require("@tldraw/core"),pc=R(require("react"));var Ao=require("react/jsx-runtime"),uc=pc.memo(function({radius:o,style:e,isSelected:t,isDarkMode:n}){let{stroke:r,strokeWidth:i,fill:d}=K(e,n),a=1+i*1.618,c=Math.max(0,o[0]-a/2),p=Math.max(0,o[1]-a/2),u=Xi.Utils.perimeterOfEllipse(c,p),{strokeDasharray:h,strokeDashoffset:m}=Xi.Utils.getPerfectDashProps(u<64?u*2:u,i*1.618,e.dash,4);return(0,Ao.jsxs)(Ao.Fragment,{children:[(0,Ao.jsx)("ellipse",{className:e.isFilled||t?"tl-fill-hitarea":"tl-stroke-hitarea",cx:o[0],cy:o[1],rx:o[0],ry:o[1]}),(0,Ao.jsx)("ellipse",{cx:o[0],cy:o[1],rx:c,ry:p,fill:d,stroke:r,strokeWidth:a,strokeDasharray:h,strokeDashoffset:m,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"})]})});var gc=R(require("react"));var eo=require("@tldraw/core"),ks=require("perfect-freehand");function hc(s,o,e){let{strokeWidth:t}=K(e),n=eo.Utils.rng(s),r=o[0]+n()*t*2,i=o[1]+n()*t*2,d=eo.Utils.perimeterOfEllipse(r,i),a=[],c=Math.PI+Math.PI*n(),p=Math.abs(n()),u=Math.max(16,d/10);for(let h=0;h<u;h++){let m=Zn.easeInOutSine(h/(u+1)),g=c*2+Math.PI*(2+p)*m,f=Math.cos(g),y=Math.sin(g);a.push([r*f+o[0],i*y+o[1],m+.5+n()/2])}return(0,ks.getStrokePoints)(a,{size:1+t*2,thinning:.618,end:{taper:d/8},start:{taper:d/12},streamline:0,simulatePressure:!0})}function mc(s,o,e){let{strokeWidth:t}=K(e),n=eo.Utils.rng(s),r=o[0]+n()*t*2,i=o[1]+n()*t*2,d=eo.Utils.perimeterOfEllipse(r,i);return eo.Utils.getSvgPathFromStroke((0,ks.getStrokeOutlinePoints)(hc(s,o,e),{size:2+t*2,thinning:.618,end:{taper:d/8},start:{taper:d/12},streamline:0,simulatePressure:!0}))}function xs(s,o,e){return eo.Utils.getSvgPathFromStrokePoints(hc(s,o,e))}var to=require("react/jsx-runtime"),fc=gc.memo(function({id:o,radius:e,style:t,isSelected:n,isDarkMode:r}){let{stroke:i,strokeWidth:d,fill:a}=K(t,r),c=mc(o,e,t);return(0,to.jsxs)(to.Fragment,{children:[(0,to.jsx)("ellipse",{className:t.isFilled||n?"tl-fill-hitarea":"tl-stroke-hitarea",cx:e[0],cy:e[1],rx:e[0],ry:e[1]}),t.isFilled&&(0,to.jsx)("path",{d:xs(o,e,t),stroke:"none",fill:a,pointerEvents:"none"}),(0,to.jsx)("path",{d:c,fill:i,stroke:i,strokeWidth:d,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"})]})});var An=require("react/jsx-runtime"),vs=class extends Y{constructor(){super(...arguments);l(this,"type","ellipse");l(this,"canBind",!0);l(this,"canClone",!0);l(this,"canEdit",!0);l(this,"getShape",e=>Mt.Utils.deepMerge({id:"id",type:"ellipse",name:"Ellipse",parentId:"page",childIndex:1,point:[0,0],radius:[1,1],rotation:0,style:Oe,label:"",labelPoint:[.5,.5]},e));l(this,"Component",Y.Component(({shape:e,isGhost:t,isSelected:n,isBinding:r,isEditing:i,meta:d,bounds:a,events:c,onShapeChange:p,onShapeBlur:u},h)=>{let{id:m,radius:g,style:f,label:y="",labelPoint:T=Io}=e,b=nt(e.style),w=K(f,d.isDarkMode),v=w.strokeWidth,P=1+v*1.618,C=Math.max(0,g[0]-P/2),B=Math.max(0,g[1]-P/2),I=f.dash==="draw"?fc:uc,D=Sc.useCallback(A=>p==null?void 0:p({id:m,label:A}),[p]);return(0,An.jsxs)(Gm,k(S({ref:h},c),{children:[(0,An.jsx)(Pn,{isEditing:i,onChange:D,onBlur:u,font:b,text:y,color:w.stroke,offsetX:(T[0]-.5)*a.width,offsetY:(T[1]-.5)*a.height}),(0,An.jsxs)(Mt.SVGContainer,{id:e.id+"_svg",opacity:t?.3:1,children:[r&&(0,An.jsx)("ellipse",{className:"tl-binding-indicator",cx:g[0],cy:g[1],rx:C,ry:B,strokeWidth:this.bindingDistance}),(0,An.jsx)(I,{id:m,radius:g,style:f,isSelected:n,isDarkMode:d.isDarkMode})]})]}))}));l(this,"Indicator",Y.Indicator(({shape:e})=>{let{id:t,radius:n,style:r}=e,d=K(r).strokeWidth,a=1+d*1.618,c=Math.max(0,n[0]-a/2),p=Math.max(0,n[1]-a/2);return r.dash==="draw"?(0,An.jsx)("path",{d:xs(t,n,r)}):(0,An.jsx)("ellipse",{cx:n[0],cy:n[1],rx:c,ry:p})}));l(this,"hitTestPoint",(e,t)=>Mt.Utils.pointInBounds(t,this.getRotatedBounds(e))&&Mt.Utils.pointInEllipse(t,this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0));l(this,"hitTestLineSegment",(e,t,n)=>(0,Ln.intersectLineSegmentEllipse)(t,n,this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0).didIntersect);l(this,"getBounds",e=>Mt.Utils.getFromCache(this.boundsCache,e,()=>Mt.Utils.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],0)));l(this,"getRotatedBounds",e=>Mt.Utils.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],e.rotation));l(this,"hitTestBounds",(e,t)=>{let n=this.getBounds(e);return Mt.Utils.boundsContained(n,t)||(0,Ln.intersectEllipseBounds)(this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0,t).length>0});l(this,"shouldRender",(e,t)=>t.radius!==e.radius||t.style!==e.style||t.label!==e.label);l(this,"getCenter",e=>Ze.Vec.add(e.point,e.radius));l(this,"getBindingPoint",(e,t,n,r,i,d)=>{{let a=this.getExpandedBounds(e),c=this.getCenter(e),p,u;if(!Mt.Utils.pointInEllipse(n,c,e.radius[0]+this.bindingDistance,e.radius[1]+this.bindingDistance))return;if(d)Ze.Vec.dist(n,this.getCenter(e))<12?p=[.5,.5]:p=Ze.Vec.divV(Ze.Vec.sub(n,[a.minX,a.minY]),[a.width,a.height]),u=0;else{let h=(0,Ln.intersectRayEllipse)(r,i,c,e.radius[0],e.radius[1],e.rotation||0).points.sort((g,f)=>Ze.Vec.dist(g,r)-Ze.Vec.dist(f,r))[0];if(h||(h=(0,Ln.intersectLineSegmentEllipse)(n,c,c,e.radius[0],e.radius[1],e.rotation||0).points.sort((g,f)=>Ze.Vec.dist(g,n)-Ze.Vec.dist(f,n))[0]),!h)return;let m=Ze.Vec.med(n,h);if(Ze.Vec.distanceToLineSegment(n,m,this.getCenter(e))<12?p=[.5,.5]:p=Ze.Vec.divV(Ze.Vec.sub(m,[a.minX,a.minY]),[a.width,a.height]),Mt.Utils.pointInEllipse(n,c,e.radius[0],e.radius[1],e.rotation||0))u=this.bindingDistance/2;else{let g=(0,Ln.intersectLineSegmentEllipse)(n,c,c,e.radius[0],e.radius[1],e.rotation||0).points[0];if(!g)return;u=Math.max(this.bindingDistance/2,Ze.Vec.dist(n,g))}}return{point:p,distance:u}}});l(this,"transform",(e,t,{scaleX:n,scaleY:r,initialShape:i})=>{let{rotation:d=0}=i;return{point:[t.minX,t.minY],radius:[t.width/2,t.height/2],rotation:n<0&&r>=0||r<0&&n>=0?-(d||0):d||0}});l(this,"transformSingle",(e,t)=>({point:Ze.Vec.toFixed([t.minX,t.minY]),radius:Ze.Vec.div([t.width,t.height],2)}))}},Gm=M("div",{width:"100%",height:"100%"});var Cs=require("@tldraw/core");var mn=require("react/jsx-runtime"),Is=class extends Y{constructor(){super(...arguments);l(this,"type","group");l(this,"canBind",!0);l(this,"getShape",e=>Cs.Utils.deepMerge({id:"id",type:"group",name:"Group",parentId:"page",childIndex:1,point:[0,0],size:[100,100],rotation:0,children:[],style:Oe},e));l(this,"Component",Y.Component(({shape:e,isBinding:t,isGhost:n,isHovered:r,isSelected:i,events:d},a)=>{let{id:c,size:p}=e,u=2,h=Math.max(0,p[0]-u/2),m=Math.max(0,p[1]-u/2),f=[[[u/2,u/2],[h,u/2],h-u/2],[[h,u/2],[h,m],m-u/2],[[h,m],[u/2,m],h-u/2],[[u/2,m],[u/2,u/2],m-u/2]].map(([y,T],b)=>(0,mn.jsx)("line",{x1:y[0],y1:y[1],x2:T[0],y2:T[1]},c+"_"+b));return(0,mn.jsxs)(Cs.SVGContainer,k(S({ref:a},d),{children:[t&&(0,mn.jsx)("rect",{className:"tl-binding-indicator",strokeWidth:this.bindingDistance}),(0,mn.jsxs)("g",{opacity:n?.3:1,children:[(0,mn.jsx)("rect",{x:0,y:0,width:p[0],height:p[1],fill:"transparent",pointerEvents:"all"}),(0,mn.jsx)(bc,{stroke:"black",opacity:r||i?1:0,strokeLinecap:"round",pointerEvents:"stroke",children:f})]})]}))}));l(this,"Indicator",Y.Indicator(({shape:e})=>{let{id:t,size:n}=e,r=2,i=Math.max(0,n[0]-r/2),d=Math.max(0,n[1]-r/2),c=[[[r/2,r/2],[i,r/2],i-r/2],[[i,r/2],[i,d],d-r/2],[[i,d],[r/2,d],i-r/2],[[r/2,d],[r/2,r/2],d-r/2]].map(([p,u],h)=>(0,mn.jsx)("line",{x1:p[0],y1:p[1],x2:u[0],y2:u[1]},t+"_"+h));return(0,mn.jsx)(bc,{strokeLinecap:"round",pointerEvents:"stroke",children:c})}));l(this,"getBounds",e=>Dt(e,this.boundsCache));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style)}},bc=M("g",{strokeWidth:"calc(1.5px * var(--tl-scale))",strokeDasharray:"calc(1px * var(--tl-scale)), calc(3px * var(--tl-scale))"});var qi=require("@stitches/react"),Ps=require("@tldraw/core"),kr=R(require("react"));var Lo=require("react/jsx-runtime"),Ds=class extends Y{constructor(){super(...arguments);l(this,"type","image");l(this,"canBind",!0);l(this,"canClone",!0);l(this,"isAspectRatioLocked",!0);l(this,"showCloneHandles",!1);l(this,"getShape",e=>Ps.Utils.deepMerge({id:"image",type:"image",name:"Image",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:k(S({},Oe),{isFilled:!0}),assetId:"assetId"},e));l(this,"Component",Y.Component(({shape:e,asset:t={src:""},isBinding:n,isGhost:r,meta:i,events:d,onShapeChange:a},c)=>{let{size:p,style:u}=e,{bindingDistance:h}=this,m=kr.useRef(null),g=kr.useRef(null);return kr.useLayoutEffect(()=>{let f=g.current;if(!f)return;let[y,T]=p;f.style.width=`${y}px`,f.style.height=`${T}px`},[p]),(0,Lo.jsxs)(Ps.HTMLContainer,k(S({ref:c},d),{children:[n&&(0,Lo.jsx)("div",{className:"tl-binding-indicator",style:{position:"absolute",top:`calc(${-h}px * var(--tl-zoom))`,left:`calc(${-h}px * var(--tl-zoom))`,width:`calc(100% + ${h*2}px * var(--tl-zoom))`,height:`calc(100% + ${h*2}px * var(--tl-zoom))`,backgroundColor:"var(--tl-selectFill)"}}),(0,Lo.jsx)(Vm,{ref:g,isDarkMode:i.isDarkMode,isFilled:u.isFilled,isGhost:r,children:(0,Lo.jsx)($m,{id:e.id+"_image",ref:m,src:t.src,alt:"tl_image_asset",draggable:!1})})]}))}));l(this,"Indicator",Y.Indicator(({shape:e})=>{let{size:[t,n]}=e;return(0,Lo.jsx)("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,t),height:Math.max(1,n)})}));l(this,"getBounds",e=>Dt(e,this.boundsCache));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style);l(this,"transform",Mn);l(this,"transformSingle",En);l(this,"getSvgElement",e=>{let t=this.getBounds(e),n=document.createElementNS("http://www.w3.org/2000/svg","image");return n.setAttribute("width",`${t.width}`),n.setAttribute("height",`${t.height}`),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n})}},Vm=(0,qi.styled)("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"}},{isFilled:!0,isDarkMode:!1,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}]}),$m=(0,qi.styled)("img",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2});var Rs=require("@tldraw/core"),Dc=R(require("react"));var Nm=require("react/jsx-runtime");function Tc({strokeWidth:s,size:o}){return(0,Nm.jsx)("rect",{className:"tl-binding-indicator",x:s,y:s,width:Math.max(0,o[0]-s/2),height:Math.max(0,o[1]-s/2),strokeWidth:16*2})}var yc=require("@tldraw/core"),wc=R(require("react"));var Hn=require("react/jsx-runtime"),kc=wc.memo(function({id:o,style:e,size:t,isSelected:n,isDarkMode:r}){let{stroke:i,strokeWidth:d,fill:a}=K(e,r),c=1+d*1.618,p=Math.max(0,t[0]-c/2),u=Math.max(0,t[1]-c/2),m=[[[c/2,c/2],[p,c/2],p-c/2],[[p,c/2],[p,u],u-c/2],[[p,u],[c/2,u],p-c/2],[[c/2,u],[c/2,c/2],u-c/2]].map(([g,f,y],T)=>{let{strokeDasharray:b,strokeDashoffset:w}=yc.Utils.getPerfectDashProps(y,d*1.618,e.dash);return(0,Hn.jsx)("line",{x1:g[0],y1:g[1],x2:f[0],y2:f[1],strokeDasharray:b,strokeDashoffset:w},o+"_"+T)});return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)("rect",{className:n||e.isFilled?"tl-fill-hitarea":"tl-stroke-hitarea",x:c/2,y:c/2,width:p,height:u,strokeWidth:16}),e.isFilled&&(0,Hn.jsx)("rect",{x:c/2,y:c/2,width:p,height:u,fill:a,pointerEvents:"none"}),(0,Hn.jsx)("g",{pointerEvents:"none",stroke:i,strokeWidth:c,strokeLinecap:"round",children:m})]})});var Ic=R(require("react"));var xr=require("@tldraw/core"),Ue=R(require("@tldraw/vec")),Ms=R(require("perfect-freehand"));function Wm(s,o,e){let t=K(o),n=xr.Utils.rng(s),r=t.strokeWidth,i=Math.max(0,e[0]),d=Math.max(0,e[1]),a=Array.from(Array(4)).map(()=>[n()*r*.75,n()*r*.75]),c=Ue.default.add([r/2,r/2],a[0]),p=Ue.default.add([i-r/2,r/2],a[1]),u=Ue.default.add([i-r/2,d-r/2],a[2]),h=Ue.default.add([r/2,d-r/2],a[3]),m=Math.round(Math.abs(n()*2*4)),g=Math.min(i/4,r*2),f=Math.min(d/4,r*2),y=Math.max(8,Math.floor(i/16)),T=Math.max(8,Math.floor(d/16)),b=xr.Utils.rotateArray([Ue.default.pointsBetween(Ue.default.add(c,[g,0]),Ue.default.sub(p,[g,0]),y),Ue.default.pointsBetween(Ue.default.add(p,[0,f]),Ue.default.sub(u,[0,f]),T),Ue.default.pointsBetween(Ue.default.sub(u,[g,0]),Ue.default.add(h,[g,0]),y),Ue.default.pointsBetween(Ue.default.sub(h,[0,f]),Ue.default.add(c,[0,f]),T)],m);return{points:[...b.flat(),...b[0]].slice(5,Math.floor((m%2===0?y:T)/-2)+3)}}function xc(s,o,e){let{points:t}=Wm(s,o,e),{strokeWidth:n}=K(o);return{points:t,options:{size:n,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}function vc(s,o,e){let{points:t,options:n}=xc(s,o,e),r=(0,Ms.default)(t,n);return xr.Utils.getSvgPathFromStroke(r)}function Es(s,o,e){let{points:t,options:n}=xc(s,o,e);return xr.Utils.getSvgPathFromStrokePoints((0,Ms.getStrokePoints)(t,n))}var no=require("react/jsx-runtime"),Cc=Ic.memo(function({id:o,style:e,size:t,isSelected:n,isDarkMode:r}){let{isFilled:i}=e,{stroke:d,strokeWidth:a,fill:c}=K(e,r),p=vc(o,e,t),u=Es(o,e,t);return(0,no.jsxs)(no.Fragment,{children:[(0,no.jsx)("path",{className:e.isFilled||n?"tl-fill-hitarea":"tl-stroke-hitarea",d:u}),i&&(0,no.jsx)("path",{d:u,fill:c,pointerEvents:"none"}),(0,no.jsx)("path",{d:p,fill:d,stroke:d,strokeWidth:a,pointerEvents:"none"})]})});var zn=require("react/jsx-runtime"),Bs=class extends Y{constructor(){super(...arguments);l(this,"type","rectangle");l(this,"canBind",!0);l(this,"canClone",!0);l(this,"canEdit",!0);l(this,"getShape",e=>Rs.Utils.deepMerge({id:"id",type:"rectangle",name:"Rectangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:Oe,label:"",labelPoint:[.5,.5]},e));l(this,"Component",Y.Component(({shape:e,isEditing:t,isBinding:n,isSelected:r,isGhost:i,meta:d,bounds:a,events:c,onShapeBlur:p,onShapeChange:u},h)=>{let{id:m,size:g,style:f,label:y="",labelPoint:T=Io}=e,b=nt(f),w=K(f,d.isDarkMode),v=f.dash==="draw"?Cc:kc,P=Dc.useCallback(C=>u==null?void 0:u({id:m,label:C}),[u]);return(0,zn.jsxs)(Km,k(S({ref:h},c),{children:[(0,zn.jsx)(Pn,{isEditing:t,onChange:P,onBlur:p,font:b,text:y,color:w.stroke,offsetX:(T[0]-.5)*a.width,offsetY:(T[1]-.5)*a.height}),(0,zn.jsxs)(Rs.SVGContainer,{id:e.id+"_svg",opacity:i?.3:1,children:[n&&(0,zn.jsx)(Tc,{strokeWidth:w.strokeWidth,size:g}),(0,zn.jsx)(v,{id:m,style:f,size:g,isSelected:r,isDarkMode:d.isDarkMode})]})]}))}));l(this,"Indicator",Y.Indicator(({shape:e})=>{let{id:t,style:n,size:r}=e,d=K(n,!1).strokeWidth;return n.dash==="draw"?(0,zn.jsx)("path",{d:Es(t,n,r)}):(0,zn.jsx)("rect",{x:d,y:d,rx:1,ry:1,width:Math.max(1,r[0]-d*2),height:Math.max(1,r[1]-d*2)})}));l(this,"getBounds",e=>Dt(e,this.boundsCache));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.label!==e.label);l(this,"transform",Mn);l(this,"transformSingle",En)}},Km=M("div",{width:"100%",height:"100%"});var Ls=require("@tldraw/core"),Pc=require("@tldraw/vec"),rt=R(require("react"));var oo=require("react/jsx-runtime"),As=class extends Y{constructor(){super(...arguments);l(this,"type","sticky");l(this,"canBind",!0);l(this,"canEdit",!0);l(this,"canClone",!0);l(this,"hideResizeHandles",!0);l(this,"showCloneHandles",!0);l(this,"getShape",e=>Ls.Utils.deepMerge({id:"id",type:"sticky",name:"Sticky",parentId:"page",childIndex:1,point:[0,0],size:[200,200],text:"",rotation:0,style:Po},e));l(this,"Component",Y.Component(({shape:e,meta:t,events:n,isGhost:r,isBinding:i,isEditing:d,onShapeBlur:a,onShapeChange:c},p)=>{let u=Wd(e.style),{color:h,fill:m}=Wi(e.style,t.isDarkMode),g=rt.useRef(null),f=rt.useRef(null),y=rt.useRef(null),T=rt.useRef(!1),b=rt.useCallback(D=>{D.stopPropagation()},[]),w=rt.useCallback(D=>{c==null||c({id:e.id,type:e.type,text:x.normalizeText(D)})},[e.id]),v=rt.useCallback(D=>{w(D.currentTarget.value)},[c,w]),P=rt.useCallback(D=>{if(D.key==="Escape"){D.preventDefault(),D.stopPropagation(),a==null||a();return}if(D.key==="Tab"&&e.text.length===0){D.preventDefault();return}if(!(D.key==="Meta"||D.metaKey))D.stopPropagation();else if(D.key==="z"&&D.metaKey){D.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),D.stopPropagation(),D.preventDefault();return}(D.metaKey||D.ctrlKey)&&D.key==="="&&D.preventDefault(),D.key==="Tab"&&(D.preventDefault(),D.shiftKey?Ee.unindent(D.currentTarget):Ee.indent(D.currentTarget),c==null||c(k(S({},e),{text:x.normalizeText(D.currentTarget.value)})))},[e,c]),C=rt.useCallback(D=>{D.currentTarget.setSelectionRange(0,0),a==null||a()},[]),B=rt.useCallback(D=>{!d||!T.current||D.currentTarget.select()},[d]);rt.useEffect(()=>{if(d){T.current=!0;let D=f.current;D.focus(),D.select()}},[d]),rt.useEffect(()=>{let D=y.current,{size:A}=e,{offsetHeight:O}=D,L=Ji-en*2,se=A[1]-en*2;if(O===se)return;if(O>L){c==null||c({id:e.id,size:[A[0],O+en*2]});return}if(O<L&&A[1]>Ji){c==null||c({id:e.id,size:[A[0],Ji]});return}let J=f.current;J==null||J.focus()},[e.text,e.size[1],e.style]);let I={font:u,color:h,textShadow:t.isDarkMode?"0.5px 0.5px 2px rgba(255, 255, 255,.25)":"0.5px 0.5px 2px rgba(255, 255, 255,.5)"};return(0,oo.jsx)(Ls.HTMLContainer,k(S({ref:p},n),{children:(0,oo.jsxs)(Um,{ref:g,isDarkMode:t.isDarkMode,isGhost:r,style:S({backgroundColor:m},I),children:[i&&(0,oo.jsx)("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),(0,oo.jsxs)(_m,{ref:y,isEditing:d,alignment:e.style.textAlign,children:[e.text,"\u200B"]}),d&&(0,oo.jsx)(Ym,{ref:f,onPointerDown:b,value:e.text,onChange:v,onKeyDown:P,onFocus:B,onBlur:C,tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,spellCheck:!0,alignment:e.style.textAlign,onContextMenu:$e,onCopy:$e,onPaste:$e,onCut:$e})]})}))}));l(this,"Indicator",Y.Indicator(({shape:e})=>{let{size:[t,n]}=e;return(0,oo.jsx)("rect",{x:0,y:0,rx:3,ry:3,width:Math.max(1,t),height:Math.max(1,n)})}));l(this,"getBounds",e=>Dt(e,this.boundsCache));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.text!==e.text);l(this,"transform",(e,t,{scaleX:n,scaleY:r,transformOrigin:i})=>({point:Pc.Vec.toFixed([t.minX+(t.width-e.size[0])*(n<0?1-i[0]:i[0]),t.minY+(t.height-e.size[1])*(r<0?1-i[1]:i[1])])}));l(this,"transformSingle",e=>e);l(this,"getSvgElement",(e,t)=>{var h,m;let n=this.getBounds(e),r=Wi(e.style,t),i=Ni(e.style.size)*((h=e.style.scale)!=null?h:1),d=qt(e.style.font).slice(1,-1),a=(m=e.style.textAlign)!=null?m:"start",c=Dn(e.text,i,d,a,n.width-en*2,!0);c.setAttribute("fill",r.color),c.setAttribute("transform",`translate(${en}, ${en})`);let p=document.createElementNS("http://www.w3.org/2000/svg","g"),u=document.createElementNS("http://www.w3.org/2000/svg","rect");return u.setAttribute("width",n.width+""),u.setAttribute("height",n.height+""),u.setAttribute("fill",r.fill),u.setAttribute("rx","3"),u.setAttribute("ry","3"),p.appendChild(u),p.appendChild(c),p})}},en=16,Ji=200,Um=M("div",{pointerEvents:"all",position:"relative",backgroundColor:"rgba(255, 220, 100)",fontFamily:"sans-serif",height:"100%",width:"100%",padding:en+"px",borderRadius:"3px",perspective:"800px",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isDarkMode:{true:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"},false:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}}}),Mc={whiteSpace:"pre-wrap",overflowWrap:"break-word",letterSpacing:Ct},_m=M("div",S({position:"absolute",top:en,left:en,width:`calc(100% - ${en*2}px)`,height:"fit-content",font:"inherit",pointerEvents:"none",userSelect:"none",variants:{isEditing:{true:{opacity:1},false:{opacity:1}},alignment:{["start"]:{textAlign:"left"},["middle"]:{textAlign:"center"},["end"]:{textAlign:"right"},["justify"]:{textAlign:"justify"}}}},Mc)),Ym=M("textarea",k(S({width:"100%",height:"100%",border:"none",overflow:"hidden",background:"none",outline:"none",textAlign:"left",font:"inherit",padding:0,color:"transparent",verticalAlign:"top",resize:"none",caretColor:"black"},Mc),{variants:{alignment:{["start"]:{textAlign:"left"},["middle"]:{textAlign:"center"},["end"]:{textAlign:"right"},["justify"]:{textAlign:"justify"}}},"&:focus":{outline:"none",border:"none"}}));var Ho=require("@tldraw/core"),gn=require("@tldraw/vec"),st=R(require("react"));var ro=require("react/jsx-runtime"),Hs=class extends Y{constructor(){super(...arguments);l(this,"type","text");l(this,"isAspectRatioLocked",!0);l(this,"canEdit",!0);l(this,"canBind",!0);l(this,"canClone",!0);l(this,"bindingDistance",16/2);l(this,"getShape",e=>Ho.Utils.deepMerge({id:"id",type:"text",name:"Text",parentId:"page",childIndex:1,point:[0,0],rotation:0,text:" ",style:Po},e));l(this,"texts",new Map);l(this,"Component",Y.Component(({shape:e,isBinding:t,isGhost:n,isEditing:r,onShapeBlur:i,onShapeChange:d,meta:a,events:c},p)=>{let{text:u,style:h}=e,m=K(h,a.isDarkMode),g=nt(e.style),f=st.useRef(null),y=st.useRef(!1),T=st.useRef(u);st.useLayoutEffect(()=>{if(u!==T.current){let I=[0,0];this.texts.set(e.id,u);let D=this.getBounds(e),A=this.getBounds(e);switch(e.style.textAlign){case"start":break;case"middle":{I=gn.Vec.div([A.width-D.width,0],2);break}case"end":{I=[A.width-D.width,0];break}}T.current=u,d==null||d(k(S({},e),{id:e.id,point:gn.Vec.sub(e.point,I),text:u}))}},[u]);let b=st.useCallback(I=>{let D=[0,0],A=x.normalizeText(I.currentTarget.value),O=this.getBounds(e);this.texts.set(e.id,A);let L=this.getBounds(k(S({},e),{text:A}));switch(e.style.textAlign){case"start":break;case"middle":{D=gn.Vec.div([L.width-O.width,0],2);break}case"end":{D=[L.width-O.width,0];break}}T.current=A,d==null||d(k(S({},e),{id:e.id,point:gn.Vec.sub(e.point,D),text:A}))},[e.id,e.point]),w=st.useCallback(I=>{if(I.key==="Escape"){I.preventDefault(),I.stopPropagation(),i==null||i();return}if(I.key==="Tab"&&e.text.length===0){I.preventDefault();return}if(I.key==="Enter"&&(I.metaKey||I.ctrlKey)){I.preventDefault(),I.stopPropagation(),f.current.blur();return}if(!(I.key==="Meta"||I.metaKey))I.stopPropagation();else if(I.key==="z"&&I.metaKey){I.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),I.stopPropagation(),I.preventDefault();return}(I.metaKey||I.ctrlKey)&&I.key==="="&&I.preventDefault(),I.key==="Tab"&&(I.preventDefault(),I.shiftKey?Ee.unindent(I.currentTarget):Ee.indent(I.currentTarget),d==null||d(k(S({},e),{text:x.normalizeText(I.currentTarget.value)})))},[e,d]),v=st.useCallback(I=>{I.currentTarget.setSelectionRange(0,0),i==null||i()},[]),P=st.useCallback(I=>{!r||!y.current||document.activeElement===I.currentTarget&&I.currentTarget.select()},[r]),C=st.useCallback(I=>{r&&I.stopPropagation()},[r]),B=st.useRef(r);return st.useEffect(()=>{r?(B.current=!0,this.texts.set(e.id,u),requestAnimationFrame(()=>{y.current=!0;let I=f.current;I&&(I.focus(),I.select())})):B.current&&(B.current=!1,i==null||i())},[r]),(0,ro.jsx)(Ho.HTMLContainer,k(S({ref:p},c),{children:(0,ro.jsx)(Xm,{isGhost:n,isEditing:r,onPointerDown:C,children:(0,ro.jsxs)(qm,{style:{font:g,color:m.stroke,textAlign:Od(h.textAlign)},children:[t&&(0,ro.jsx)("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),r?(0,ro.jsx)(Jm,{ref:f,style:{font:g,color:m.stroke},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:u,color:m.stroke,onFocus:P,onChange:b,onKeyDown:w,onBlur:v,onPointerDown:C,onContextMenu:$e,onCopy:$e,onPaste:$e,onCut:$e}):u,"\u200B"]})})}))}));l(this,"Indicator",Y.Indicator(({shape:e})=>{let{width:t,height:n}=this.getBounds(e);return(0,ro.jsx)("rect",{x:0,y:0,width:t,height:n})}));l(this,"getBounds",e=>{let t=Ho.Utils.getFromCache(this.boundsCache,e,()=>{var i;if(!On)return{minX:0,minY:0,maxX:10,maxY:10,width:10,height:10};On.parentNode||document.body.appendChild(On),On.style.font=nt(e.style),On.textContent=(i=this.texts.get(e.id))!=null?i:e.text;let n=On.offsetWidth||1,r=On.offsetHeight||1;return{minX:0,maxX:n,minY:0,maxY:r,width:n,height:r}});return Ho.Utils.translateBounds(t,e.point)});l(this,"shouldRender",(e,t)=>t.text!==e.text||t.style.scale!==e.style.scale||t.style!==e.style);l(this,"transform",(e,t,{initialShape:n,scaleX:r,scaleY:i})=>{let{rotation:d=0,style:{scale:a=1}}=n,c=a*Math.abs(Math.min(r,i));return{point:[t.minX,t.minY],rotation:r<0&&i>=0||i<0&&r>=0?-(d||0):d,style:k(S({},n.style),{scale:c})}});l(this,"transformSingle",(e,t,{initialShape:n,scaleX:r,scaleY:i})=>{let{style:{scale:d=1}}=n;return{point:gn.Vec.toFixed([t.minX,t.minY]),style:k(S({},n.style),{scale:d*Math.max(Math.abs(i),Math.abs(r))})}});l(this,"onDoubleClickBoundsHandle",e=>{let t=this.getCenter(e),n=this.getCenter(k(S({},e),{style:k(S({},e.style),{scale:1})}));return{style:k(S({},e.style),{scale:1}),point:gn.Vec.toFixed(gn.Vec.add(e.point,gn.Vec.sub(t,n)))}});l(this,"getSvgElement",(e,t)=>{var p,u;let n=this.getBounds(e),r=K(e.style,t),i=qn(e.style.size,e.style.font)*((p=e.style.scale)!=null?p:1),d=qt(e.style.font).slice(1,-1),a=(u=e.style.textAlign)!=null?u:"middle",c=Dn(e.text,i,d,a,n.width,!1);return c.setAttribute("fill",r.stroke),c})}},On;function Zm(){var o;(o=document.getElementById("__textMeasure"))==null||o.remove();let s=document.createElement("pre");return s.id="__textMeasure",Object.assign(s.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:Ct,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),s.tabIndex=-1,document.body.appendChild(s),s}typeof window!="undefined"&&(On=Zm());var Xm=M("div",{width:"100%",height:"100%",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isEditing:{false:{pointerEvents:"all",userSelect:"all"},true:{pointerEvents:"none",userSelect:"none"}}}}),Ec={whiteSpace:"pre-wrap",overflowWrap:"break-word"},qm=M("div",S({position:"absolute",width:"100%",height:"100%",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,letterSpacing:Ct,outline:0,fontWeight:"500",backfaceVisibility:"hidden",userSelect:"none",pointerEvents:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",isEditing:{false:{},true:{pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}},Ec)),Jm=M("textarea",k(S({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",letterSpacing:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"},Ec),{"&:focus":{outline:"none",border:"none"}}));var Ot=require("@tldraw/core"),zo=require("@tldraw/intersect"),Xe=R(require("@tldraw/vec")),Fs=R(require("react"));var ea=require("@tldraw/core"),Lc=R(require("@tldraw/vec")),Hc=R(require("react"));var vr=require("@tldraw/core"),Fn=R(require("@tldraw/vec")),zs=R(require("perfect-freehand"));function zt(s,o=0,e=0){let[t,n]=s,r=[[t/2,0],[t,n],[0,n]];return o&&(r=$d(r,o)),e&&(r=r.map(i=>Fn.default.rotWith(i,[t/2,n/2],e))),r}function Qi(s){let[o,e]=s,t=[[o/2,0],[o,e],[0,e]];return[(t[0][0]+t[1][0]+t[2][0])/3,(t[0][1]+t[1][1]+t[2][1])/3]}function Qm(s,o,e){let[t,n]=o,r=vr.Utils.rng(s),i=Array.from(Array(3)).map(()=>[r()*e*.75,r()*e*.75]),d=[Fn.default.add([t/2,0],i[0]),Fn.default.add([t,n],i[1]),Fn.default.add([0,n],i[2])],a=Math.round(Math.abs(r()*2*3)),c=vr.Utils.rotateArray([Fn.default.pointsBetween(d[0],d[1],32),Fn.default.pointsBetween(d[1],d[2],32),Fn.default.pointsBetween(d[2],d[0],32)],a);return{points:[...c.flat(),...c[0]]}}function Bc(s,o,e){let{strokeWidth:t}=K(e),{points:n}=Qm(s,o,t);return{points:n,options:{size:t,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}function Rc(s,o,e){let{points:t,options:n}=Bc(s,o,e),r=(0,zs.default)(t,n);return vr.Utils.getSvgPathFromStroke(r)}function Ac(s,o,e){let{points:t,options:n}=Bc(s,o,e);return vr.Utils.getSvgPathFromStrokePoints((0,zs.getStrokePoints)(t,n))}var jn=require("react/jsx-runtime"),zc=Hc.memo(function({id:o,size:e,style:t,isSelected:n,isDarkMode:r}){let{stroke:i,strokeWidth:d,fill:a}=K(t,r),c=1+d*1.618,p=zt(e),h=ea.Utils.pointsToLineSegments(p,!0).map(([g,f],y)=>{let{strokeDasharray:T,strokeDashoffset:b}=ea.Utils.getPerfectDashProps(Lc.default.dist(g,f),d*1.618,t.dash);return(0,jn.jsx)("line",{x1:g[0],y1:g[1],x2:f[0],y2:f[1],stroke:i,strokeWidth:c,strokeLinecap:"round",strokeDasharray:T,strokeDashoffset:b},o+"_"+y)}),m=p.join();return(0,jn.jsxs)(jn.Fragment,{children:[(0,jn.jsx)("polygon",{className:t.isFilled||n?"tl-fill-hitarea":"tl-stroke-hitarea",points:m}),t.isFilled&&(0,jn.jsx)("polygon",{fill:a,points:m,pointerEvents:"none"}),(0,jn.jsx)("g",{pointerEvents:"stroke",children:h})]})});var Oc=R(require("react"));var so=require("react/jsx-runtime"),Fc=Oc.memo(function({id:o,size:e,style:t,isSelected:n,isDarkMode:r}){let{stroke:i,strokeWidth:d,fill:a}=K(t,r),c=Rc(o,e,t),p=Ac(o,e,t);return(0,so.jsxs)(so.Fragment,{children:[(0,so.jsx)("path",{className:t.isFilled||n?"tl-fill-hitarea":"tl-stroke-hitarea",d:p}),t.isFilled&&(0,so.jsx)("path",{d:p,fill:a,pointerEvents:"none"}),(0,so.jsx)("path",{d:c,fill:i,stroke:i,strokeWidth:d,pointerEvents:"none"})]})});var eg=require("react/jsx-runtime");function jc({size:s}){let o=zt(s).join();return(0,eg.jsx)("polygon",{className:"tl-binding-indicator",points:o,strokeWidth:16*2})}var io=require("react/jsx-runtime"),Os=class extends Y{constructor(){super(...arguments);l(this,"type","triangle");l(this,"canBind",!0);l(this,"canClone",!0);l(this,"canEdit",!0);l(this,"getShape",e=>Ot.Utils.deepMerge({id:"id",type:"triangle",name:"Triangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:Oe,label:"",labelPoint:[.5,.5]},e));l(this,"Component",Y.Component(({shape:e,bounds:t,isBinding:n,isEditing:r,isSelected:i,isGhost:d,meta:a,events:c,onShapeChange:p,onShapeBlur:u},h)=>{let{id:m,label:g="",size:f,style:y,labelPoint:T=Io}=e,b=nt(y),w=K(y,a.isDarkMode),v=y.dash==="draw"?Fc:zc,P=Fs.useCallback(B=>p==null?void 0:p({id:m,label:B}),[p]),C=Fs.useMemo(()=>{let B=Xe.default.div(f,2);return(Qi(f)[1]-B[1])*.72},[f]);return(0,io.jsxs)(tg,k(S({ref:h},c),{children:[(0,io.jsx)(Pn,{font:b,text:g,color:w.stroke,offsetX:(T[0]-.5)*t.width,offsetY:C+(T[1]-.5)*t.height,isEditing:r,onChange:P,onBlur:u}),(0,io.jsxs)(Ot.SVGContainer,{id:e.id+"_svg",opacity:d?.3:1,children:[n&&(0,io.jsx)(jc,{size:f}),(0,io.jsx)(v,{id:m,style:y,size:f,isSelected:i,isDarkMode:a.isDarkMode})]})]}))}));l(this,"Indicator",Y.Indicator(({shape:e})=>{let{size:t}=e;return(0,io.jsx)("polygon",{points:zt(t).join()})}));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.label!==e.label);l(this,"getBounds",e=>Dt(e,this.boundsCache));l(this,"getExpandedBounds",e=>Ot.Utils.getBoundsFromPoints(zt(e.size,this.bindingDistance).map(t=>Xe.default.add(t,e.point))));l(this,"hitTestLineSegment",(e,t,n)=>(0,zo.intersectLineSegmentPolyline)(t,n,this.getPoints(e)).didIntersect);l(this,"hitTestBounds",(e,t)=>Ot.Utils.boundsContained(this.getBounds(e),t)||(0,zo.intersectBoundsPolygon)(t,this.getPoints(e)).length>0);l(this,"getBindingPoint",(e,t,n,r,i,d)=>{let a=this.getExpandedBounds(e);if(!Ot.Utils.pointInBounds(n,a))return;let c=zt(e.size).map(w=>Xe.default.add(w,e.point)),p=zt(e.size,this.bindingDistance).map(w=>Xe.default.add(w,e.point)),u=Ot.Utils.pointsToLineSegments(c,!0).map(([w,v])=>Xe.default.distanceToLineSegment(w,v,n)).sort((w,v)=>w-v)[0];if(!(Ot.Utils.pointInPolygon(n,p)||u<this.bindingDistance))return;let h=Ot.Utils.pointsToLineSegments(p.concat([p[0]])).map(w=>(0,zo.intersectRayLineSegment)(r,i,w[0],w[1])).filter(w=>w.didIntersect).flatMap(w=>w.points);if(!h.length)return;let m=Xe.default.add(Qi(e.size),e.point),g=h.sort((w,v)=>Xe.default.dist(v,r)-Xe.default.dist(w,r))[0],f=Xe.default.med(n,g),y,T;d?(y=Xe.default.dist(n,m)<16/2?m:n,T=0):(Xe.default.distanceToLineSegment(n,f,m)<16/2?y=m:y=f,Ot.Utils.pointInPolygon(n,c)?T=this.bindingDistance:T=Math.max(this.bindingDistance,u));let b=Xe.default.divV(Xe.default.sub(y,[a.minX,a.minY]),[a.width,a.height]);return{point:Xe.default.clampV(b,0,1),distance:T}});l(this,"transform",Mn);l(this,"transformSingle",En)}getPoints(e){let{rotation:t=0,point:[n,r],size:[i,d]}=e;return[[n+i/2,r],[n,r+d],[n+i,r+d]].map(a=>Xe.default.rotWith(a,this.getCenter(e),t))}},tg=M("div",{width:"100%",height:"100%"});var ta=require("@stitches/react"),Gs=require("@tldraw/core"),Ft=R(require("react"));var ao=require("react/jsx-runtime"),js=class extends Y{constructor(){super(...arguments);l(this,"type","video");l(this,"canBind",!0);l(this,"canEdit",!0);l(this,"canClone",!0);l(this,"isAspectRatioLocked",!0);l(this,"showCloneHandles",!1);l(this,"isStateful",!0);l(this,"getShape",e=>Gs.Utils.deepMerge({id:"video",type:"video",name:"Video",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:Oe,assetId:"assetId",isPlaying:!0,currentTime:0},e));l(this,"Component",Y.Component(({shape:e,asset:t={src:""},isBinding:n,isEditing:r,isGhost:i,meta:d,events:a,onShapeChange:c},p)=>{let u=Ft.useRef(null),h=Ft.useRef(null),{currentTime:m=0,size:g,isPlaying:f,style:y}=e;Ft.useLayoutEffect(()=>{let v=h.current;if(!v)return;let[P,C]=g;v.style.width=`${P}px`,v.style.height=`${C}px`},[g]),Ft.useLayoutEffect(()=>{let v=u.current;!v||(f?v.play():v.pause())},[f]),Ft.useLayoutEffect(()=>{let v=u.current;!v||m!==v.currentTime&&(v.currentTime=m)},[m]);let T=Ft.useCallback(()=>{c==null||c({id:e.id,isPlaying:!0})},[]),b=Ft.useCallback(()=>{c==null||c({id:e.id,isPlaying:!1})},[]),w=Ft.useCallback(()=>{let v=u.current;!v||!r||c==null||c({id:e.id,currentTime:v.currentTime})},[r]);return(0,ao.jsxs)(Gs.HTMLContainer,k(S({ref:p},a),{children:[n&&(0,ao.jsx)("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),(0,ao.jsx)(ng,{ref:h,isDarkMode:d.isDarkMode,isGhost:i,isFilled:y.isFilled,children:(0,ao.jsx)(og,{ref:u,id:e.id+"_video",muted:!0,loop:!0,playsInline:!0,disableRemotePlayback:!0,disablePictureInPicture:!0,controls:r,autoPlay:f,onPlay:T,onPause:b,onTimeUpdate:w,children:(0,ao.jsx)("source",{src:t.src})})})]}))}));l(this,"Indicator",Y.Indicator(({shape:e})=>{let{size:[t,n]}=e;return(0,ao.jsx)("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,t),height:Math.max(1,n)})}));l(this,"getBounds",e=>Dt(e,this.boundsCache));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.isPlaying!==e.isPlaying);l(this,"getSvgElement",e=>{let t=this.getBounds(e),n=document.createElementNS("http://www.w3.org/2000/svg","image");return n.setAttribute("width",`${t.width}`),n.setAttribute("height",`${t.height}`),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n});l(this,"transform",Mn);l(this,"transformSingle",En)}},ng=(0,ta.styled)("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"}},{isFilled:!0,isDarkMode:!1,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}]}),og=(0,ta.styled)("video",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2});var Vs=new Bs,$s=new Os,Ns=new vs,Ws=new ws,Oo=new bs,Gc=new Hs,Vc=new Is,Ir=new As,$c=new Ds,Nc=new js,tn={["rectangle"]:Vs,["triangle"]:$s,["ellipse"]:Ns,["draw"]:Ws,["arrow"]:Oo,["text"]:Gc,["group"]:Vc,["sticky"]:Ir,["image"]:$c,["video"]:Nc},na=s=>typeof s=="string"?tn[s]:tn[s.type];var Wc=!0,G=class{static getShapeUtil(o){return na(o)}static getSelectedShapes(o,e){let t=G.getPage(o,e);return G.getSelectedIds(o,e).map(r=>t.shapes[r])}static screenToWorld(o,e){let t=G.getPageState(o,o.appState.currentPageId).camera;return N.Vec.sub(N.Vec.div(e,t.zoom),t.point)}static getCameraZoom(o){return mt.Utils.clamp(o,.1,5)}static getPage(o,e){return o.document.pages[e]}static getPageState(o,e){return o.document.pageStates[e]}static getSelectedIds(o,e){return G.getPageState(o,e).selectedIds}static getShapes(o,e){return Object.values(G.getPage(o,e).shapes)}static getCamera(o,e){return G.getPageState(o,e).camera}static getShape(o,e,t){return G.getPage(o,t).shapes[e]}static getCenter(o){return G.getShapeUtil(o).getCenter(o)}static getBounds(o){return G.getShapeUtil(o).getBounds(o)}static getRotatedBounds(o){return G.getShapeUtil(o).getRotatedBounds(o)}static getSelectedBounds(o){return mt.Utils.getCommonBounds(G.getSelectedShapes(o,o.appState.currentPageId).map(e=>G.getShapeUtil(e).getBounds(e)))}static getParentId(o,e,t){return G.getShape(o,e,t).parentId}static getDocumentBranch(o,e,t){let n=G.getShape(o,e,t);return n.children===void 0?[e]:[e,...n.children.flatMap(r=>G.getDocumentBranch(o,r,t))]}static getSelectedBranchSnapshot(o,e,t){let n=G.getPage(o,e),r=G.getSelectedIds(o,e).flatMap(i=>G.getDocumentBranch(o,i,e).map(d=>n.shapes[d])).filter(i=>!i.isLocked).map(mt.Utils.deepClone);return t!==void 0?r.map(i=>S({id:i.id},t(i))):r}static getSelectedShapeSnapshot(o,e,t){let n=G.getSelectedShapes(o,e).filter(r=>!r.isLocked).map(mt.Utils.deepClone);return t!==void 0?n.map(r=>S({id:r.id},t(r))):n}static getAllEffectedShapeIds(o,e,t){let n=G.getPage(o,t),r=new Set(e);return e.forEach(i=>{let d=n.shapes[i];function a(p){p.children!==void 0&&p.children.filter(u=>!r.has(u)).forEach(u=>{r.add(u),a(n.shapes[u])})}a(d);function c(p){let u=p.parentId;u!==n.id&&(r.has(u)||(r.add(u),c(n.shapes[u])))}c(d),r.forEach(p=>{Object.values(n.bindings).filter(u=>u.fromId===p||u.toId===p).forEach(u=>r.add(u.fromId===p?u.toId:u.fromId))})}),Array.from(r.values())}static getLinkedShapeIds(o,e,t,n=!0){let r=G.getSelectedIds(o,e),i=G.getPage(o,e),d=new Set(r),a=new Set,c=[...r],p=new Set(Object.values(i.shapes).filter(u=>{var h;return u.type==="arrow"&&(u.handles.start.bindingId||((h=u.handles)==null?void 0:h.end.bindingId))}));for(;c.length;){let u=c.pop();if(!(u&&p.size))break;a.has(u)||(a.add(u),p.forEach(h=>{var b,w;let{handles:{start:{bindingId:m},end:{bindingId:g}}}=h,f=m?i.bindings[m]:null,y=g?i.bindings[g]:null,T=!1;f&&f.toId===u?(t==="center"?T=!0:((b=h.decorations)==null?void 0:b.start)&&y?T=t==="left":T=t==="right",T&&(n&&d.add(h.id),d.add(u),y&&(d.add(y.toId),c.push(y.toId)))):y&&y.toId===u&&(t==="center"?T=!0:((w=h.decorations)==null?void 0:w.end)&&f?T=t==="left":T=t==="right",T&&(n&&d.add(h.id),d.add(u),f&&(d.add(f.toId),c.push(f.toId)))),(!f||d.has(f.toId))&&(!y||d.has(y.toId))&&p.delete(h)}))}return Array.from(d.values())}static getChildIndexAbove(o,e,t){let n=o.document.pages[t],r=n.shapes[e],i;if(r.parentId===n.id)i=Object.values(n.shapes).filter(c=>c.parentId===n.id).sort((c,p)=>c.childIndex-p.childIndex);else{let c=n.shapes[r.parentId];if(!c.children)throw Error("No children in parent!");i=c.children.map(p=>n.shapes[p]).sort((p,u)=>p.childIndex-u.childIndex)}let d=i.indexOf(r),a=i[d+1];return a?a.childIndex:r.childIndex+1}static getBeforeShape(o,e){return Object.fromEntries(Object.keys(e).map(t=>[t,o[t]]))}static mutateShapes(o,e,t,n,r=!1){let i={},d={};e.forEach((c,p)=>{let u=G.getShape(o,c,n);if(u.isLocked)return;(u==null?void 0:u.type)==="group"&&(e.length===1||r)&&u.children.forEach((m,g)=>{let f=G.getShape(o,m,n);if(f.isLocked)return;let y=t(f,g);y&&(i[m]=G.getBeforeShape(f,y),d[m]=y)});let h=t(u,p);h&&(i[c]=G.getBeforeShape(u,h),d[c]=h)});let a=mt.Utils.deepMerge(o,{document:{pages:{[o.appState.currentPageId]:{shapes:d}}}});return{before:i,after:d,data:a}}static createShapes(o,e,t){let n={document:{pages:{[t]:{shapes:S({},Object.fromEntries(e.flatMap(i=>{let d=[[i.id,void 0]];if(i.parentId!==t){let a=G.getShape(o,i.parentId,t);if(!a.children)throw Error("No children in parent!");d.push([a.id,{children:a.children}])}return d})))}}}},r={document:{pages:{[t]:{shapes:{shapes:S({},Object.fromEntries(e.flatMap(i=>{let d=[[i.id,i]];if(i.parentId!==t){let a=G.getShape(o,i.parentId,t);if(!a.children)throw Error("No children in parent!");d.push([a.id,{children:[...a.children,i.id]}])}return d})))}}}}};return{before:n,after:r}}static deleteShapes(o,e,t){t=t||o.appState.currentPageId;let n=G.getPage(o,t),r=typeof e[0]=="string"?e:e.map(a=>a.id),i={document:{pages:{[t]:{shapes:S({},Object.fromEntries(r.flatMap(a=>{let c=n.shapes[a],p=[[c.id,c]];if(c.parentId!==t){let u=n.shapes[c.parentId];if(!u.children)throw Error("No children in parent!");p.push([u.id,{children:u.children}])}return p}))),bindings:S({},Object.fromEntries(Object.values(n.bindings).filter(a=>r.includes(a.fromId)||r.includes(a.toId)).map(a=>[a.id,a])))}}}},d={document:{pages:{[t]:{shapes:S({},Object.fromEntries(r.flatMap(a=>{let c=n.shapes[a],p=[[c.id,void 0]];if(c.parentId!==n.id){let u=n.shapes[c.parentId];if(!u.children)throw Error("No children in parent!");p.push([u.id,{children:u.children.filter(h=>h!==c.id)}])}return p})))}}}};return{before:i,after:d}}static onSessionComplete(o){var t,n;let e=(n=(t=G.getShapeUtil(o)).onSessionComplete)==null?void 0:n.call(t,o);return e?S(S({},o),e):o}static onChildrenChange(o,e,t){var r,i;if(!e.children)return;let n=(i=(r=G.getShapeUtil(e)).onChildrenChange)==null?void 0:i.call(r,e,e.children.map(d=>G.getShape(o,d,t)));return n?S(S({},e),n):e}static updateArrowBindings(o,e){var i,d,a,c,p,u;let t={start:We(e.handles.start),end:We(e.handles.end)},n={isBound:!1,handle:e.handles.start,point:N.Vec.add(e.handles.start.point,e.point)},r={isBound:!1,handle:e.handles.end,point:N.Vec.add(e.handles.end.point,e.point)};if(e.handles.start.bindingId){let h=((i=e.decorations)==null?void 0:i.start)!==void 0,m=e.handles.start,g=o.bindings[e.handles.start.bindingId];if(!g)throw Error("Could not find a binding to match the start handle's bindingId: "+e.handles.start.bindingId);let f=o.shapes[g.toId],y=G.getShapeUtil(f),T=y.getBounds(f),b=y.getExpandedBounds(f),w=h?mt.Utils.expandBounds(T,g.distance):T,{minX:v,minY:P,width:C,height:B}=b,I=N.Vec.add([v,P],N.Vec.mulV([C,B],N.Vec.rotWith(g.point,[.5,.5],f.rotation||0)));n={isBound:!0,hasDecoration:h,binding:g,handle:m,point:I,util:y,target:f,bounds:T,expandedBounds:b,intersectBounds:w,center:y.getCenter(f)}}if(e.handles.end.bindingId){let h=((d=e.decorations)==null?void 0:d.end)!==void 0,m=e.handles.end,g=o.bindings[e.handles.end.bindingId];if(!g)throw Error("Could not find a binding to match the end handle's bindingId");let f=o.shapes[g.toId],y=G.getShapeUtil(f),T=y.getBounds(f),b=y.getExpandedBounds(f),w=h?mt.Utils.expandBounds(T,g.distance):T,{minX:v,minY:P,width:C,height:B}=b,I=N.Vec.add([v,P],N.Vec.mulV([C,B],N.Vec.rotWith(g.point,[.5,.5],f.rotation||0)));r={isBound:!0,hasDecoration:h,binding:g,handle:m,point:I,util:y,target:f,bounds:T,expandedBounds:b,intersectBounds:w,center:y.getCenter(f)}}for(let h of["end","start"]){let m=h==="start"?n:r,g=h==="start"?r:n;if(m.isBound)if(!m.binding.distance)t[h].point=N.Vec.sub(m.point,e.point);else{let f=N.Vec.uni(N.Vec.sub(m.point,g.point));switch(m.target.type){case"ellipse":{let y=(0,Gn.intersectRayEllipse)(g.point,f,m.center,m.target.radius[0]+(m.hasDecoration?m.binding.distance:0),m.target.radius[1]+(m.hasDecoration?m.binding.distance:0),m.target.rotation||0).points.sort((T,b)=>N.Vec.dist(T,g.point)-N.Vec.dist(b,g.point));y[0]!==void 0&&(t[h].point=N.Vec.toFixed(N.Vec.sub(y[0],e.point)));break}case"triangle":{let y=m.target.point,T=zt(m.target.size,m.hasDecoration?16:0,m.target.rotation).map(w=>N.Vec.add(w,y)),b=mt.Utils.pointsToLineSegments(T,!0).map(([w,v])=>(0,Gn.intersectRayLineSegment)(g.point,f,w,v)).filter(w=>w.didIntersect).flatMap(w=>w.points).sort((w,v)=>N.Vec.dist(w,g.point)-N.Vec.dist(v,g.point));b[0]!==void 0&&(t[h].point=N.Vec.toFixed(N.Vec.sub(b[0],e.point)));break}default:{let y=(0,Gn.intersectRayBounds)(g.point,f,m.intersectBounds,m.target.rotation).filter(b=>b.didIntersect).map(b=>b.points[0]).sort((b,w)=>N.Vec.dist(b,g.point)-N.Vec.dist(w,g.point));if(!y[0])continue;let T;if(g.isBound&&(T=(0,Gn.intersectRayBounds)(g.point,f,g.intersectBounds,g.target.rotation).filter(w=>w.didIntersect).map(w=>w.points[0]).sort((w,v)=>N.Vec.dist(w,g.point)-N.Vec.dist(v,g.point))[0]),g.isBound&&(y.length<2||T&&y[0]&&Math.ceil(N.Vec.dist(y[0],T))<16*2.5||mt.Utils.boundsContain(m.expandedBounds,g.expandedBounds)||mt.Utils.boundsCollide(m.expandedBounds,g.expandedBounds))){let b=N.Vec.uni(N.Vec.sub(g.point,m.point)),w=(0,Gn.intersectRayBounds)(m.point,b,m.bounds,m.target.rotation).filter(v=>v.didIntersect).map(v=>v.points[0]);if(!w[0])continue;t[h].point=N.Vec.toFixed(N.Vec.sub(w[0],e.point)),t[h==="start"?"end":"start"].point=N.Vec.toFixed(N.Vec.add(N.Vec.sub(w[0],e.point),N.Vec.mul(b,Math.min(N.Vec.dist(w[0],g.point),16*2.5*(mt.Utils.boundsContain(g.bounds,m.intersectBounds)?-1:1)))))}else if(!g.isBound&&(y[0]&&N.Vec.dist(y[0],g.point)<16*2.5||mt.Utils.pointInBounds(g.point,m.intersectBounds))){let b=N.Vec.uni(N.Vec.sub(m.center,g.point));return(c=(a=G.getShapeUtil(e)).onHandleChange)==null?void 0:c.call(a,e,{[h]:k(S({},e.handles[h]),{point:N.Vec.toFixed(N.Vec.add(N.Vec.sub(g.point,e.point),N.Vec.mul(b,16*2.5)))})})}else y[0]&&(t[h].point=N.Vec.toFixed(N.Vec.sub(y[0],e.point)))}}}}return(u=(p=G.getShapeUtil(e)).onHandleChange)==null?void 0:u.call(p,e,t)}static transform(o,e,t){let n=G.getShapeUtil(o).transform(o,e,t);return n?S(S({},o),n):o}static transformSingle(o,e,t){let n=G.getShapeUtil(o).transformSingle(o,e,t);return n?S(S({},o),n):o}static getRotatedShapeMutation(o,e,t,n){var c,p;let r=N.Vec.sub(e,o.point),i=N.Vec.rotWith(e,t,n),d=N.Vec.toFixed(N.Vec.sub(i,r));if(o.handles!==void 0)return(p=(c=this.getShapeUtil(o)).onHandleChange)==null?void 0:p.call(c,k(S({},o),{point:d}),Object.fromEntries(Object.entries(o.handles).map(([h,m])=>{let g=N.Vec.toFixed(N.Vec.rotWith(m.point,r,n));return[h,k(S({},m),{point:g})]})));let a=mt.Utils.clampRadians((o.rotation||0)+n);return{point:d,rotation:a}}static updateParents(o,e,t){let n=G.getPage(o,e);if(t.length===0)return;let{shapes:r}=G.getPage(o,e),i=Array.from(new Set(t.map(d=>r[d].parentId).values())).filter(d=>d!==n.id);for(let d of i){let a=r[d];if(!a.children)throw Error("A shape is parented to a shape without a children array.");G.onChildrenChange(o,a,e)}G.updateParents(o,e,i)}static getBinding(o,e,t){return G.getPage(o,t).bindings[e]}static getBindings(o,e){let t=G.getPage(o,e);return Object.values(t.bindings)}static getBindableShapeIds(o){return G.getShapes(o,o.appState.currentPageId).filter(e=>G.getShapeUtil(e).canBind).sort((e,t)=>t.childIndex-e.childIndex).map(e=>e.id)}static getBindingsWithShapeIds(o,e,t){return Array.from(new Set(G.getBindings(o,t).filter(n=>e.includes(n.toId)||e.includes(n.fromId))).values())}static getRelatedBindings(o,e,t){let n=new Set(e),r=G.getPage(o,t),i=Object.values(r.bindings),d=new Set(i.filter(p=>n.has(p.toId)||n.has(p.fromId))),a=d.size,c=-1;for(;c!==0;)d.forEach(p=>{let u=p.fromId;for(let h of i)h.fromId===u&&d.add(h),h.toId===u&&d.add(h)}),c=d.size-a,a=d.size;return Array.from(d.values())}static normalizeText(o){return o.replace(G.fixNewLines,`
`).split(`
`).map(e=>e||" ").join(`
`)}static assertShapeHasProperty(o,e){if(o[e]===void 0)throw new Error}static warn(o){Wc&&console.warn(o)}static error(o){Wc&&console.error(o)}static getSvgString(o,e=1){let t=o.cloneNode(!0);return o.setAttribute("width",+o.getAttribute("width")*e+""),o.setAttribute("height",+o.getAttribute("height")*e+""),new XMLSerializer().serializeToString(t).replaceAll("&#10;      ","").replaceAll(/((\s|")[0-9]*\.[0-9]{2})([0-9]*)(\b|"|\))/g,"$1")}static getSvgAsDataUrl(o,e=1){let t=G.getSvgString(o,e);return`data:image/svg+xml;base64,${window.btoa(unescape(t))}`}static getImageForSvg(n){return F(this,arguments,function*(o,e="png",t={}){let{scale:r=2,quality:i=1}=t,d=G.getSvgString(o,r);if(!d)return;let a=yield new Promise(p=>{let u=new Image;u.crossOrigin="anonymous";let m=`data:image/svg+xml;base64,${window.btoa(unescape(encodeURIComponent(d)))}`;u.onload=()=>{let g=document.createElement("canvas"),f=g.getContext("2d"),y=u.width,T=u.height;g.width=y,g.height=T,f.drawImage(u,0,0,y,T),URL.revokeObjectURL(m),p(g)},u.onerror=()=>{console.warn("Could not convert that SVG to an image.")},u.src=m});return yield new Promise(p=>a.toBlob(u=>p(u),"image/"+e,i))})}},x=G;l(x,"copyStringToClipboard",o=>{try{navigator.clipboard&&navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([o],{type:"text/plain"})})])}catch(e){let t=document.createElement("textarea");t.setAttribute("position","fixed"),t.setAttribute("top","0"),t.setAttribute("readonly","true"),t.setAttribute("contenteditable","true"),t.style.position="fixed",t.value=o,document.body.appendChild(t),t.focus(),t.select();try{let n=document.createRange();n.selectNodeContents(t);let r=window.getSelection();r&&(r.removeAllRanges(),r.addRange(n),t.setSelectionRange(0,t.value.length)),document.execCommand("copy")}catch(n){}finally{document.body.removeChild(t)}}}),l(x,"flattenShape",(o,e)=>{var t;return[e,...((t=e.children)!=null?t:[]).map(n=>G.getShape(o,n,o.appState.currentPageId)).sort((n,r)=>n.childIndex-r.childIndex).flatMap(n=>G.flattenShape(o,n))]}),l(x,"flattenPage",(o,e)=>Object.values(o.document.pages[e].shapes).sort((t,n)=>t.childIndex-n.childIndex).reduce((t,n)=>[...t,...G.flattenShape(o,n)],[])),l(x,"getTopChildIndex",(o,e)=>{let t=G.getShapes(o,e);return t.length===0?1:t.filter(n=>n.parentId===e).sort((n,r)=>r.childIndex-n.childIndex)[0].childIndex+1}),l(x,"fixNewLines",/\r?\n|\r/g);var Be=require("react/jsx-runtime"),rg=s=>s.room,Uc=function(){let o=V(),e=o.useStore(rg),[t,n]=fn.useState(!1),r=fn.useRef(0),i=fn.useCallback(()=>{n(!0),x.copyStringToClipboard(window.location.href),clearTimeout(r.current),r.current=setTimeout(()=>n(!1),1200)},[]),d=fn.useCallback(()=>{n(!0);let p=window.location.href.split("/");p[p.length-2]="v",p[p.length-1]=Ks.Utils.lns(p[p.length-1]),x.copyStringToClipboard(p.join("/")),clearTimeout(r.current),r.current=setTimeout(()=>n(!1),1200)},[]),a=fn.useCallback(()=>F(this,null,function*(){o.isDirty?o.fileSystemHandle?window.confirm("Do you want to save changes to your current project?")&&(yield o.saveProject()):window.confirm("Do you want to save your current project?")&&(yield o.saveProject()):o.fileSystemHandle||window.confirm("Do you want to save your current project?")&&(yield o.saveProject())}),[]),c=fn.useCallback(()=>F(this,null,function*(){var u;let p=Ks.Utils.deepClone(o.document);o.setIsLoading(!0);try{if(o.callbacks.onAssetUpload)for(let m in p.assets){let g=p.assets[m];if(g.src.includes("base64")){let f=sg(g.src,((u=g.fileName)!=null?u:g.type==="video")?"image.png":"image.mp4"),y=yield o.callbacks.onAssetUpload(o,f,m);y?g.src=y:g.src=""}}let h=yield fetch("/api/create",{method:"POST",mode:"no-cors",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({roomId:Ks.Utils.uniqueId(),pageId:o.currentPageId,document:p})}).then(m=>m.json());h!=null&&h.url?window.location.href=h.url:x.warn(h==null?void 0:h.message)}catch(h){x.warn(h.message)}o.setIsLoading(!1)}),[]);return(0,Be.jsxs)(Kc.Root,{dir:"ltr",children:[(0,Be.jsx)(os,{id:"TD-MultiplayerMenuIcon",isActive:!!e,children:(0,Be.jsx)(Hd,{})}),(0,Be.jsxs)(ct,{variant:"menu",id:"TD-MultiplayerMenu",side:"bottom",align:"start",sideOffset:4,children:[(0,Be.jsxs)(Z,{id:"TD-Multiplayer-CopyInviteLink",onClick:i,disabled:!e,children:[(0,Be.jsx)(Cr.FormattedMessage,{id:"copy.invite.link"}),(0,Be.jsx)(je,{children:t?(0,Be.jsx)(Fo.CheckIcon,{}):(0,Be.jsx)(Fo.ClipboardIcon,{})})]}),(0,Be.jsxs)(Z,{id:"TD-Multiplayer-CopyReadOnlyLink",onClick:d,disabled:!e,children:[(0,Be.jsx)(Cr.FormattedMessage,{id:"copy.readonly.link"}),(0,Be.jsx)(je,{children:t?(0,Be.jsx)(Fo.CheckIcon,{}):(0,Be.jsx)(Fo.ClipboardIcon,{})})]}),(0,Be.jsx)(ee,{}),(0,Be.jsx)(Z,{id:"TD-Multiplayer-CreateMultiplayerProject",onClick:a,children:(0,Be.jsx)("a",{href:`${window.location.origin}/r`,children:(0,Be.jsx)(Cr.FormattedMessage,{id:"create.multiplayer.project"})})}),(0,Be.jsx)(Z,{id:"TD-Multiplayer-CopyToMultiplayerProject",onClick:c,children:(0,Be.jsx)(Cr.FormattedMessage,{id:"copy.multiplayer.project"})})]})]})};function sg(s,o){var d,a;let e=s.split(","),t=(a=(d=e[0])==null?void 0:d.match(/:(.*?);/))==null?void 0:a[1],n=window.atob(e[1]),r=n.length,i=new Uint8Array(r);for(;r--;)i[r]=n.charCodeAt(r);return new File([i],o,{type:t})}var Et=R(require("@radix-ui/react-dropdown-menu")),_s=require("@radix-ui/react-icons"),qe=R(require("react")),Dr=require("react-intl");var gt=R(require("@radix-ui/react-alert-dialog")),Us=require("@radix-ui/react-icons"),_e=R(require("react")),jo=require("react-intl");var ve=require("react/jsx-runtime"),ig=s=>Object.keys(s.document.pages).length>1;function Yc({page:s,onOpen:o,onClose:e}){let t=V(),n=(0,jo.useIntl)(),[r,i]=_e.useState(!1),[d,a]=_e.useState(s.name||"Page"),c=t.useStore(ig),p=_e.useRef(null),u=_e.useCallback(()=>{i(!1)},[]),h=_e.useCallback(()=>{t.duplicatePage(s.id)},[t]),m=_e.useCallback(()=>{window.confirm("Are you sure you want to delete this page?")&&t.deletePage(s.id)},[t]),g=_e.useCallback(C=>{if(i(C),C){o==null||o();return}},[t]);function f(C){C.stopPropagation()}let y=_e.useRef(s.name||"Page"),T=_e.useRef(y.current),b=_e.useCallback(C=>{let B=C.target.value.trimStart();T.current=B,a(B)},[]),w=_e.useCallback(C=>{switch(C.key){case"Enter":{T.current===y.current||(y.current=T.current,t.renamePage(s.id,T.current.trim())),i(!1);break}case"Escape":{if(T.current===y.current){i(!1);return}T.current=y.current,a(y.current),requestAnimationFrame(()=>{let B=p.current;B&&(B.focus(),B.setSelectionRange(0,B.value.length))});break}}},[]),v=_e.useRef(!1);_e.useEffect(()=>(r?(v.current=!0,y.current=s.name||"Page",T.current=y.current,requestAnimationFrame(()=>{let C=p.current;C&&(C.focus(),C.setSelectionRange(0,C.value.length))})):v.current&&(e==null||e()),()=>{T.current!==y.current&&(y.current=T.current,t.renamePage(s.id,T.current))}),[r]);let P=Tt();return(0,ve.jsxs)(gt.Root,{open:r,onOpenChange:g,children:[(0,ve.jsx)(gt.Trigger,{asChild:!0,"data-shy":"true",children:(0,ve.jsx)(yo,{bp:Pe,children:(0,ve.jsx)(je,{children:(0,ve.jsx)(Us.MixerVerticalIcon,{})})})}),(0,ve.jsxs)(gt.Portal,{container:P.current,children:[(0,ve.jsx)(lg,{onPointerDown:u}),(0,ve.jsxs)(ag,{dir:"ltr",onKeyDown:f,onKeyUp:f,children:[(0,ve.jsx)(ts,{ref:p,placeholder:n.formatMessage({id:"page.name"}),value:d,onChange:b,onKeyDown:w,icon:(0,ve.jsx)(Us.Pencil1Icon,{})}),(0,ve.jsx)(ee,{}),(0,ve.jsx)(_c,{onSelect:h,children:(0,ve.jsx)(jo.FormattedMessage,{id:"duplicate"})}),(0,ve.jsx)(_c,{disabled:!c,onSelect:m,children:(0,ve.jsx)(jo.FormattedMessage,{id:"delete"})}),(0,ve.jsx)(ee,{}),(0,ve.jsx)(gt.Cancel,{asChild:!0,children:(0,ve.jsx)(pe,{children:(0,ve.jsx)(jo.FormattedMessage,{id:"cancel"})})})]})]})]})}var ag=M(gt.Content,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:240,maxWidth:"fit-content",maxHeight:"85vh",marginTop:"-5vh",pointerEvents:"all",backgroundColor:"$panel",padding:"$1",borderRadius:"$2",font:"$ui",zIndex:999999,"&:focus":{outline:"none"}}),lg=M(gt.Overlay,{backgroundColor:"rgba(0, 0, 0, .15)",position:"absolute",pointerEvents:"all",inset:0,zIndex:999998});function _c(e){var t=e,{onSelect:s}=t,o=De(t,["onSelect"]);return(0,ve.jsx)(gt.Action,{asChild:!0,onClick:s,onSelect:s,children:(0,ve.jsx)(pe,S({},o))})}var me=require("react/jsx-runtime"),dg=s=>Object.values(s.document.pages).sort((o,e)=>(o.childIndex||0)-(e.childIndex||0)),cg=s=>s.document.pages[s.appState.currentPageId].name,pg=s=>s.document.pages[s.appState.currentPageId].id;function Zc(){let s=V(),o=(0,Dr.useIntl)(),e=qe.useRef(!1),[t,n]=qe.useState(!1);qe.useEffect(()=>{e.current!==t&&(e.current=t)},[t]);let r=qe.useCallback(()=>{n(!1)},[n]),i=qe.useCallback(a=>{e.current!==a&&n(a)},[n]),d=s.useStore(cg);return(0,me.jsxs)(Et.Root,{dir:"ltr",open:t,onOpenChange:i,children:[(0,me.jsx)(Et.Trigger,{dir:"ltr",asChild:!0,id:"TD-Page",children:(0,me.jsx)(X,{variant:"text",children:d||o.formatMessage({id:"page"})})}),(0,me.jsx)(ct,{variant:"menu",align:"start",sideOffset:4,children:t&&(0,me.jsx)(ug,{onClose:r})})]})}function ug({onClose:s}){let o=V(),e=(0,Dr.useIntl)(),t=o.useStore(dg),n=o.useStore(pg),r=e.formatMessage({id:"page"}),i=qe.useCallback(()=>{let f=r+" "+(Object.keys(o.document.pages).length+1);o.createPage(void 0,f)},[o]),d=qe.useCallback(f=>{s(),o.changePage(f)},[o]),[a,c]=qe.useState(null),[p,u]=qe.useState(null),h=qe.useCallback(f=>{c(f.currentTarget.id),u(t.findIndex(y=>y.id===f.currentTarget.id)),f.dataTransfer.effectAllowed="move"},[]),m=qe.useCallback(f=>{f.preventDefault();let y=t.findIndex(w=>w.id===f.currentTarget.id),T=f.currentTarget.getBoundingClientRect();y=(f.clientY-T.top)/T.height<.5?y:y+1,u(y)},[a,t]),g=qe.useCallback(()=>{a!==null&&p!==null&&o.movePage(a,p),c(null),u(null)},[a,p]);return(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(Et.RadioGroup,{dir:"ltr",value:n,onValueChange:d,children:t.map((f,y)=>(0,me.jsxs)(hg,{isDropAbove:y===p&&y===0,isDropBelow:p!==null&&y===p-1,children:[(0,me.jsx)(Et.RadioItem,{title:f.name||r,value:f.id,id:f.id,asChild:!0,onDragOver:m,onDragStart:h,onDrop:g,draggable:!0,children:(0,me.jsxs)(mg,{children:[(0,me.jsx)("span",{id:f.id,children:f.name||r}),(0,me.jsx)(Et.ItemIndicator,{children:(0,me.jsx)(je,{children:(0,me.jsx)(_s.CheckIcon,{})})})]})},f.id),(0,me.jsx)(Yc,{page:f,onClose:s})]},f.id))}),(0,me.jsx)(ee,{}),(0,me.jsx)(Et.Item,{onSelect:i,asChild:!0,children:(0,me.jsxs)(pe,{children:[(0,me.jsx)("span",{children:(0,me.jsx)(Dr.FormattedMessage,{id:"create.page"})}),(0,me.jsx)(je,{children:(0,me.jsx)(_s.PlusIcon,{})})]})})]})}var hg=M("div",{position:"relative",display:"grid",gridTemplateColumns:"1fr auto",gridAutoFlow:"column",margin:0,'& > *[data-shy="true"]':{opacity:0},'&:hover > *[data-shy="true"]':{opacity:1},variants:{isDropAbove:{true:{"&::after":{content:"",display:"block",position:"absolute",top:0,width:"100%",height:"1px",backgroundColor:"$selected",zIndex:999,pointerEvents:"none"}}},isDropBelow:{true:{"&::after":{content:"",display:"block",position:"absolute",width:"100%",height:"1px",top:"100%",backgroundColor:"$selected",zIndex:999,pointerEvents:"none"}}}}}),mg=M(pe,{minWidth:128});var Vn=R(require("@radix-ui/react-dropdown-menu")),$n=require("@radix-ui/react-icons"),Je=R(require("react")),jt=require("react-intl");var W=require("react/jsx-runtime"),gg=s=>s.appState.currentStyle,fg=s=>s.document.pageStates[s.appState.currentPageId].selectedIds,Sg=Object.keys(Po),Xc={["draw"]:(0,W.jsx)(_l,{}),["solid"]:(0,W.jsx)(Zl,{}),["dashed"]:(0,W.jsx)(Nl,{}),["dotted"]:(0,W.jsx)(Kl,{})},bg={["small"]:(0,W.jsx)(Ql,{}),["medium"]:(0,W.jsx)(td,{}),["large"]:(0,W.jsx)(od,{})},Tg={["start"]:(0,W.jsx)($n.TextAlignLeftIcon,{}),["middle"]:(0,W.jsx)($n.TextAlignCenterIcon,{}),["end"]:(0,W.jsx)($n.TextAlignRightIcon,{}),["justify"]:(0,W.jsx)($n.TextAlignJustifyIcon,{})},yg=s=>s.settings.isDarkMode?"dark":"light",wg=s=>s.settings.keepStyleMenuOpen,kg=s=>{let{activeTool:o,currentPageId:e}=s.appState;switch(o){case"select":{let t=s.document.pages[e],n=!1,r=!1;for(let i of s.document.pageStates[e].selectedIds)"text"in t.shapes[i]&&(n=!0),"label"in t.shapes[i]&&(r=!0);return n?"text":r?"label":""}case"text":return"text";case"rectangle":return"label";case"ellipse":return"label";case"triangle":return"label";case"arrow":return"label";case"line":return"label"}return!1},qc=Je.memo(function(){let o=V(),e=(0,jt.useIntl)(),t=o.useStore(yg),n=o.useStore(wg),r=o.useStore(kg),i=o.useStore(gg),d=o.useStore(fg),[a,c]=Je.useState(i),p=Je.useRef(i);Je.useEffect(()=>{let{appState:{currentStyle:b},page:w,selectedIds:v}=o,P={};if(v.length<=0)P=b;else{let C=new Set([]);o.selectedIds.map(B=>w.shapes[B]).forEach(B=>{Sg.forEach(I=>{if(!C.has(I))if(P[I]===void 0)P[I]=B.style[I];else{if(P[I]===B.style[I])return;P[I]=B.style[I],C.add(I)}})})}JSON.stringify(P)!==JSON.stringify(p.current)&&(p.current=P,c(P))},[i,d]);let u=Je.useCallback(b=>{o.setSetting("keepStyleMenuOpen",b)},[]),h=Je.useCallback(b=>{o.style({isFilled:b})},[]),m=Je.useCallback(b=>{o.style({dash:b})},[]),g=Je.useCallback(b=>{o.style({size:b})},[]),f=Je.useCallback(b=>{o.style({font:b})},[]),y=Je.useCallback(b=>{o.style({textAlign:b})},[]),T=Je.useCallback(b=>{o.setMenuOpen(b)},[o]);return(0,W.jsxs)(Vn.Root,{dir:"ltr",onOpenChange:T,open:n?!0:void 0,modal:!1,children:[(0,W.jsx)(Vn.Trigger,{asChild:!0,id:"TD-Styles",children:(0,W.jsxs)(X,{"aria-label":e.formatMessage({id:"styles"}),variant:"text",children:[(0,W.jsx)(jt.FormattedMessage,{id:"styles"}),(0,W.jsxs)(vg,{style:{color:Do[t][a.color]},children:[a.isFilled&&(0,W.jsx)(Ei,{size:16,stroke:"none",fill:ps[t][a.color]}),Xc[a.dash]]})]})}),(0,W.jsxs)(ct,{id:"TD-StylesMenu",side:"bottom",align:"end",sideOffset:4,alignOffset:4,children:[(0,W.jsxs)(Pr,{variant:"tall",id:"TD-Styles-Color-Container",children:[(0,W.jsx)("span",{children:(0,W.jsx)(jt.FormattedMessage,{id:"style.menu.color"})}),(0,W.jsx)(xg,{children:Object.keys(Do.light).map(b=>(0,W.jsx)(Vn.Item,{onSelect:le,asChild:!0,id:`TD-Styles-Color-Swatch-${b}`,children:(0,W.jsx)(X,{variant:"icon",isActive:a.color===b,onClick:()=>o.style({color:b}),"aria-label":e.formatMessage({id:b}),children:(0,W.jsx)(Ei,{size:18,strokeWidth:2.5,fill:a.isFilled?ps[t][b]:"transparent",stroke:Do.light[b]})})},b))})]}),(0,W.jsx)(dt,{variant:"styleMenu",checked:!!a.isFilled,onCheckedChange:h,id:"TD-Styles-Fill",children:(0,W.jsx)(jt.FormattedMessage,{id:"style.menu.fill"})}),(0,W.jsxs)(Pr,{id:"TD-Styles-Dash-Container",children:[(0,W.jsx)(jt.FormattedMessage,{id:"style.menu.dash"}),(0,W.jsx)(Ys,{dir:"ltr",value:a.dash,onValueChange:m,children:Object.values(Wt).map(b=>(0,W.jsx)(gr,{isActive:b===a.dash,value:b,onSelect:le,bp:Pe,id:`TD-Styles-Dash-${b}`,"aria-label":e.formatMessage({id:b}),children:Xc[b]},b))})]}),(0,W.jsxs)(Pr,{id:"TD-Styles-Size-Container",children:[(0,W.jsx)(jt.FormattedMessage,{id:"style.menu.size"}),(0,W.jsx)(Ys,{dir:"ltr",value:a.size,onValueChange:g,children:Object.values(pr).map(b=>(0,W.jsx)(gr,{isActive:b===a.size,value:b,onSelect:le,bp:Pe,id:`TD-Styles-Dash-${b}`,"aria-label":e.formatMessage({id:b}),children:bg[b]},b))})]}),(r==="text"||r==="label")&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(ee,{}),(0,W.jsxs)(Pr,{id:"TD-Styles-Font-Container",children:[(0,W.jsx)(jt.FormattedMessage,{id:"style.menu.font"}),(0,W.jsx)(Ys,{dir:"ltr",value:a.font,onValueChange:f,children:Object.values(So).map(b=>(0,W.jsx)(gr,{isActive:b===a.font,value:b,onSelect:le,bp:Pe,id:`TD-Styles-Font-${b}`,children:(0,W.jsx)(Ig,{fontStyle:b,children:"Aa"})},b))})]}),r==="text"&&(0,W.jsxs)(Pr,{id:"TD-Styles-Align-Container",children:[(0,W.jsx)(jt.FormattedMessage,{id:"style.menu.align"}),(0,W.jsx)(Ys,{dir:"ltr",value:a.textAlign,onValueChange:y,children:Object.values(bt).map(b=>(0,W.jsx)(gr,{isActive:b===a.textAlign,value:b,onSelect:le,bp:Pe,id:`TD-Styles-Align-${b}`,children:Tg[b]},b))})]})]}),(0,W.jsx)(ee,{}),(0,W.jsx)(dt,{variant:"styleMenu",checked:n,onCheckedChange:u,id:"TD-Styles-Keep-Open",children:(0,W.jsx)(jt.FormattedMessage,{id:"style.menu.keep.open"})})]})]})}),xg=M("div",{display:"grid",gridTemplateColumns:"repeat(4, auto)",gap:0}),Pr=M("div",{position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",minHeight:"32px",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",padding:"$2 0 $2 $3",borderRadius:4,userSelect:"none",WebkitUserSelect:"none",margin:0,display:"flex",gap:"$3",flexDirection:"row",alignItems:"center",justifyContent:"space-between",variants:{variant:{tall:{alignItems:"flex-start",padding:"0 0 0 $3","& > span":{paddingTop:"$4"}}}}}),Ys=M(Vn.DropdownMenuRadioGroup,{display:"flex",flexDirection:"row",gap:"$1"}),vg=M("div",{display:"grid","& > *":{gridColumn:1,gridRow:1}}),Ig=M("div",{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"$3",variants:{fontStyle:{["script"]:{fontFamily:"Caveat Brush"},["sans"]:{fontFamily:"Recursive"},["serif"]:{fontFamily:"Georgia"},["mono"]:{fontFamily:"Recursive Mono"}}}});var Zs=R(require("@radix-ui/react-dropdown-menu")),Go=require("react-intl");var it=require("react/jsx-runtime"),Cg=s=>s.document.pageStates[s.appState.currentPageId].camera.zoom,Jc=function(){let o=V(),e=o.useStore(Cg);return(0,it.jsxs)(Zs.Root,{dir:"ltr",children:[(0,it.jsx)(Zs.Trigger,{dir:"ltr",asChild:!0,id:"TD-Zoom",children:(0,it.jsxs)(Dg,{onDoubleClick:o.resetZoom,variant:"text",children:[Math.round(e*100),"%"]})}),(0,it.jsxs)(ct,{align:"end",children:[(0,it.jsx)(Z,{onSelect:le,onClick:o.zoomIn,kbd:"#+",id:"TD-Zoom-Zoom_In",children:(0,it.jsx)(Go.FormattedMessage,{id:"zoom.in"})}),(0,it.jsx)(Z,{onSelect:le,onClick:o.zoomOut,kbd:"#\u2212",id:"TD-Zoom-Zoom_Out",children:(0,it.jsx)(Go.FormattedMessage,{id:"zoom.out"})}),(0,it.jsxs)(Z,{onSelect:le,onClick:o.resetZoom,kbd:"\u21E70",id:"TD-Zoom-Zoom_To_100%",children:[(0,it.jsx)(Go.FormattedMessage,{id:"zoom.to"})," 100%"]}),(0,it.jsx)(Z,{onSelect:le,onClick:o.zoomToFit,kbd:"\u21E71",id:"TD-Zoom-To_Fit",children:(0,it.jsx)(Go.FormattedMessage,{id:"zoom.to.fit"})}),(0,it.jsx)(Z,{onSelect:le,onClick:o.zoomToSelection,kbd:"\u21E72",id:"TD-Zoom-To_Selection",children:(0,it.jsx)(Go.FormattedMessage,{id:"zoom.to.selection"})})]})]})},Dg=M(X,{minWidth:56});var Ve=require("react/jsx-runtime");function Pg({readOnly:s,showPages:o,showMenu:e,showStyles:t,showZoom:n,showMultiplayerMenu:r}){let i=V(),d=(0,ep.useIntl)();return(0,Ve.jsxs)(Mg,{children:[(e||o)&&(0,Ve.jsxs)(Yn,{side:"left",id:"TD-MenuPanel",children:[e&&(0,Ve.jsx)(Ad,{readOnly:s}),r&&(0,Ve.jsx)(Uc,{}),o&&(0,Ve.jsx)(Zc,{})]}),(0,Ve.jsx)(Eg,{}),(t||n)&&(0,Ve.jsxs)(Yn,{side:"right",children:[i.readOnly?(0,Ve.jsx)(Bg,{children:"Read Only"}):(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(At,{kbd:"#Z",label:d.formatMessage({id:"undo"}),onClick:i.undo,id:"TD-TopPanel-Undo","aria-label":d.formatMessage({id:"undo"}),children:(0,Ve.jsx)(Bi,{})}),(0,Ve.jsx)(At,{kbd:"#\u21E7Z",label:d.formatMessage({id:"redo"}),onClick:i.redo,id:"TD-TopPanel-Redo","aria-label":d.formatMessage({id:"redo"}),children:(0,Ve.jsx)(Bi,{flipHorizontal:!0})})]}),n&&(0,Ve.jsx)(Jc,{}),t&&!s&&(0,Ve.jsx)(qc,{})]})]})}var Mg=M("div",{width:"100%",position:"absolute",top:0,left:0,right:0,display:"flex",flexDirection:"row",pointerEvents:"none","& > *":{pointerEvents:"all"}}),Eg=M("div",{flexGrow:2,pointerEvents:"none"}),Bg=M("div",{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"$ui",fontSize:"$1",paddingLeft:"$4",paddingRight:"$1",userSelect:"none",WebkitUserSelect:"none"}),tp=Qc.memo(Pg);var np=R(require("react"));function op(s){np.default.useEffect(()=>{let o=!1,e=!1,t=s.current;if(!t)return;let n=a=>{a.key===" "&&!e&&(e=!0,o?t.setAttribute("style","cursor: grabbing !important"):t.setAttribute("style","cursor: grab !important"))},r=a=>{a.key===" "&&(e=!1,t.setAttribute("style","cursor: initial"))},i=a=>{o=!0,a.button===1&&t.setAttribute("style","cursor: grabbing !important"),a.button===0&&e&&t.setAttribute("style","cursor: grabbing !important")},d=()=>{o=!1,e?t.setAttribute("style","cursor: grab !important"):t.setAttribute("style","cursor: initial")};return t.addEventListener("keydown",n),t.addEventListener("keyup",r),t.addEventListener("pointerdown",i),t.addEventListener("pointerup",d),()=>{t.removeEventListener("keydown",n),t.removeEventListener("keyup",r),t.removeEventListener("pointerdown",i),t.removeEventListener("pointerup",d)}},[s.current])}var Qe=require("@tldraw/core"),_=require("@tldraw/vec");var Mr=require("idb-keyval");var rp="tldraw_clipboard";function sp(){return F(this,null,function*(){return(0,Mr.get)(rp)})}function ip(s){return F(this,null,function*(){return(0,Mr.set)(rp,s)})}var ap=require("@tldraw/core"),lo=R(require("idb-keyval")),lp=R(require("zustand")),dp=R(require("zustand/vanilla"));var Xs=class{constructor(o,e,t,n){l(this,"_idbId");l(this,"initialState");l(this,"store");l(this,"pointer",-1);l(this,"_state");l(this,"_status","loading");l(this,"stack",[]);l(this,"_snapshot");l(this,"useStore");l(this,"ready");l(this,"isPaused",!1);l(this,"persist",(o,e)=>{if(this._status==="ready"&&(this.onPersist&&this.onPersist(this._state,o,e),this._idbId))return lo.set(this._idbId,this._state).catch(t=>console.error(t))});l(this,"applyPatch",(o,e)=>{let t=this._state,n=ap.Utils.deepMerge(this._state,o),r=this.cleanup(n,t,o,e);return this.onStateWillChange&&this.onStateWillChange(r,e),this._state=r,this.store.setState(this._state,!0),this.onStateDidChange&&this.onStateDidChange(this._state,e),this});l(this,"migrate",o=>o);l(this,"cleanup",(o,e,t,n)=>o);l(this,"onStateWillChange");l(this,"onStateDidChange");l(this,"patchState",(o,e)=>(this.applyPatch(o,e),this.onPatch&&this.onPatch(this._state,o,e),this));l(this,"replaceState",(o,e)=>{let t=this.cleanup(o,this._state,o,e);return this.onStateWillChange&&this.onStateWillChange(t,"replace"),this._state=t,this.store.setState(this._state,!0),this.onStateDidChange&&this.onStateDidChange(this._state,"replace"),this});l(this,"setState",(o,e=o.id)=>(this.pointer<this.stack.length-1&&(this.stack=this.stack.slice(0,this.pointer+1)),this.stack.push(k(S({},o),{id:e})),this.pointer=this.stack.length-1,this.applyPatch(o.after,e),this.onCommand&&this.onCommand(this._state,o,e),this.persist(o.after,e),this));l(this,"onReady");l(this,"onPatch");l(this,"onCommand");l(this,"onPersist");l(this,"onReplace");l(this,"onReset");l(this,"onResetHistory");l(this,"onUndo");l(this,"onRedo");l(this,"reset",()=>(this.onStateWillChange&&this.onStateWillChange(this.initialState,"reset"),this._state=this.initialState,this.store.setState(this._state,!0),this.resetHistory(),this.persist({},"reset"),this.onStateDidChange&&this.onStateDidChange(this._state,"reset"),this.onReset&&this.onReset(this._state),this));l(this,"replaceHistory",(o,e=o.length-1)=>(this.stack=o,this.pointer=e,this.onReplace&&this.onReplace(this._state),this));l(this,"resetHistory",()=>(this.stack=[],this.pointer=-1,this.onResetHistory&&this.onResetHistory(this._state),this));l(this,"undo",()=>{if(!this.isPaused){if(!this.canUndo)return this;let o=this.stack[this.pointer];this.pointer--,this.applyPatch(o.before,"undo"),this.persist(o.before,"undo")}return this.onUndo&&this.onUndo(this._state),this});l(this,"redo",()=>{if(!this.isPaused){if(!this.canRedo)return this;this.pointer++;let o=this.stack[this.pointer];this.applyPatch(o.after,"redo"),this.persist(o.after,"undo")}return this.onRedo&&this.onRedo(this._state),this});l(this,"setSnapshot",()=>(this._snapshot=S({},this._state),this));l(this,"forceUpdate",()=>{this.store.setState(this._state,!0)});this._idbId=e,this._state=We(o),this._snapshot=We(o),this.initialState=We(o),this.store=(0,dp.default)(()=>this._state),this.useStore=(0,lp.default)(this.store),this.ready=new Promise(r=>{let i="none";this._idbId?(i="restored",lo.get(this._idbId).then(d=>F(this,null,function*(){if(d){let a=d;if(t){let p=yield lo.get(e+"_version");p&&p<t&&(a=n?n(d,o,p):o,i="migrated")}yield lo.set(e+"_version",t||-1);let c=this._state.appState.isEmptyCanvas;a=this.migrate(a),this._state=We(a),this._snapshot=We(a),this._state.appState.isEmptyCanvas=c,this.store.setState(this._state,!0)}else yield lo.set(e+"_version",t||-1);this._status="ready",r(i)})).catch(d=>console.error(d))):(this._status="ready",r(i))}).then(r=>(this.onReady&&this.onReady(r),r))}pause(){this.isPaused=!0}resume(){this.isPaused=!1}get canUndo(){return this.pointer>-1}get canRedo(){return this.pointer<this.stack.length-1}get state(){return this._state}get status(){return this._status}get snapshot(){return this._snapshot}};var cp=require("@tldraw/core"),oa=require("@tldraw/vec");function pp(s,o,e){let{currentPageId:t}=s,n=o.map(h=>s.getShape(h)),r=n.map(h=>({id:h.id,point:[...h.point],bounds:x.getBounds(h)})),i=cp.Utils.getCommonBounds(r.map(({bounds:h})=>h)),d=i.minX+i.width/2,a=i.minY+i.height/2,c=Object.fromEntries(r.map(({id:h,point:m,bounds:g})=>[h,{prev:m,next:{["top"]:[m[0],i.minY],["centerVertical"]:[m[0],a-g.height/2],["bottom"]:[m[0],i.maxY-g.height],["left"]:[i.minX,m[1]],["centerHorizontal"]:[d-g.width/2,m[1]],["right"]:[i.maxX-g.width,m[1]]}[e]}])),{before:p,after:u}=x.mutateShapes(s.state,o,h=>c[h.id]?{point:c[h.id].next}:h,t,!1);return n.forEach(h=>{if(h.type==="group"){let m=oa.Vec.sub(u[h.id].point,p[h.id].point);h.children.forEach(g=>{let f=s.getShape(g);p[f.id]={point:f.point},u[f.id]={point:oa.Vec.add(f.point,m)}}),delete p[h.id],delete u[h.id]}}),{id:"align",before:{document:{pages:{[t]:{shapes:p}},pageStates:{[t]:{selectedIds:o}}}},after:{document:{pages:{[t]:{shapes:u}},pageStates:{[t]:{selectedIds:o}}}}}}function up(s,o){return{id:"change_page",before:{appState:{currentPageId:s.currentPageId}},after:{appState:{currentPageId:o}}}}var gp=require("@tldraw/core");function hp(s,o){var n;let e=s,t=new Set(o);for(;t.has(e);)e=(n=/^.*(\d+)$/.exec(e))!=null&&n[1]?e.replace(/(\d+)(?=\D?)$/,r=>(+r+1).toString()):`${e} 1`;return e}function mp(s,o,e){let t={shapes:{},bindings:{}},n={shapes:{},bindings:{}},r=[],i=new Set,d=new Set;o.filter(c=>!x.getShape(s,c,e).isLocked).forEach(c=>{i.add(c);let p=x.getShape(s,c,e);t.shapes[c]=p,n.shapes[c]=void 0,p.children!==void 0&&p.children.forEach(u=>{i.add(u);let h=x.getShape(s,u,e);t.shapes[u]=h,n.shapes[u]=void 0}),p.parentId!==e&&r.push(x.getShape(s,p.parentId,e)),p.assetId&&d.add(p.assetId)}),r.forEach(c=>{var p;o.includes(c.id)||(i.add(c.id),t.shapes[c.id]={children:c.children},n.shapes[c.id]={children:c.children.filter(u=>!o.includes(u))},((p=n.shapes[c.id])==null?void 0:p.children.length)===0&&(n.shapes[c.id]=void 0,t.shapes[c.id]=x.getShape(s,c.id,e)))});let a=x.getPage(s,e);return Object.values(a.bindings).filter(c=>i.has(c.fromId)||i.has(c.toId)).forEach(c=>{for(let p of[c.toId,c.fromId])if(n.shapes[p]===void 0){t.bindings[c.id]=c,n.bindings[c.id]=void 0;let u=a.shapes[p];u&&u.handles&&Object.values(u.handles).filter(h=>h.bindingId===c.id).forEach(h=>{var m,g,f,y,T,b;t.shapes[p]=k(S({},t.shapes[p]),{handles:k(S({},(m=t.shapes[p])==null?void 0:m.handles),{[h.id]:k(S({},(f=(g=t.shapes[p])==null?void 0:g.handles)==null?void 0:f[h.id]),{bindingId:c.id})})}),i.has(p)||(n.shapes[p]=k(S({},n.shapes[p]),{handles:k(S({},(y=n.shapes[p])==null?void 0:y.handles),{[h.id]:k(S({},(b=(T=n.shapes[p])==null?void 0:T.handles)==null?void 0:b[h.id]),{bindingId:void 0})})}))})}}),Object.values(s.document.pages).flatMap(c=>Object.values(c.shapes)).forEach(c=>{"assetId"in c&&c.assetId&&!i.has(c.id)&&d.delete(c.assetId)}),{before:t,after:n,assetsToRemove:Array.from(d)}}function fp(s,o,e=gp.Utils.uniqueId(),t="Page"){let{currentPageId:n}=s,r=Object.values(s.state.document.pages).sort((p,u)=>{var h,m;return((h=p.childIndex)!=null?h:0)-((m=u.childIndex)!=null?m:0)}),i=r[r.length-1],d=i!=null&&i.childIndex?(i==null?void 0:i.childIndex)+1:1,a={id:e,name:hp(t,r.map(p=>{var u;return(u=p.name)!=null?u:""})),childIndex:d,shapes:{},bindings:{}},c={id:e,selectedIds:[],camera:{point:o,zoom:1},editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0};return{id:"create_page",before:{appState:{currentPageId:n},document:{pages:{[e]:void 0},pageStates:{[e]:void 0}}},after:{appState:{currentPageId:a.id},document:{pages:{[e]:a},pageStates:{[e]:c}}}}}function ra(s,o,e=[]){let{currentPageId:t}=s,n={},r={};o.forEach(a=>{n[a.id]=void 0,r[a.id]=a});let i={},d={};return e.forEach(a=>{i[a.id]=void 0,d[a.id]=a}),{id:"create",before:{document:{pages:{[t]:{shapes:n,bindings:i}},pageStates:{[t]:{selectedIds:[...s.selectedIds]}}}},after:{document:{pages:{[t]:{shapes:r,bindings:d}},pageStates:{[t]:{selectedIds:o.map(a=>a.id)}}}}}}function Sp(s,o){let{currentPageId:e,document:{pages:t,pageStates:n}}=s,r=Object.values(t).sort((a,c)=>(a.childIndex||0)-(c.childIndex||0)),i=r.findIndex(a=>a.id===o),d;return o===e?i===r.length-1?d=r[r.length-2].id:d=r[i+1].id:d=e,{id:"delete_page",before:{appState:{currentPageId:o},document:{pages:{[o]:S({},t[o])},pageStates:{[o]:S({},n[o])}}},after:{appState:{currentPageId:d},document:{pages:{[o]:void 0},pageStates:{[o]:void 0}}}}}var Rg=(s,o)=>{let e=S({},s);return o.forEach(t=>e[t]=void 0),e};function sa(s,o,e=s.currentPageId){let{pageState:t,selectedIds:n,document:{assets:r}}=s,{before:i,after:d,assetsToRemove:a}=mp(s.state,o,e),c=Rg(r,a);return{id:"delete",before:{document:{assets:r,pages:{[e]:i},pageStates:{[e]:{selectedIds:[...s.selectedIds]}}}},after:{document:{assets:c,pages:{[e]:d},pageStates:{[e]:{selectedIds:n.filter(p=>!o.includes(p)),hoveredId:t.hoveredId&&o.includes(t.hoveredId)?void 0:t.hoveredId}}}}}}var bp=require("@tldraw/core"),ia=R(require("@tldraw/vec"));function Tp(s,o,e){let{currentPageId:t}=s,n=o.map(a=>s.getShape(a)),r=Object.fromEntries(Ag(n,e).map(a=>[a.id,a])),{before:i,after:d}=x.mutateShapes(s.state,o.filter(a=>r[a]!==void 0),a=>{var c;return{point:(c=r[a.id])==null?void 0:c.next}},t);return n.forEach(a=>{if(a.type==="group"){let c=ia.default.sub(d[a.id].point,i[a.id].point);a.children.forEach(p=>{let u=s.getShape(p);i[u.id]={point:u.point},d[u.id]={point:ia.default.add(u.point,c)}}),delete i[a.id],delete d[a.id]}}),{id:"distribute",before:{document:{pages:{[t]:{shapes:i}},pageStates:{[t]:{selectedIds:o}}}},after:{document:{pages:{[t]:{shapes:d}},pageStates:{[t]:{selectedIds:o}}}}}}function Ag(s,o){let e=s.map(i=>{let d=x.getShapeUtil(i);return{id:i.id,point:[...i.point],bounds:d.getBounds(i),center:d.getCenter(i)}}),t=e.length,n=bp.Utils.getCommonBounds(e.map(({bounds:i})=>i)),r=[];switch(o){case"horizontal":{let i=e.reduce((d,a)=>d+a.bounds.width,0);if(i>n.width){let d=e.sort((h,m)=>h.bounds.minX-m.bounds.minX)[0],a=e.sort((h,m)=>m.bounds.maxX-h.bounds.maxX)[0],c=e.filter(h=>h!==d&&h!==a).sort((h,m)=>h.center[0]-m.center[0]),p=(a.center[0]-d.center[0])/(t-1),u=d.center[0]+p;c.forEach(({id:h,point:m,bounds:g},f)=>{r.push({id:h,prev:m,next:[u+p*f-g.width/2,g.minY]})})}else{let d=e.sort((p,u)=>p.center[0]-u.center[0]),a=n.minX,c=(n.width-i)/(t-1);d.forEach(({id:p,point:u,bounds:h})=>{r.push({id:p,prev:u,next:[a,h.minY]}),a+=h.width+c})}break}case"vertical":{let i=e.reduce((d,a)=>d+a.bounds.height,0);if(i>n.height){let d=e.sort((h,m)=>h.bounds.minY-m.bounds.minY)[0],a=e.sort((h,m)=>m.bounds.maxY-h.bounds.maxY)[0],c=e.filter(h=>h!==d&&h!==a).sort((h,m)=>h.center[1]-m.center[1]),p=(a.center[1]-d.center[1])/(t-1),u=d.center[1]+p;c.forEach(({id:h,point:m,bounds:g},f)=>{r.push({id:h,prev:m,next:[g.minX,u+p*f-g.height/2]})})}else{let d=e.sort((p,u)=>p.center[1]-u.center[1]),a=n.minY,c=(n.height-i)/(t-1);d.forEach(({id:p,point:u,bounds:h})=>{r.push({id:p,prev:u,next:[h.minX,a]}),a+=h.height+c})}break}}return r}var Vo=require("@tldraw/core");function yp(s,o){let{currentPageId:e,pageState:{camera:t}}=s,n=s.document.pages[o],r=Vo.Utils.uniqueId(),i=Object.fromEntries([[n.id,r],...Object.keys(n.shapes).map(p=>[p,Vo.Utils.uniqueId()]),...Object.keys(n.bindings).map(p=>[p,Vo.Utils.uniqueId()])]),d=Object.fromEntries(Object.entries(n.shapes).map(([p,u])=>[i[p],k(S({},Vo.Utils.deepClone(u)),{id:i[p],parentId:i[u.parentId]})])),a=Object.fromEntries(Object.entries(n.bindings).map(([p,u])=>[i[p],k(S({},Vo.Utils.deepClone(u)),{id:i[u.id],fromId:i[u.fromId],toId:i[u.toId]})]));Object.values(n.bindings).forEach(p=>{let u=i[p.fromId],h=d[u].handles;h&&Object.values(h).forEach(f=>{f.bindingId===p.id&&(f.bindingId=i[p.id])});let m=i[p.toId],g=d[m].handles;g&&Object.values(g).forEach(f=>{f.bindingId===p.id&&(f.bindingId=i[p.id])})});let c=k(S({},n),{id:i[n.id],name:n.name+" Copy",shapes:d,bindings:a});return{id:"duplicate_page",before:{appState:{currentPageId:e},document:{pages:{[r]:void 0},pageStates:{[r]:void 0}}},after:{appState:{currentPageId:r},document:{pages:{[r]:c},pageStates:{[r]:k(S({},n),{id:r,selectedIds:[],camera:S({},t),editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0})}}}}}var Sn=require("@tldraw/core"),qs=require("@tldraw/vec");function wp(s,o,e){let{selectedIds:t,currentPageId:n,page:r,shapes:i}=s,d={shapes:{},bindings:{}},a={shapes:{},bindings:{}},c={},p=o.map(m=>s.getShape(m)).filter(m=>!o.includes(m.parentId));p.forEach(m=>{let g=Sn.Utils.uniqueId();if(d.shapes[g]=void 0,a.shapes[g]=k(S({},Sn.Utils.deepClone(m)),{id:g,childIndex:x.getChildIndexAbove(s.state,m.id,n)}),m.children&&(a.shapes[g].children=[]),m.parentId!==n){let f=s.getShape(m.parentId);d.shapes[f.id]=k(S({},d.shapes[f.id]),{children:f.children}),a.shapes[f.id]=k(S({},a.shapes[f.id]),{children:[...(a.shapes[f.id]||f).children,g]})}c[m.id]=g}),p.forEach(m=>{m.children&&m.children.forEach(g=>{var b,w;let f=s.getShape(g),y=Sn.Utils.uniqueId(),T=c[m.id];d.shapes[y]=void 0,a.shapes[y]=k(S({},Sn.Utils.deepClone(f)),{id:y,parentId:T,childIndex:x.getChildIndexAbove(s.state,f.id,n)}),c[g]=y,(w=(b=a.shapes[c[m.id]])==null?void 0:b.children)==null||w.push(y)})});let u=new Set(Object.keys(c));Object.values(r.bindings).filter(m=>u.has(m.fromId)||u.has(m.toId)).forEach(m=>{if(u.has(m.fromId))if(u.has(m.toId)){let g=Sn.Utils.uniqueId(),f=k(S({},Sn.Utils.deepClone(m)),{id:g,fromId:c[m.fromId],toId:c[m.toId]});d.bindings[g]=void 0,a.bindings[g]=f;let y=a.shapes[f.fromId];Object.values(y.handles).forEach(T=>{T.bindingId===m.id&&(T.bindingId=g)})}else{let g=a.shapes[c[m.fromId]];Object.values(g.handles).forEach(f=>{f.bindingId===m.id&&(f.bindingId=void 0)})}});let h=Object.values(a.shapes);if(e){let m=Sn.Utils.getCommonBounds(h.map(f=>x.getBounds(f))),g=Sn.Utils.getBoundsCenter(m);h.forEach(f=>{!f.point||(f.point=qs.Vec.sub(e,qs.Vec.sub(g,f.point)))})}else{let m=[16,16];h.forEach(g=>{!g.point||(g.point=qs.Vec.add(g.point,m))})}return h.forEach(m=>{m.isLocked&&(m.isLocked=!1)}),{id:"duplicate",before:{document:{pages:{[n]:d},pageStates:{[n]:{selectedIds:t}}}},after:{document:{pages:{[n]:a},pageStates:{[n]:{selectedIds:Array.from(u.values()).map(m=>c[m])}}}}}}var Gt=require("@tldraw/core");function aa(s,o,e){let{selectedIds:t,currentPageId:n,page:{shapes:r}}=s,i=o.map(u=>x.getBounds(r[u])),d=o.length===1&&r[o[0]].type==="group",a=Gt.Utils.getCommonBounds(i),{before:c,after:p}=x.mutateShapes(s.state,o,u=>{let h=x.getBounds(u),m=u.parentId!==n;switch(e){case"horizontal":{if(m&&!d){let f=x.getBounds(r[u.parentId]),T=Gt.Utils.getRelativeTransformedBoundingBox(a,a,f,!0,!1).minX-f.minX;return x.getShapeUtil(u).transform(u,k(S({},h),{minX:h.minX+T,maxX:h.maxX+T}),{type:Gt.TLBoundsCorner.TopLeft,scaleX:1,scaleY:1,initialShape:u,transformOrigin:[.5,.5]})}let g=Gt.Utils.getRelativeTransformedBoundingBox(a,a,h,!0,!1);return x.getShapeUtil(u).transform(u,g,{type:Gt.TLBoundsCorner.TopLeft,scaleX:-1,scaleY:1,initialShape:u,transformOrigin:[.5,.5]})}case"vertical":{if(m&&!d){let f=x.getBounds(r[u.parentId]),T=Gt.Utils.getRelativeTransformedBoundingBox(a,a,f,!1,!0).minY-f.minY;return x.getShapeUtil(u).transform(u,k(S({},h),{minY:h.minY+T,maxY:h.maxY+T}),{type:Gt.TLBoundsCorner.TopLeft,scaleX:1,scaleY:1,initialShape:u,transformOrigin:[.5,.5]})}let g=Gt.Utils.getRelativeTransformedBoundingBox(a,a,h,!1,!0);return x.getShapeUtil(u).transform(u,g,{type:Gt.TLBoundsCorner.TopLeft,scaleX:1,scaleY:-1,initialShape:u,transformOrigin:[.5,.5]})}}},n,!0);return{id:"flip",before:{document:{pages:{[n]:{shapes:c}},pageStates:{[n]:{selectedIds:t}}}},after:{document:{pages:{[n]:{shapes:p}},pageStates:{[n]:{selectedIds:o}}}}}}var kp=require("@tldraw/core");function xp(s,o,e,t){var v,P;if(o.length<2)return;let n={},r={},i={},d={},a=[...o],c=[],p=[],u=[];for(let C of o){let B=s.getShape(C);if(!B.isLocked)if(B.children===void 0)c.push(B);else{let I=B.children.filter(D=>!s.getShape(D).isLocked);u.push(B),a.push(...I),c.push(...I.map(D=>s.getShape(D)).filter(Boolean))}}if(c.every(C=>C.parentId===c[0].parentId)&&c[0].parentId!==t&&((v=s.getShape(c[0].parentId).children)==null?void 0:v.length)===a.length)return;let h=x.flattenPage(s.state,t),m=Object.fromEntries(c.map(C=>[C.id,h.indexOf(C)])),g=c.sort((C,B)=>m[C.id]-m[B.id]),f=t,y=(g.filter(C=>C.parentId===t)[0]||g[0]).childIndex,T=kp.Utils.getCommonBounds(c.map(C=>x.getBounds(C)));for(n[e]=void 0,r[e]=x.getShapeUtil("group").create({id:e,childIndex:y,parentId:f,point:[T.minX,T.minY],size:[T.width,T.height],children:g.map(C=>C.id)}),g.forEach((C,B)=>{if(C.parentId!==t){let I=s.getShape(C.parentId);u.push(I)}n[C.id]=k(S({},n[C.id]),{parentId:C.parentId,childIndex:C.childIndex}),r[C.id]=k(S({},r[C.id]),{parentId:e,childIndex:B+1})});u.length>0;){let C=u.pop();if(!C)break;let B=(((P=n[C.id])==null?void 0:P.children)||C.children).filter(I=>I&&!(a.includes(I)||p.includes(I)));B.length===0?(n[C.id]=C,r[C.id]=void 0,C.parentId!==t&&(p.push(C.id),u.push(s.getShape(C.parentId)))):(n[C.id]=k(S({},n[C.id]),{children:C.children}),r[C.id]=k(S({},r[C.id]),{children:B}))}let{bindings:b}=s,w=new Set(p);return b.forEach(C=>{for(let B of[C.toId,C.fromId])if(w.has(B)){i[C.id]=C,d[C.id]=void 0;let I=s.getShape(B);I.handles&&Object.values(I.handles).filter(D=>D.bindingId===C.id).forEach(D=>{var A,O;n[B]=k(S({},n[B]),{handles:k(S({},(A=n[B])==null?void 0:A.handles),{[D.id]:{bindingId:C.id}})}),p.includes(B)||(r[B]=k(S({},r[B]),{handles:k(S({},(O=r[B])==null?void 0:O.handles),{[D.id]:{bindingId:void 0}})}))})}}),{id:"group",before:{document:{pages:{[t]:{shapes:n,bindings:i}},pageStates:{[t]:{selectedIds:o}}}},after:{document:{pages:{[t]:{shapes:r,bindings:i}},pageStates:{[t]:{selectedIds:[e]}}}}}}var vp=require("@tldraw/core"),la=require("@tldraw/vec");function Ip(s,o,e,t,n){let{page:r}=s,i={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},d={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},a=new Set,c=new Set;o.map(b=>s.getShape(b,t)).filter(b=>!b.isLocked).forEach(b=>{a.add(b.id),c.add(b),b.children!==void 0&&b.children.forEach(w=>{a.add(w),c.add(s.getShape(w,t))})});let p=x.getTopChildIndex(s.state,n),u=Array.from(c.values());u.forEach((b,w)=>{if(i.before.shapes[b.id]=b,i.after.shapes[b.id]=void 0,d.before.shapes[b.id]=void 0,d.after.shapes[b.id]=b,!a.has(b.parentId)&&(d.after.shapes[b.id]=k(S({},b),{parentId:n,childIndex:p+w}),b.parentId!==t)){let v=s.getShape(b.parentId,t);i.before.shapes[v.id]={children:v.children},i.after.shapes[v.id]={children:v.children.filter(P=>P!==b.id)}}}),Object.values(r.bindings).filter(b=>a.has(b.fromId)||a.has(b.toId)).forEach(b=>{i.before.bindings[b.id]=b,i.after.bindings[b.id]=void 0;let w=s.getShape(b.fromId,t);if(a.has(b.fromId)&&a.has(b.toId))d.before.bindings[b.id]=void 0,d.after.bindings[b.id]=b;else if(a.has(b.fromId)){let P=s.getShape(b.fromId,t),B=Object.values(w.handles).find(D=>D.bindingId===b.id).id,I=d.after.shapes[P.id];I.handles=k(S({},I.handles),{[B]:k(S({},I.handles[B]),{bindingId:void 0})})}else{let P=s.getShape(b.fromId,t),C=Object.values(w.handles).find(B=>B.bindingId===b.id);i.before.shapes[P.id]={handles:{[C.id]:{bindingId:b.id}}},i.after.shapes[P.id]={handles:{[C.id]:{bindingId:void 0}}}}});let h=s.state.document.pageStates[n],m=vp.Utils.getCommonBounds(u.map(b=>x.getBounds(b))),g=x.getCameraZoom(e.width<e.height?(e.width-128)/m.width:(e.height-128)/m.height),f=(e.width-m.width*g)/2/g,y=(e.height-m.height*g)/2/g,T=la.Vec.toFixed(la.Vec.add([-m.minX,-m.minY],[f,y]));return{id:"move_to_page",before:{appState:{currentPageId:t},document:{pages:{[t]:i.before,[n]:d.before},pageStates:{[t]:{selectedIds:o},[n]:{selectedIds:h.selectedIds,camera:h.camera}}}},after:{appState:{currentPageId:n},document:{pages:{[t]:i.after,[n]:d.after},pageStates:{[t]:{selectedIds:[]},[n]:{selectedIds:o,camera:{zoom:g,point:T}}}}}}}function Cp(s,o,e){let{pages:t}=s.document,n=t[o],r=Object.values(t).sort((a,c)=>{var p,u;return((p=a.childIndex)!=null?p:0)-((u=c.childIndex)!=null?u:0)}),i=r.indexOf(n),d=[...r];return d.splice(i,1),d.splice(e>i?e-1:e,0,n),{id:"move_page",before:{document:{pages:Object.fromEntries(r.map(a=>[a.id,{childIndex:a.childIndex}]))}},after:{document:{pages:Object.fromEntries(d.map((a,c)=>[a.id,{childIndex:c}]))}}}}function Er(s,o,e){let{currentPageId:t,page:n}=s,r=new Set(o.map(p=>s.getShape(p).parentId)),i={before:{},after:{}},d,a,c;return Array.from(r.values()).forEach(p=>{let u=[];if(p===n.id)u=Object.values(n.shapes).sort((g,f)=>g.childIndex-f.childIndex);else{let g=s.getShape(p);if(!g.children)throw Error("No children in parent!");u=g.children.map(f=>s.getShape(f)).sort((f,y)=>f.childIndex-y.childIndex)}let h=u.map(g=>g.id),m=o.filter(g=>h.includes(g)).map(g=>h.indexOf(g)).sort((g,f)=>g-f);if(m.length!==h.length)switch(e){case"toBack":{for(let g=0;g<h.length;g++)if(!m.includes(g)){d=g;break}a=u[d].childIndex,c=a/(m.length+1),i=x.mutateShapes(s.state,m.map(g=>u[g].id).reverse(),(g,f)=>({childIndex:a-(f+1)*c}),t);break}case"toFront":{for(let g=h.length-1;g>=0;g--)if(!m.includes(g)){d=g;break}a=u[d].childIndex,c=1,i=x.mutateShapes(s.state,m.map(g=>u[g].id),(g,f)=>({childIndex:a+(f+1)}),t);break}case"backward":{let g={};for(let f=h.length-1;f>=0;f--)if(m.includes(f)){for(let y=f;y>=0;y--)if(!m.includes(y)){let T=u[y].childIndex,b,w;y===0?(b=T/2,w=T/2/(f-y+1)):(b=u[y-1].childIndex,w=(T-b)/(f-y+1),b+=w);for(let v=0;v<f-y;v++)g[u[y+v+1].id]=b+w*v;break}}Object.values(g).length>0&&(i=x.mutateShapes(s.state,m.map(f=>u[f].id),f=>({childIndex:g[f.id]}),t));break}case"forward":{let g={};for(let f=0;f<h.length;f++)if(m.includes(f)){for(let y=f;y<h.length;y++)if(!m.includes(y)){a=u[y].childIndex;let T=y===h.length-1?1:(u[y+1].childIndex-a)/(y-f+1);for(let b=0;b<y-f;b++)g[u[f+b].id]=a+T*(b+1);break}}Object.values(g).length>0&&(i=x.mutateShapes(s.state,m.map(f=>u[f].id),f=>({childIndex:g[f.id]}),t));break}}}),{id:"move",before:{document:{pages:{[t]:{shapes:i.before}},pageStates:{[t]:{selectedIds:o}}}},after:{document:{pages:{[t]:{shapes:i.after}},pageStates:{[t]:{selectedIds:o}}}}}}function Dp(s,o,e){let{page:t}=s;return{id:"rename_page",before:{document:{pages:{[o]:{name:t.name}}}},after:{document:{pages:{[o]:{name:e}}}}}}function da(s,o,e){let{currentPageId:t}=s,{before:n,after:r}=x.mutateShapes(s.state,o,i=>{var d,a;return(a=(d=s.getShapeUtil(i)).onDoubleClickBoundsHandle)==null?void 0:a.call(d,i)},e);return{id:"reset_bounds",before:{document:{pages:{[t]:{shapes:n}},pageStates:{[t]:{selectedIds:o}}}},after:{document:{pages:{[t]:{shapes:r}},pageStates:{[t]:{selectedIds:o}}}}}}var ca=require("@tldraw/core");var Lg=Math.PI*2;function Pp(s,o,e=-Lg/4){let{currentPageId:t}=s,n={},r={},i=o.flatMap(a=>{let c=s.getShape(a);return c.children?c.children.map(p=>s.getShape(p)):c}).filter(a=>!a.isLocked),d=ca.Utils.getBoundsCenter(ca.Utils.getCommonBounds(i.map(a=>x.getBounds(a))));return i.forEach(a=>{let c=x.getRotatedShapeMutation(a,x.getCenter(a),d,e);!c||(n[a.id]=x.getBeforeShape(a,c),r[a.id]=c)}),{id:"rotate",before:{document:{pages:{[t]:{shapes:n}},pageStates:{[t]:{selectedIds:o}}}},after:{document:{pages:{[t]:{shapes:r}},pageStates:{[t]:{selectedIds:o}}}}}}var Br=require("@tldraw/core");function Mp(s,o,e){let{currentPageId:t,selectedIds:n}=s,r=o.map(u=>s.getShape(u)),i=r.map(u=>x.getBounds(u)),d=Br.Utils.getCommonBounds(i),a=o.flatMap(u=>{let h=s.getShape(u);return h.children?h.children:h.id}).filter(u=>!s.getShape(u).isLocked),{before:c,after:p}=x.mutateShapes(s.state,a,u=>{let h=x.getBounds(u);switch(e){case"horizontal":{let m=k(S({},h),{minX:d.minX,maxX:d.maxX,width:d.width});return x.getShapeUtil(u).transformSingle(u,m,{type:Br.TLBoundsCorner.TopLeft,scaleX:m.width/h.width,scaleY:1,initialShape:u,transformOrigin:[.5,.5]})}case"vertical":{let m=k(S({},h),{minY:d.minY,maxY:d.maxY,height:d.height});return x.getShapeUtil(u).transformSingle(u,m,{type:Br.TLBoundsCorner.TopLeft,scaleX:1,scaleY:m.height/h.height,initialShape:u,transformOrigin:[.5,.5]})}}},t);return r.forEach(u=>{u.type==="group"&&(delete c[u.id],delete p[u.id])}),{id:"stretch",before:{document:{pages:{[t]:{shapes:c}},pageStates:{[t]:{selectedIds:n}}}},after:{document:{pages:{[t]:{shapes:p}},pageStates:{[t]:{selectedIds:o}}}}}}var Js=require("@tldraw/vec");function Ep(s,o,e){let{currentPageId:t,selectedIds:n}=s,r=o.flatMap(a=>x.getDocumentBranch(s.state,a,t)).filter(a=>!s.getShape(a).isLocked),i={},d={};return r.map(a=>s.getShape(a)).filter(a=>!a.isLocked).forEach(a=>{i[a.id]={style:S({},Object.fromEntries(Object.keys(e).map(c=>[c,a.style[c]])))},d[a.id]={style:e},a.type==="text"&&(i[a.id].point=a.point,d[a.id].point=Js.Vec.toFixed(Js.Vec.add(a.point,Js.Vec.sub(s.getShapeUtil(a).getCenter(a),s.getShapeUtil(a).getCenter(k(S({},a),{style:S(S({},a.style),e)}))))))}),{id:"style",before:{document:{pages:{[t]:{shapes:i}},pageStates:{[t]:{selectedIds:n}}},appState:{currentStyle:S({},s.appState.currentStyle)}},after:{document:{pages:{[t]:{shapes:d}},pageStates:{[t]:{selectedIds:o}}},appState:{currentStyle:e}}}}function Bp(s,o,e){let{currentPageId:t,selectedIds:n}=s,r=Object.fromEntries(o.map(d=>{var a;return[d,{decorations:{[e]:(a=s.getShape(d).decorations)==null?void 0:a[e]}}]})),i=Object.fromEntries(o.filter(d=>!s.getShape(d).isLocked).map(d=>{var a;return[d,{decorations:{[e]:(a=s.getShape(d).decorations)!=null&&a[e]?void 0:"arrow"}}]}));return{id:"toggle_decorations",before:{document:{pages:{[t]:{shapes:r}},pageStates:{[t]:{selectedIds:n}}}},after:{document:{pages:{[t]:{shapes:i}},pageStates:{[t]:{selectedIds:o}}}}}}function Qs(s,o,e){let{currentPageId:t}=s,n=o.map(a=>s.getShape(a)).filter(a=>e==="isLocked"?!0:!a.isLocked),r=n.every(a=>a[e]),i={},d={};return n.forEach(a=>{i[a.id]={[e]:a[e]},d[a.id]={[e]:!r}}),{id:"toggle",before:{document:{pages:{[t]:{shapes:i}},pageStates:{[t]:{selectedIds:o}}}},after:{document:{pages:{[t]:{shapes:d}},pageStates:{[t]:{selectedIds:o}}}}}}var pa=require("@tldraw/vec");function Rp(s,o,e){let{currentPageId:t,selectedIds:n}=s;s.rotationInfo.selectedIds=[...n];let r={shapes:{},bindings:{}},i={shapes:{},bindings:{}},d=o.flatMap(p=>{let u=s.getShape(p);return u.children?u.children:u.id}).filter(p=>!s.getShape(p).isLocked),a=x.mutateShapes(s.state,d,p=>({point:pa.Vec.toFixed(pa.Vec.add(p.point,e))}),t);return r.shapes=a.before,i.shapes=a.after,x.getBindings(s.state,t).filter(p=>o.includes(p.fromId)&&!o.includes(p.toId)).forEach(p=>{r.bindings[p.id]=p,i.bindings[p.id]=void 0;for(let u of[p.toId,p.fromId]){let h=s.getShape(u);!h.handles||Object.values(h.handles).filter(m=>m.bindingId===p.id).forEach(m=>{var g,f;r.shapes[u]=k(S({},r.shapes[u]),{handles:k(S({},(g=r.shapes[u])==null?void 0:g.handles),{[m.id]:{bindingId:p.id}})}),i.shapes[u]=k(S({},i.shapes[u]),{handles:k(S({},(f=i.shapes[u])==null?void 0:f.handles),{[m.id]:{bindingId:void 0}})})})}}),{id:"translate",before:{document:{pages:{[t]:r},pageStates:{[t]:{selectedIds:o}}}},after:{document:{pages:{[t]:i},pageStates:{[t]:{selectedIds:o}}}}}}function Ap(s,o,e,t){let{bindings:n}=s,r={},i={},d={},a={},c=o,p=o.filter(u=>!e.find(h=>h.id===u));return e.filter(u=>!u.isLocked).forEach(u=>{let h=[],m=[];r[u.id]=u,i[u.id]=void 0,u.children.forEach(b=>{p.push(b);let w=s.getShape(b,t);h.push(w)});let g=u.childIndex,y=(x.getChildIndexAbove(s.state,u.id,t)-g)/h.length;h.sort((b,w)=>b.childIndex-w.childIndex).forEach((b,w)=>{r[b.id]={parentId:b.parentId,childIndex:b.childIndex},i[b.id]={parentId:t,childIndex:g+y*w}}),n.filter(b=>b.toId===u.id||b.fromId===u.id).forEach(b=>{for(let w of[b.toId,b.fromId])if(i[w]===void 0){d[b.id]=b,a[b.id]=void 0;let v=s.getShape(w,t);v.handles&&Object.values(v.handles).filter(P=>P.bindingId===b.id).forEach(P=>{var C,B;r[w]=k(S({},r[w]),{handles:k(S({},(C=r[w])==null?void 0:C.handles),{[P.id]:{bindingId:b.id}})}),m.includes(w)||(i[w]=k(S({},i[w]),{handles:k(S({},(B=i[w])==null?void 0:B.handles),{[P.id]:{bindingId:void 0}})}))})}})}),{id:"ungroup",before:{document:{pages:{[t]:{shapes:r,bindings:d}},pageStates:{[t]:{selectedIds:c}}}},after:{document:{pages:{[t]:{shapes:i,bindings:d}},pageStates:{[t]:{selectedIds:p}}}}}}function ua(s,o,e){let t=o.map(r=>r.id),n=x.mutateShapes(s.state,t.filter(r=>!s.getShape(r,e).isLocked),(r,i)=>o[i],e);return{id:"update",before:{document:{pages:{[e]:{shapes:n.before}}}},after:{document:{pages:{[e]:{shapes:n.after}}}}}}function Lp(s,o,e){let{currentPageId:t,selectedIds:n}=s,r=o.map(c=>s.getShape(c)).filter(c=>e.isLocked?!0:!c.isLocked),i={},d={},a=Object.keys(e);return r.forEach(c=>{i[c.id]=Object.fromEntries(a.map(p=>[p,c[p]])),d[c.id]=e}),{id:"set_props",before:{document:{pages:{[t]:{shapes:i}},pageStates:{[t]:{selectedIds:n}}}},after:{document:{pages:{[t]:{shapes:d}},pageStates:{[t]:{selectedIds:n}}}}}}var vt=require("@tldraw/core"),co=require("@tldraw/vec");function Hp(s,o,e={}){let{currentPageId:t}=s,{point:n,select:r,overwrite:i}=e,d=s.document.pages[t],a={shapes:{},bindings:{}},c={},p={shapes:{},bindings:{}};if(i){for(let h of o.shapes)a.shapes[h.id]=d.shapes[h.id],p.shapes[h.id]=h;if(o.bindings)for(let h of o.bindings)a.bindings[h.id]=d.bindings[h.id],p.bindings[h.id]=h;if(o.assets)for(let h of o.assets)c[h.id]=h}else{let h={},m=x.getTopChildIndex(s.state,t),g=o.shapes.sort((T,b)=>T.childIndex-b.childIndex).map(T=>{let b=vt.Utils.uniqueId();return h[T.id]=b,k(S({},vt.Utils.deepClone(T)),{id:b})}),f=new Set;for(;g.length>0;){let T=g.shift();if(!T)break;if(f.add(T.id),T.parentId==="currentPageId")T.parentId=t,T.childIndex=m++;else{T.parentId=h[T.parentId];let b=p.shapes[T.parentId];if(!b){f.has(T.id)&&(T.parentId="currentPageId"),g.push(T);continue}b.children.push(T.id)}T.children&&(T.children=[]),a.shapes[T.id]=void 0,p.shapes[T.id]=T}Object.values(p.shapes).forEach(T=>{T.children&&T.children.length===0&&(delete a.shapes[T.id],delete p.shapes[T.id])}),o.bindings&&o.bindings.forEach(T=>{let b=vt.Utils.uniqueId();h[T.id]=b;let w=h[T.toId],v=h[T.fromId];if(!w||!v){if(v){let I=p.shapes[v].handles;I&&Object.values(I).forEach(D=>{D.bindingId===T.id&&(D.bindingId=void 0)})}if(w){let I=p.shapes[w].handles;I&&Object.values(I).forEach(D=>{D.bindingId===T.id&&(D.bindingId=void 0)})}return}let P=p.shapes[v].handles;P&&Object.values(P).forEach(I=>{I.bindingId===T.id&&(I.bindingId=b)}),p.shapes[w].handles&&Object.values(p.shapes[w].handles).forEach(I=>{I.bindingId===T.id&&(I.bindingId=b)});let B=k(S({},vt.Utils.deepClone(T)),{id:b,toId:w,fromId:v});a.bindings[B.id]=void 0,p.bindings[B.id]=B});let y=Object.values(p.shapes);if(y.length>0)if(n){let T=vt.Utils.getCommonBounds(y.map(w=>x.getBounds(w))),b=vt.Utils.getBoundsCenter(T);y.forEach(w=>{!w.point||(w.point=co.Vec.sub(n,co.Vec.sub(b,w.point)))})}else{let T=vt.Utils.getCommonBounds(y.map(x.getBounds));if(!(vt.Utils.boundsContain(s.viewport,T)||vt.Utils.boundsCollide(s.viewport,T))){let b=co.Vec.toFixed(s.getPagePoint(s.centerPoint)),w=vt.Utils.centerBounds(T,b),v=co.Vec.sub(vt.Utils.getBoundsCenter(w),vt.Utils.getBoundsCenter(T));y.forEach(P=>{P.point=co.Vec.toFixed(co.Vec.add(P.point,v))})}}if(o.assets)for(let T of o.assets)c[T.id]=T}let u=document.createElement("textarea");return Object.values(p.shapes).forEach(h=>{"text"in h&&(u.innerHTML=h.text,h.text=u.value),"label"in h&&(u.innerHTML=h.label,h.label=u.value)}),u.remove(),{id:"insert",before:{document:{pages:{[t]:a},pageStates:{[t]:{selectedIds:[...s.selectedIds]}}}},after:{document:{pages:{[t]:p},assets:c,pageStates:{[t]:{selectedIds:r?Object.keys(p.shapes):[...s.selectedIds]}}}}}}var $o={};Ma($o,{fileToBase64:()=>Sa,fileToText:()=>ba,getImageSizeFromSrc:()=>Ta,getVideoSizeFromSrc:()=>ya,loadFileHandle:()=>ha,migrate:()=>nn,openAssetsFromFileSystem:()=>fa,openFromFileSystem:()=>ga,saveFileHandle:()=>ma,saveToFileSystem:()=>ti});function nn(s,o){let{document:e,settings:t}=s,{version:n=0}=e;"assets"in e||(e.assets={});let r=new Set;return Object.values(e.pages).forEach(i=>Object.values(i.shapes).forEach(d=>{let{parentId:a,children:c,assetId:p}=d;p&&r.add(p),a!==i.id&&!i.shapes[a]&&(console.warn("Encountered a shape with a missing parent!"),d.parentId=i.id),d.type==="group"&&c&&c.forEach(u=>{i.shapes[u]||(console.warn("Encountered a parent with a missing child!",d.id,u),c==null||c.splice(c.indexOf(u),1))})})),Object.keys(e.assets).forEach(i=>{r.has(i)||delete e.assets[i]}),n!==o&&(n<14&&Object.values(e.pages).forEach(i=>{Object.values(i.shapes).filter(d=>d.type==="text").forEach(d=>d.style.font==="script")}),n<=13&&Object.values(e.pages).forEach(i=>{Object.values(i.bindings).forEach(d=>{Object.assign(d,d.meta)}),Object.values(i.shapes).forEach(d=>{Object.entries(d.style).forEach(([a,c])=>{typeof c=="string"&&(d.style[a]=c.toLowerCase())}),d.type==="arrow"&&d.decorations&&Object.entries(d.decorations).forEach(([a,c])=>{c==="Arrow"&&(d.decorations=k(S({},d.decorations),{[a]:"arrow"}))})})}),n<=13.1&&(e.name="New Document"),n<15&&(e.assets={}),Object.values(e.pages).forEach(i=>{Object.values(i.shapes).forEach(d=>{n<15.2&&(d.type==="image"||d.type==="video")&&(d.style.isFilled=!0),n<15.3&&(d.type==="rectangle"||d.type==="triangle"||d.type==="ellipse"||d.type==="arrow")&&(d.label=d.text||"",d.labelPoint=[.5,.5])})}),n<15.4&&(t.dockPosition="bottom"),n<15.5&&(t.exportBackground="transparent")),Object.values(e.pageStates).forEach(i=>{i.selectedIds=i.selectedIds.filter(d=>e.pages[i.id].shapes[d]!==void 0),i.bindingId=void 0,i.editingId=void 0,i.hoveredId=void 0,i.pointedId=void 0}),e.version=o,s}var po=require("browser-fs-access"),ei=require("idb-keyval");var zp={mode:"readwrite"},zg=s=>F(void 0,null,function*(){return(yield s.queryPermission(zp))==="granted"||(yield s.requestPermission(zp))==="granted"});function ha(){return F(this,null,function*(){if(typeof Window=="undefined"||!("_location"in Window))return;let s=yield(0,ei.get)(`Tldraw_file_handle_${window.location.origin}`);return s||null})}function ma(s){return F(this,null,function*(){return(0,ei.set)(`Tldraw_file_handle_${window.location.origin}`,s)})}function ti(s,o,e){return F(this,null,function*(){let t={name:s.name||"New Document",fileHandle:o!=null?o:null,document:s},n=JSON.stringify(t,null,2),r=new Blob([n],{type:"application/vnd.Tldraw+json"});if(o&&!(yield zg(o)))return null;let i=!po.supported&&(e==null?void 0:e.length)?e:`${t.name}`,d=yield(0,po.fileSave)(r,{fileName:`${i}${as}`,description:"Tldraw File",extensions:[`${as}`]},o);return yield ma(d),d})}function ga(){return F(this,null,function*(){var n;let s=yield(0,po.fileOpen)({description:"Tldraw File",extensions:[`${as}`],multiple:!1});if(!s)return null;let o=yield new Promise(r=>{let i=new FileReader;i.onloadend=()=>{i.readyState===FileReader.DONE&&r(i.result)},i.readAsText(s,"utf8")}),e=JSON.parse(o);if("tldrawFileFormatVersion"in e)return alert("This file was created in a newer version of tldraw. Please visit beta.tldraw.com to open it."),null;let t=(n=s.handle)!=null?n:null;return yield ma(t),{fileHandle:t,document:e.document}})}function fa(){return F(this,null,function*(){return(0,po.fileOpen)({description:"Image or Video",extensions:[...ls,...ds],multiple:!0})})}function Sa(s){return new Promise((o,e)=>{if(s){let t=new FileReader;t.readAsDataURL(s),t.onload=()=>o(t.result),t.onerror=n=>e(n),t.onabort=n=>e(n)}})}function ba(s){return new Promise((o,e)=>{if(s){let t=new FileReader;t.readAsText(s),t.onload=()=>o(t.result),t.onerror=n=>e(n),t.onabort=n=>e(n)}})}function Ta(s){return new Promise((o,e)=>{let t=new Image;t.onload=()=>o([t.width,t.height]),t.onerror=()=>e(new Error("Could not get image size")),t.src=s})}function ya(s){return new Promise((o,e)=>{let t=document.createElement("video");t.onloadedmetadata=()=>o([t.videoWidth,t.videoHeight]),t.onerror=()=>e(new Error("Could not get video size")),t.src=s})}Vr($o,require("browser-fs-access"));var on=require("@tldraw/core"),ce=require("@tldraw/vec");var fe=class{constructor(o){this.app=o}};var ni=class extends fe{constructor(e,t,n,r=!1){var p,u,h;super(e);l(this,"type","arrow");l(this,"performanceMode");l(this,"status","translatingHandle");l(this,"newStartBindingId",on.Utils.uniqueId());l(this,"draggedBindingId",on.Utils.uniqueId());l(this,"didBind",!1);l(this,"initialShape");l(this,"handleId");l(this,"bindableShapeIds");l(this,"initialBinding");l(this,"startBindingShapeId");l(this,"isCreate");l(this,"start",()=>{});l(this,"update",()=>{var C,B,I;let{initialShape:e}=this,{currentPoint:t,shiftKey:n,altKey:r,metaKey:i,currentGrid:d,settings:{showGrid:a}}=this.app,c=this.app.getShape(e.id);if(c.isLocked)return;let{handles:p}=e,u=this.handleId;if(!p[u].canBind)return;let h=ce.Vec.sub(t,ce.Vec.add(p[u].point,e.point));if(n){let D=r?ce.Vec.med(p.start.point,p.end.point):p[u==="start"?"end":"start"].point,A=p[u].point,O=ce.Vec.add(A,h),L=ce.Vec.angle(D,O),se=ce.Vec.rotWith(O,D,on.Utils.snapAngleToSegments(L,24)-L);h=ce.Vec.add(h,ce.Vec.sub(se,O))}let m=ce.Vec.add(p[u].point,h),g={[u]:k(S({},p[u]),{point:a?ce.Vec.snap(m,d):ce.Vec.toFixed(m),bindingId:void 0})},f=tn["arrow"],y=(C=f.onHandleChange)==null?void 0:C.call(f,e,g);if(!y)return;let T={shape:on.Utils.deepMerge(c,y),bindings:{}},b,w=T.shape.handles[this.handleId],v=T.shape.handles[this.handleId==="start"?"end":"start"];if(this.startBindingShapeId){let D,A=this.app.page.shapes[this.startBindingShapeId],O=x.getShapeUtil(A),L=O.getCenter(A),se=T.shape.handles.start,J=T.shape.handles.end,ne=ce.Vec.add(se.point,T.shape.point);ce.Vec.isEqual(ne,L)&&ne[1]++;let ie=L,et=O.hitTestPoint(A,t),sn=ce.Vec.uni(ce.Vec.sub(ne,ie)),bn=this.app.getBinding(this.newStartBindingId)!==void 0;!i&&!O.hitTestPoint(A,ce.Vec.add(T.shape.point,J.point))&&(D=this.findBindingPoint(c,A,"start",this.newStartBindingId,L,ie,sn,et)),D&&!bn?(this.didBind=!0,T.bindings[this.newStartBindingId]=D,T.shape=on.Utils.deepMerge(T.shape,{handles:{start:{bindingId:D.id}}})):!D&&bn&&(this.didBind=!1,T.bindings[this.newStartBindingId]=void 0,T.shape=on.Utils.deepMerge(e,{handles:{start:{bindingId:void 0}}}))}if(!i){let D=ce.Vec.add(v.point,T.shape.point),A=ce.Vec.add(w.point,T.shape.point),O=ce.Vec.uni(ce.Vec.sub(A,D)),L=ce.Vec.add(T.shape.point,T.shape.handles.start.point),se=ce.Vec.add(T.shape.point,T.shape.handles.end.point),J=this.bindableShapeIds.map(ne=>this.app.page.shapes[ne]).sort((ne,ie)=>ie.childIndex-ne.childIndex).filter(ne=>{if(ne.isLocked)return!1;let ie=x.getShapeUtil(ne);return![L,se].every(et=>ie.hitTestPoint(ne,et))});for(let ne of J)if(b=this.findBindingPoint(c,ne,this.handleId,this.draggedBindingId,A,D,O,r),b)break}if(b)this.didBind=!0,T.bindings[this.draggedBindingId]=b,T.shape=on.Utils.deepMerge(T.shape,{handles:{[this.handleId]:{bindingId:this.draggedBindingId}}});else{this.didBind=this.didBind||!1;let D=c.handles[this.handleId].bindingId;D!==void 0&&(T.bindings[D]=void 0,T.shape=on.Utils.deepMerge(T.shape,{handles:{[this.handleId]:{bindingId:void 0}}}))}let P=(I=(B=x.getShapeUtil(T.shape)).onHandleChange)==null?void 0:I.call(B,T.shape,T.shape.handles);return{document:{pages:{[this.app.currentPageId]:{shapes:{[c.id]:S(S({},T.shape),P!=null?P:{})},bindings:T.bindings}},pageStates:{[this.app.currentPageId]:{bindingId:T.shape.handles[u].bindingId}}}}});l(this,"cancel",()=>{let{initialShape:e,initialBinding:t,newStartBindingId:n,draggedBindingId:r}=this,i=x.onSessionComplete(this.app.page.shapes[e.id]),d=this.isCreate||ce.Vec.dist(i.handles.start.point,i.handles.end.point)<4,a={};return a[r]=void 0,t&&(a[t.id]=d?void 0:t),n&&(a[n]=void 0),{document:{pages:{[this.app.currentPageId]:{shapes:{[e.id]:d?void 0:e},bindings:a}},pageStates:{[this.app.currentPageId]:{selectedIds:d?[]:[e.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}}});l(this,"complete",()=>{let{initialShape:e,initialBinding:t,newStartBindingId:n,startBindingShapeId:r,handleId:i}=this,d=x.onSessionComplete(this.app.page.shapes[e.id]),a=d.handles[i].bindingId,c=ce.Vec.dist(d.handles.start.point,d.handles.end.point);if(!(a||t)&&c<4)return this.cancel();let p={},u={};return t&&(p[t.id]=this.isCreate?void 0:t,u[t.id]=void 0),a&&(p[a]=void 0,u[a]=this.app.page.bindings[a]),r&&(p[n]=void 0,u[n]=this.app.page.bindings[n]),{id:"arrow",before:{document:{pages:{[this.app.currentPageId]:{shapes:{[e.id]:this.isCreate?void 0:e},bindings:p}},pageStates:{[this.app.currentPageId]:{selectedIds:this.isCreate?[]:[e.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}},after:{document:{pages:{[this.app.currentPageId]:{shapes:{[e.id]:d},bindings:u}},pageStates:{[this.app.currentPageId]:{selectedIds:[e.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}}}});l(this,"findBindingPoint",(e,t,n,r,i,d,a,c)=>{let u=x.getShapeUtil(t.type).getBindingPoint(t,e,i,d,a,c);if(!!u)return{id:r,type:"arrow",fromId:e.id,toId:t.id,handleId:n,point:ce.Vec.toFixed(u.point),distance:u.distance}});this.isCreate=r;let{currentPageId:i}=e.state.appState,d=e.state.document.pages[i];this.handleId=n,this.initialShape=We(d.shapes[t]),this.bindableShapeIds=x.getBindableShapeIds(e.state).filter(m=>!(m===this.initialShape.id||m===this.initialShape.parentId));let a=(p=this.initialShape.handles[n==="start"?"end":"start"])==null?void 0:p.bindingId;if(a){let m=(u=d.bindings[a])==null?void 0:u.toId;m&&(this.bindableShapeIds=this.bindableShapeIds.filter(g=>g!==m))}let{originPoint:c}=this.app;if(this.isCreate)this.startBindingShapeId=(h=this.bindableShapeIds.map(m=>d.shapes[m]).filter(m=>!m.isLocked&&on.Utils.pointInBounds(c,x.getShapeUtil(m).getBounds(m))).sort((m,g)=>g.childIndex-m.childIndex)[0])==null?void 0:h.id,this.startBindingShapeId&&this.bindableShapeIds.splice(this.bindableShapeIds.indexOf(this.startBindingShapeId),1);else{let m=this.initialShape.handles[this.handleId].bindingId;m?this.initialBinding=d.bindings[m]:this.initialShape.handles[this.handleId].bindingId=void 0}}};var wa=require("@tldraw/core");var oi=class extends fe{constructor(e){super(e);l(this,"type","brush");l(this,"performanceMode");l(this,"status","brushing");l(this,"initialSelectedIds");l(this,"shapesToTest");l(this,"start",()=>{});l(this,"update",()=>{let{initialSelectedIds:e,shapesToTest:t,app:{metaKey:n,settings:r,originPoint:i,currentPoint:d}}=this,a=wa.Utils.getBoundsFromPoints([i,d]),c=r.isCadSelectMode?!n&&i[0]<d[0]:n,p=new Set,u=new Set(e);t.forEach(({id:f,selectId:y})=>{let T=this.app.getShape(f);if(!p.has(y)){let b=this.app.getShapeUtil(T);(c?wa.Utils.boundsContain(a,b.getBounds(T)):b.hitTestBounds(T,a))?(p.add(y),u.has(y)||u.add(y)):u.has(y)&&u.delete(y)}});let h=this.app.selectedIds,m=u.size!==h.length||h.some(f=>!u.has(f)),g=m?Array.from(u.values()):h;return m?{appState:{selectByContain:c},document:{pageStates:{[this.app.currentPageId]:{brush:a,selectedIds:g}}}}:{appState:{selectByContain:c},document:{pageStates:{[this.app.currentPageId]:{brush:a}}}}});l(this,"cancel",()=>({appState:{selectByContain:!1},document:{pageStates:{[this.app.currentPageId]:{brush:null,selectedIds:Array.from(this.initialSelectedIds.values())}}}}));l(this,"complete",()=>({appState:{selectByContain:!1},document:{pageStates:{[this.app.currentPageId]:{brush:null,selectedIds:[...this.app.selectedIds]}}}}));let{currentPageId:t}=e;this.initialSelectedIds=new Set(this.app.selectedIds),this.shapesToTest=this.app.shapes.filter(n=>!(n.isLocked||n.isHidden||n.parentId!==t||this.initialSelectedIds.has(n.id)||this.initialSelectedIds.has(n.parentId))).map(n=>({id:n.id,bounds:this.app.getShapeUtil(n).getBounds(n),selectId:n.id})),this.update()}};var Ie=require("@tldraw/vec");var ri=class extends fe{constructor(e,t){var c;super(e);l(this,"type","draw");l(this,"performanceMode");l(this,"status","creating");l(this,"topLeft");l(this,"points");l(this,"initialShape");l(this,"lastAdjustedPoint");l(this,"shiftedPoints",[]);l(this,"shapeId");l(this,"isLocked");l(this,"isExtending");l(this,"lockedDirection");l(this,"start",()=>{var i;let e=this.app.originPoint,t=[0,0,(i=e[2])!=null?i:.5];this.points.push(t);let n=[Math.min(this.topLeft[0],e[0]),Math.min(this.topLeft[1],e[1])],r=Ie.Vec.sub(n,e);return this.topLeft=n,this.shiftedPoints=this.points.map(d=>Ie.Vec.toFixed(Ie.Vec.sub(d,r)).concat(d[2])),{document:{pages:{[this.app.currentPageId]:{shapes:{[this.shapeId]:{point:this.topLeft,points:this.shiftedPoints}}}},pageStates:{[this.app.currentPageId]:{selectedIds:[this.shapeId]}}}}});l(this,"update",()=>{let{shapeId:e}=this,{currentPoint:t,originPoint:n,shiftKey:r,zoom:i}=this.app;if(!this.lockedDirection&&this.points.length>1){let a=Ie.Vec.sub(t,n);Ie.Vec.len(a)>3/i&&(this.lockedDirection=Math.abs(a[0])>Math.abs(a[1])?"horizontal":"vertical")}if(r){if(!this.isLocked&&this.points.length>2){if(!this.lockedDirection){let c=Ie.Vec.sub(t,n);Ie.Vec.len(c)>3/i&&(this.lockedDirection=Math.abs(c[0])>Math.abs(c[1])?"horizontal":"vertical")}this.isLocked=!0;let a=[...this.lastAdjustedPoint];this.lockedDirection==="vertical"?a[0]=0:a[1]=0,this.points.push(a.concat(t[2]))}}else this.isLocked&&(this.isLocked=!1);this.isLocked&&(this.lockedDirection==="vertical"?t[0]=n[0]:t[1]=n[1]);let d=this.addPoint(t);if(!!d)return{document:{pages:{[this.app.currentPageId]:{shapes:{[e]:d}}},pageStates:{[this.app.currentPageId]:{selectedIds:[e]}}}}});l(this,"cancel",()=>{let{shapeId:e}=this,t=this.app.currentPageId;return{document:{pages:{[t]:{shapes:{[e]:this.isExtending?this.initialShape:void 0}}},pageStates:{[t]:{selectedIds:[]}}}}});l(this,"complete",()=>{let{shapeId:e}=this,t=this.app.currentPageId,n=this.app.getShape(e);return{id:"create_draw",before:{document:{pages:{[t]:{shapes:{[e]:this.isExtending?this.initialShape:void 0}}},pageStates:{[t]:{selectedIds:[]}}}},after:{document:{pages:{[t]:{shapes:{[e]:k(S({},n),{point:Ie.Vec.toFixed(n.point),points:n.points.map(r=>Ie.Vec.toFixed(r)),isComplete:!0})}}},pageStates:{[this.app.currentPageId]:{selectedIds:[]}}}}}});l(this,"addPoint",e=>{let{originPoint:t}=this.app,n=Ie.Vec.toFixed(Ie.Vec.sub(e,t)).concat(e[2]);if(Ie.Vec.isEqual(this.lastAdjustedPoint,n))return;this.points.push(n),this.lastAdjustedPoint=n;let r=[...this.topLeft],i=[Math.min(this.topLeft[0],e[0]),Math.min(this.topLeft[1],e[1])],d=Ie.Vec.sub(i,t),a;return r[0]!==i[0]||r[1]!==i[1]?(this.topLeft=i,a=this.points.map(c=>Ie.Vec.toFixed(Ie.Vec.sub(c,d)).concat(c[2]))):a=[...this.shiftedPoints,Ie.Vec.sub(n,d).concat(n[2])],this.shiftedPoints=a,{point:this.topLeft,points:a}});let{originPoint:n}=this.app;this.shapeId=t,this.initialShape=this.app.getShape(t),this.topLeft=[...this.initialShape.point];let r=[0,0,(c=n[2])!=null?c:.5],i=Ie.Vec.sub(n,this.topLeft),d=this.initialShape.points.map(p=>Ie.Vec.sub(p,i).concat(p[2]));this.isExtending=d.length>0;let a=[];if(this.isExtending){let p=d[d.length-1];if(p){a.push(p,p);let u=Math.floor(Ie.Vec.dist(p,r)/16);if(u>1)for(let h=0;h<u;h++){let m=h/(u-1);a.push(Ie.Vec.lrp(p,r,m).concat(p[2]))}else a.push(r,r)}}else a.push(r);this.points=[...d,...a],this.shiftedPoints=this.points.map(p=>Ie.Vec.add(p,i).concat(p[2])),this.lastAdjustedPoint=this.points[this.points.length-1]}};var si=class extends fe{constructor(e,t,n){super(e);l(this,"type","edit");l(this,"performanceMode");l(this,"initialShape");l(this,"initialSelectedIds");l(this,"currentPageId");l(this,"isCreating");l(this,"start",()=>{});l(this,"update",()=>{});l(this,"cancel",()=>({document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:this.isCreating?void 0:this.initialShape}}},pageStates:{[this.currentPageId]:{selectedIds:this.isCreating?[]:this.initialSelectedIds,editingId:void 0}}}}));l(this,"complete",()=>{let e=this.app.getShape(this.initialShape.id);return{id:"edit",before:{document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:this.isCreating?void 0:this.initialShape}}},pageStates:{[this.currentPageId]:{selectedIds:this.isCreating?[]:this.initialSelectedIds,editingId:void 0}}}},after:{document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:e}}},pageStates:{[this.currentPageId]:{selectedIds:[e.id],editingId:void 0}}}}}});this.initialShape=e.getShape(t,e.currentPageId),this.currentPageId=e.currentPageId,this.isCreating=n,this.initialSelectedIds=[...e.selectedIds]}};var uo=require("@tldraw/vec");var ii=class extends fe{constructor(e){super(e);l(this,"type","draw");l(this,"performanceMode");l(this,"status","creating");l(this,"isLocked");l(this,"lockedDirection");l(this,"erasedShapes",new Set);l(this,"erasedBindings",new Set);l(this,"initialSelectedShapes");l(this,"erasableShapes");l(this,"prevPoint");l(this,"prevEraseShapesSize",0);l(this,"interval");l(this,"timestamp1",0);l(this,"timestamp2",0);l(this,"prevErasePoint",[]);l(this,"loop",()=>{let e=Date.now(),t=e-this.timestamp1,n=e-this.timestamp2,{eraseLine:r}=this.app.appState,i=[...r],d=!1;t>16&&this.prevErasePoint!==this.prevPoint&&(d=!0,i=[...r,this.prevPoint],this.prevErasePoint=this.prevPoint),n>32&&i.length>1&&(d=!0,i.splice(0,Math.ceil(i.length*.1)),this.timestamp2=e),d&&this.app.patchState({appState:{eraseLine:i}},"eraseline"),this.interval=requestAnimationFrame(this.loop)});l(this,"start",()=>{});l(this,"update",()=>{let{page:e,shiftKey:t,originPoint:n,currentPoint:r,zoom:i}=this.app;if(t){let p=uo.Vec.sub(r,n);if(!this.isLocked&&uo.Vec.len(p)>3/i){if(!this.lockedDirection){let u=uo.Vec.sub(r,n);this.lockedDirection=Math.abs(u[0])>Math.abs(u[1])?"horizontal":"vertical"}this.isLocked=!0}}else this.isLocked&&(this.isLocked=!1);this.isLocked&&(this.lockedDirection==="vertical"?r[0]=n[0]:r[1]=n[1]);let d=uo.Vec.toFixed(uo.Vec.add(n,uo.Vec.sub(r,n))),a=new Set([]);this.erasableShapes.forEach(p=>{if(!this.erasedShapes.has(p)&&this.app.getShapeUtil(p).hitTestLineSegment(p,this.prevPoint,d)&&(this.erasedShapes.add(p),a.add(p.id),p.children!==void 0))for(let u of p.children)this.erasedShapes.add(this.app.getShape(u)),a.add(u)}),Object.values(e.bindings).forEach(p=>{for(let u of[p.toId,p.fromId])a.has(u)&&this.erasedBindings.add(p)}),this.erasedShapes.forEach(p=>{this.app.getShape(p.id)||(this.erasedShapes.delete(p),this.erasableShapes.delete(p),a.delete(p.id))});let c=Array.from(this.erasedShapes.values());if(this.prevPoint=d,c.length!==this.prevEraseShapesSize)return this.prevEraseShapesSize=c.length,{document:{pages:{[e.id]:{shapes:Object.fromEntries(c.map(p=>[p.id,{isGhost:!0}]))}}}}});l(this,"cancel",()=>{let{page:e}=this.app;cancelAnimationFrame(this.interval),this.erasedShapes.forEach(n=>{this.app.getShape(n.id)||(this.erasedShapes.delete(n),this.erasableShapes.delete(n))});let t=Array.from(this.erasedShapes.values());return{document:{pages:{[e.id]:{shapes:Object.fromEntries(t.map(n=>[n.id,{isGhost:!1}]))}},pageStates:{[e.id]:{selectedIds:this.initialSelectedShapes.map(n=>n.id)}}},appState:{eraseLine:[]}}});l(this,"complete",()=>{let{page:e}=this.app;cancelAnimationFrame(this.interval),this.erasedShapes.forEach(c=>{this.app.getShape(c.id)||(this.erasedShapes.delete(c),this.erasableShapes.delete(c))}),this.erasedBindings.forEach(c=>{this.app.getBinding(c.id)||this.erasedBindings.delete(c)});let t=Array.from(this.erasedShapes.values()),n=Array.from(this.erasedBindings.values()),r=t.map(c=>c.id),i=n.map(c=>c.id),d={shapes:Object.fromEntries(t.map(c=>[c.id,c])),bindings:Object.fromEntries(n.map(c=>[c.id,c]))},a={shapes:Object.fromEntries(t.map(c=>[c.id,void 0])),bindings:Object.fromEntries(n.map(c=>[c.id,void 0]))};return this.app.shapes.forEach(c=>{c.handles&&!a.shapes[c.id]&&Object.values(c.handles).forEach(p=>{var u,h;p.bindingId&&i.includes(p.bindingId)&&(d.shapes[c.id]=k(S({},d.shapes[c.id]),{handles:k(S({},(u=d.shapes[c.id])==null?void 0:u.handles),{[p.id]:p})}),r.includes(c.id)||(a.shapes[c.id]=k(S({},a.shapes[c.id]),{handles:k(S({},(h=a.shapes[c.id])==null?void 0:h.handles),{[p.id]:k(S({},p),{bindingId:void 0})})})))})}),{id:"erase",before:{document:{pages:{[e.id]:d},pageStates:{[e.id]:{selectedIds:this.initialSelectedShapes.filter(c=>!!this.app.getShape(c.id)).map(c=>c.id)}}},appState:{eraseLine:[]}},after:{document:{pages:{[e.id]:a},pageStates:{[e.id]:{selectedIds:this.initialSelectedShapes.filter(c=>!!this.app.getShape(c.id)).filter(c=>!r.includes(c.id)).map(c=>c.id)}}},appState:{eraseLine:[]}}}});this.prevPoint=[...e.originPoint],this.initialSelectedShapes=this.app.selectedIds.map(t=>this.app.getShape(t)),this.erasableShapes=new Set(this.app.shapes.filter(t=>!t.isLocked)),this.interval=this.loop()}};var ka=require("@tldraw/core"),xa=require("@tldraw/vec");var ai=class extends fe{constructor(e,t){var n;super(e);l(this,"type","grid");l(this,"performanceMode");l(this,"status","translating");l(this,"shape");l(this,"bounds");l(this,"initialSelectedIds");l(this,"initialSiblings");l(this,"grid",{});l(this,"columns",1);l(this,"rows",1);l(this,"isCopying",!1);l(this,"start",()=>{});l(this,"update",()=>{let{currentPageId:e,altKey:t,shiftKey:n,currentPoint:r}=this.app,i={},d={},a=ka.Utils.getBoundsCenter(this.bounds),c=xa.Vec.sub(r,a);n&&(Math.abs(c[0])<Math.abs(c[1])?c[0]=0:c[1]=0);let p=this.bounds.width+32,u=this.bounds.height+32,h=Math.ceil(c[0]/p),m=Math.ceil(c[1]/u),g=Math.min(h,0),f=Math.min(m,0),y=Math.max(h,1),T=Math.max(m,1),b=new Set,w=t;w!==this.isCopying&&(Object.values(this.grid).filter(v=>v!==this.shape.id).forEach(v=>i[v]=void 0),this.grid={"0_0":this.shape.id},this.isCopying=w);for(let v=g;v<y;v++)for(let P=f;P<T;P++){let C=`${v}_${P}`;if(b.add(C),this.grid[C]||v===0&&P===0)continue;let B=this.getClone(xa.Vec.add(this.shape.point,[v*p,P*u]),w);i[B.id]=B,this.grid[C]=B.id}if(Object.entries(this.grid).forEach(([v,P])=>{b.has(v)||(i[P]=void 0,delete this.grid[v])}),Object.values(i).length!==0)return this.initialSiblings&&(i[this.shape.parentId]={children:[...this.initialSiblings,...Object.values(this.grid)]}),{document:{pages:{[e]:{shapes:i}},pageStates:{[e]:d}}}});l(this,"cancel",()=>{let{currentPageId:e}=this.app,t={};return Object.values(this.grid).forEach(n=>{t[n]=void 0}),t[this.shape.id]=k(S({},t[this.shape.id]),{point:this.shape.point}),this.initialSiblings&&(t[this.shape.parentId]={children:[...this.initialSiblings,this.shape.id]}),{document:{pages:{[e]:{shapes:t}},pageStates:{[e]:{selectedIds:[this.shape.id]}}}}});l(this,"complete",()=>{let{currentPageId:e}=this.app,t={},n={},r=[];if(Object.values(this.grid).forEach(i=>{t[i]=void 0,n[i]=this.app.getShape(i),r.push(i)}),t[this.shape.id]=this.shape,this.initialSiblings&&(t[this.shape.parentId]={children:[...this.initialSiblings,this.shape.id]},n[this.shape.parentId]={children:[...this.initialSiblings,...Object.values(this.grid)]}),r.length!==1)return{id:"grid",before:{document:{pages:{[e]:{shapes:t}},pageStates:{[e]:{selectedIds:[],hoveredId:void 0}}}},after:{document:{pages:{[e]:{shapes:n}},pageStates:{[e]:{selectedIds:r,hoveredId:void 0}}}}}});l(this,"getClone",(e,t)=>{let n=k(S({},this.shape),{id:ka.Utils.uniqueId(),point:e});return t||n.type==="sticky"&&(n.text=""),n});this.shape=this.app.getShape(t),this.grid["0_0"]=this.shape.id,this.bounds=this.app.getShapeBounds(t),this.initialSelectedIds=[...this.app.selectedIds],this.shape.parentId!==this.app.currentPageId&&(this.initialSiblings=(n=this.app.getShape(this.shape.parentId).children)==null?void 0:n.filter(r=>r!==this.shape.id))}};var li=require("@tldraw/vec");var di=class extends fe{constructor(e,t,n,r="move_handle"){super(e);l(this,"type","handle");l(this,"performanceMode");l(this,"status","translatingHandle");l(this,"commandId");l(this,"topLeft");l(this,"shiftKey",!1);l(this,"initialShape");l(this,"handleId");l(this,"start",()=>{});l(this,"update",()=>{var u,h;let{initialShape:e,app:{currentPageId:t,currentPoint:n}}=this,r=this.app.getShape(e.id);if(r.isLocked)return;let i=r.handles,d=this.handleId,a=li.Vec.sub(n,i[d].point),c={[d]:k(S({},i[d]),{point:li.Vec.sub(li.Vec.add(i[d].point,a),r.point)})},p=(h=(u=x.getShapeUtil(r)).onHandleChange)==null?void 0:h.call(u,r,c);if(!!p)return{document:{pages:{[t]:{shapes:{[r.id]:p}}}}}});l(this,"cancel",()=>{let{initialShape:e,app:{currentPageId:t}}=this;return{document:{pages:{[t]:{shapes:{[e.id]:e}}}}}});l(this,"complete",()=>{let{initialShape:e,app:{currentPageId:t}}=this;return{id:this.commandId,before:{document:{pages:{[t]:{shapes:{[e.id]:e}}}}},after:{document:{pages:{[t]:{shapes:{[e.id]:x.onSessionComplete(this.app.getShape(this.initialShape.id))}}}}}}});let{originPoint:i}=e;this.topLeft=[...i],this.handleId=n,this.initialShape=this.app.getShape(t),this.commandId=r}};var Rr=require("@tldraw/core"),va=require("@tldraw/vec");var ci=class extends fe{constructor(e){super(e);l(this,"type","rotate");l(this,"status","transforming");l(this,"performanceMode");l(this,"delta",[0,0]);l(this,"commonBoundsCenter");l(this,"initialAngle");l(this,"initialShapes");l(this,"changes",{});l(this,"start",()=>{});l(this,"update",()=>{let{commonBoundsCenter:e,initialShapes:t,app:{currentPageId:n,currentPoint:r,shiftKey:i}}=this,d={},a=va.Vec.angle(e,r)-this.initialAngle;return i&&(a=Rr.Utils.snapAngleToSegments(a,24)),t.forEach(({center:c,shape:p})=>{let{rotation:u=0}=p,h=0;i&&(h=Rr.Utils.snapAngleToSegments(u,24)-u);let m=x.getRotatedShapeMutation(p,c,e,i?a+h:a);m&&(d[p.id]=m)}),this.changes=d,{document:{pages:{[n]:{shapes:d}}}}});l(this,"cancel",()=>{let{initialShapes:e,app:{currentPageId:t}}=this,n={};return e.forEach(({shape:r})=>n[r.id]=r),{document:{pages:{[t]:{shapes:n}}}}});l(this,"complete",()=>{let{initialShapes:e,app:{currentPageId:t}}=this,n={},r=this.changes;return e.forEach(({shape:{id:i,point:d,rotation:a,handles:c}})=>{n[i]={point:d,rotation:a,handles:c}}),{id:"rotate",before:{document:{pages:{[t]:{shapes:n}}}},after:{document:{pages:{[t]:{shapes:r}}}}}});let{app:{currentPageId:t,pageState:n,originPoint:r}}=this,i=x.getSelectedBranchSnapshot(e.state,t).filter(d=>!d.isLocked);if(i.length===0)throw Error("No selected shapes!");if(e.rotationInfo.selectedIds===n.selectedIds){if(e.rotationInfo.center===void 0)throw Error("We should have a center for rotation!");this.commonBoundsCenter=e.rotationInfo.center}else this.commonBoundsCenter=Rr.Utils.getBoundsCenter(Rr.Utils.getCommonBounds(i.map(x.getBounds))),e.rotationInfo.selectedIds=n.selectedIds,e.rotationInfo.center=this.commonBoundsCenter;this.initialShapes=i.filter(d=>d.children===void 0).map(d=>({shape:d,center:this.app.getShapeUtil(d).getCenter(d)})),this.initialAngle=va.Vec.angle(this.commonBoundsCenter,r)}};var Fe=require("@tldraw/core"),ho=require("@tldraw/vec");var pi=class extends fe{constructor(e,t=Fe.TLBoundsCorner.BottomRight,n=!1){super(e);this.transformType=t;this.isCreate=n;l(this,"type","transform");l(this,"performanceMode");l(this,"status","transforming");l(this,"scaleX",1);l(this,"scaleY",1);l(this,"initialShapes");l(this,"initialShapeIds");l(this,"initialSelectedIds");l(this,"shapeBounds");l(this,"hasUnlockedShapes");l(this,"isAllAspectRatioLocked");l(this,"initialCommonBounds");l(this,"snapInfo",{state:"empty"});l(this,"prevPoint",[0,0]);l(this,"speed",1);l(this,"start",()=>{this.snapInfo={state:"ready",bounds:this.app.shapes.filter(e=>!this.initialShapeIds.includes(e.id)).map(e=>Fe.Utils.getBoundsWithCenter(x.getRotatedBounds(e)))}});l(this,"update",()=>{let{transformType:e,shapeBounds:t,initialCommonBounds:n,isAllAspectRatioLocked:r,app:{currentPageId:i,pageState:{camera:d},viewport:a,currentPoint:c,previousPoint:p,originPoint:u,shiftKey:h,altKey:m,metaKey:g,currentGrid:f,settings:{isSnapping:y,showGrid:T}}}=this,b={},w=m?ho.Vec.mul(ho.Vec.sub(c,u),2):ho.Vec.sub(c,u),v=Fe.Utils.getTransformedBoundingBox(n,e,w,0,h||r);m&&(v=S(S({},v),Fe.Utils.centerBounds(v,Fe.Utils.getBoundsCenter(n)))),T&&(v=S(S({},v),Fe.Utils.snapBoundsToGrid(v,f)));let C=ho.Vec.dist(c,p)-this.speed;this.speed=this.speed+C*(C>1?.5:.15);let B=[];if((y&&!g||!y&&g)&&this.speed*d.zoom<10&&this.snapInfo.state==="ready"){let I=Fe.Utils.getSnapPoints(Fe.Utils.getBoundsWithCenter(v),this.snapInfo.bounds.filter(D=>Fe.Utils.boundsContain(a,D)||Fe.Utils.boundsCollide(a,D)),5/d.zoom);I&&(B=I.snapLines,v=Fe.Utils.getTransformedBoundingBox(n,e,ho.Vec.sub(w,I.offset),0,h||r))}return this.scaleX=v.scaleX,this.scaleY=v.scaleY,t.forEach(({initialShape:I,initialShapeBounds:D,transformOrigin:A})=>{let O=Fe.Utils.getRelativeTransformedBoundingBox(v,n,D,this.scaleX<0,this.scaleY<0);T&&(O=Fe.Utils.snapBoundsToGrid(O,f));let L=x.transform(this.app.getShape(I.id),O,{type:this.transformType,initialShape:I,scaleX:this.scaleX,scaleY:this.scaleY,transformOrigin:A});b[I.id]=L}),{appState:{snapLines:B},document:{pages:{[i]:{shapes:b}}}}});l(this,"cancel",()=>{let{shapeBounds:e,app:{currentPageId:t}}=this,n={};return this.isCreate?e.forEach(r=>n[r.initialShape.id]=void 0):e.forEach(r=>n[r.initialShape.id]=r.initialShape),{appState:{snapLines:[]},document:{pages:{[t]:{shapes:n}},pageStates:{[t]:{selectedIds:this.isCreate?[]:e.map(r=>r.initialShape.id)}}}}});l(this,"complete",()=>{let{isCreate:e,shapeBounds:t,hasUnlockedShapes:n,app:{currentPageId:r}}=this;if(!n)return;if(this.isCreate&&ho.Vec.dist(this.app.originPoint,this.app.currentPoint)<2)return this.cancel();let i={},d={},a,c;return e?(a=[],c=[],t.forEach(({initialShape:p})=>{i[p.id]=void 0,d[p.id]=this.app.getShape(p.id)})):(a=this.initialSelectedIds,c=this.initialSelectedIds,t.forEach(({initialShape:p})=>{i[p.id]=p,d[p.id]=this.app.getShape(p.id)})),{id:"transform",before:{appState:{snapLines:[]},document:{pages:{[r]:{shapes:i}},pageStates:{[r]:{selectedIds:a,hoveredId:void 0,editingId:void 0}}}},after:{appState:{snapLines:[]},document:{pages:{[r]:{shapes:d}},pageStates:{[r]:{selectedIds:c,hoveredId:void 0,editingId:void 0}}}}}});this.initialSelectedIds=[...this.app.selectedIds],this.app.rotationInfo.selectedIds=[...this.initialSelectedIds],this.initialShapes=x.getSelectedBranchSnapshot(this.app.state,this.app.currentPageId).filter(a=>!a.isLocked),this.initialShapeIds=this.initialShapes.map(a=>a.id),this.hasUnlockedShapes=this.initialShapes.length>0,this.isAllAspectRatioLocked=this.initialShapes.every(a=>a.isAspectRatioLocked||x.getShapeUtil(a).isAspectRatioLocked);let r=Object.fromEntries(this.initialShapes.map(a=>[a.id,x.getBounds(a)])),i=Object.values(r);this.initialCommonBounds=Fe.Utils.getCommonBounds(i);let d=Fe.Utils.getBoundsFromPoints(i.map(Fe.Utils.getBoundsCenter));this.shapeBounds=this.initialShapes.map(a=>{let c=r[a.id],p=Fe.Utils.getBoundsCenter(c),u=(p[0]-d.minX)/d.width,h=(p[1]-d.minY)/d.height;return{initialShape:a,initialShapeBounds:c,transformOrigin:[u,h]}})}};var Vt=require("@tldraw/core"),Nn=require("@tldraw/vec");var ui=class extends fe{constructor(e,t,n,r=!1){super(e);l(this,"type","transformSingle");l(this,"status","transforming");l(this,"performanceMode");l(this,"transformType");l(this,"scaleX",1);l(this,"scaleY",1);l(this,"isCreate");l(this,"initialShape");l(this,"initialShapeBounds");l(this,"initialCommonBounds");l(this,"snapInfo",{state:"empty"});l(this,"prevPoint",[0,0]);l(this,"speed",1);l(this,"start",()=>{this.snapInfo={state:"ready",bounds:this.app.shapes.filter(e=>e.id!==this.initialShape.id).map(e=>Vt.Utils.getBoundsWithCenter(x.getRotatedBounds(e)))}});l(this,"update",()=>{let{transformType:e,initialShape:t,initialShapeBounds:n,app:{settings:{isSnapping:r,showGrid:i},currentPageId:d,pageState:{camera:a},viewport:c,currentPoint:p,previousPoint:u,originPoint:h,currentGrid:m,shiftKey:g,altKey:f,metaKey:y}}=this;if(t.isLocked)return;let T={},b=f?Nn.Vec.mul(Nn.Vec.sub(p,h),2):Nn.Vec.sub(p,h),w=this.app.getShape(t.id),v=x.getShapeUtil(w),P=Vt.Utils.getTransformedBoundingBox(n,e,b,w.rotation,g||w.isAspectRatioLocked||v.isAspectRatioLocked);f&&(P=S(S({},P),Vt.Utils.centerBounds(P,Vt.Utils.getBoundsCenter(n)))),i&&(P=S(S({},P),Vt.Utils.snapBoundsToGrid(P,m)));let B=Nn.Vec.dist(p,u)-this.speed;this.speed=this.speed+B*(B>1?.5:.15);let I=[];if((r&&!y||!r&&y)&&!t.rotation&&this.speed*a.zoom<10&&this.snapInfo.state==="ready"){let A=Vt.Utils.getSnapPoints(Vt.Utils.getBoundsWithCenter(P),this.snapInfo.bounds.filter(O=>Vt.Utils.boundsContain(c,O)||Vt.Utils.boundsCollide(c,O)),5/a.zoom);A&&(I=A.snapLines,P=Vt.Utils.getTransformedBoundingBox(n,e,Nn.Vec.sub(b,A.offset),w.rotation,g||w.isAspectRatioLocked||v.isAspectRatioLocked))}let D=x.getShapeUtil(w).transformSingle(w,P,{initialShape:t,type:this.transformType,scaleX:P.scaleX,scaleY:P.scaleY,transformOrigin:[.5,.5]});return D&&(T[w.id]=D),i&&D&&D.point&&(D.point=Nn.Vec.snap(D.point,m)),{appState:{snapLines:I},document:{pages:{[d]:{shapes:T}}}}});l(this,"cancel",()=>{let{initialShape:e,app:{currentPageId:t}}=this,n={};return this.isCreate?n[e.id]=void 0:n[e.id]=e,{appState:{snapLines:[]},document:{pages:{[t]:{shapes:n}},pageStates:{[t]:{selectedIds:this.isCreate?[]:[e.id]}}}}});l(this,"complete",()=>{let{initialShape:e,app:{currentPageId:t}}=this;if(e.isLocked)return;if(this.isCreate&&Nn.Vec.dist(this.app.originPoint,this.app.currentPoint)<2)return this.cancel();let n={},r={};return n[e.id]=this.isCreate?void 0:e,r[e.id]=x.onSessionComplete(this.app.getShape(e.id)),{id:"transform_single",before:{appState:{snapLines:[]},document:{pages:{[t]:{shapes:n}},pageStates:{[t]:{selectedIds:this.isCreate?[]:[e.id],editingId:void 0,hoveredId:void 0}}}},after:{appState:{snapLines:[]},document:{pages:{[t]:{shapes:r}},pageStates:{[t]:{selectedIds:[e.id],editingId:void 0,hoveredId:void 0}}}}}});this.isCreate=r,this.transformType=n;let i=this.app.getShape(t);this.initialShape=i,this.initialShapeBounds=x.getBounds(i),this.initialCommonBounds=x.getRotatedBounds(i),this.app.rotationInfo.selectedIds=[i.id]}};var ft=require("@tldraw/core"),Se=require("@tldraw/vec");var hi=class extends fe{constructor(e,t=!1,n=!1){super(e);l(this,"performanceMode");l(this,"type","translate");l(this,"status","translating");l(this,"delta",[0,0]);l(this,"prev",[0,0]);l(this,"prevPoint",[0,0]);l(this,"speed",1);l(this,"cloneInfo",{state:"empty"});l(this,"snapInfo",{state:"empty"});l(this,"snapLines",[]);l(this,"isCloning",!1);l(this,"isCreate");l(this,"link");l(this,"initialIds");l(this,"hasUnlockedShapes");l(this,"initialSelectedIds");l(this,"initialCommonBounds");l(this,"initialShapes");l(this,"initialParentChildren");l(this,"bindingsToDelete");l(this,"start",()=>{let{bindingsToDelete:e,initialIds:t,app:{currentPageId:n,page:r}}=this,i=[],d=[];if(Object.values(r.shapes).forEach(p=>{let u=ft.Utils.getBoundsWithCenter(x.getRotatedBounds(p));i.push(u),t.has(p.id)||d.push(u)}),this.snapInfo={state:"ready",bounds:i,others:d},e.length===0)return;let a={},c={};return e.forEach(p=>{a[p.id]=void 0;let u=this.app.getShape(p.fromId);c[p.fromId]={handles:k(S({},u.handles),{[p.handleId]:k(S({},u.handles[p.handleId]),{bindingId:void 0})})}}),{document:{pages:{[n]:{bindings:a,shapes:c}}}}});l(this,"update",()=>{let{initialParentChildren:e,initialShapes:t,initialCommonBounds:n,bindingsToDelete:r,app:{pageState:{camera:i},settings:{isSnapping:d,showGrid:a},currentPageId:c,viewport:p,selectedIds:u,currentPoint:h,previousPoint:m,originPoint:g,altKey:f,shiftKey:y,metaKey:T,currentGrid:b}}=this,w={},v={},P={},C=Se.Vec.sub(h,g),B=!1;this.isCreate||(f&&!this.isCloning?(this.isCloning=!0,B=!0):!f&&this.isCloning&&(this.isCloning=!1,B=!0)),y&&(Math.abs(C[0])<Math.abs(C[1])?C[0]=0:C[1]=0);let D=Se.Vec.dist(h,m)-this.speed;if(this.speed=this.speed+D*(D>1?.5:.15),this.snapLines=[],(d&&!T||!d&&T)&&this.speed*i.zoom<10&&this.snapInfo.state==="ready"){let A=ft.Utils.getSnapPoints(ft.Utils.getBoundsWithCenter(a?ft.Utils.snapBoundsToGrid(ft.Utils.translateBounds(n,C),b):ft.Utils.translateBounds(n,C)),(this.isCloning?this.snapInfo.bounds:this.snapInfo.others).filter(O=>ft.Utils.boundsContain(p,O)||ft.Utils.boundsCollide(p,O)),5/i.zoom);A&&(this.snapLines=A.snapLines,C=Se.Vec.sub(C,A.offset))}if(this.prev=C,this.isCloning)if(B){if(this.cloneInfo.state==="empty"&&this.createCloneInfo(),this.cloneInfo.state==="empty")throw Error;let{clones:A,clonedBindings:O}=this.cloneInfo;this.isCloning=!0,r.forEach(L=>w[L.id]=L),t.forEach(L=>v[L.id]={point:L.point}),A.forEach(L=>{var se;if(v[L.id]=S({},L),L.parentId!==c&&!u.includes(L.parentId)){let J=((se=v[L.parentId])==null?void 0:se.children)||e[L.parentId];J.includes(L.id)||(v[L.parentId]=k(S({},v[L.parentId]),{children:[...J,L.id]}))}});for(let L of O)w[L.id]=L;P.selectedIds=A.map(L=>L.id),A.forEach(L=>{v[L.id]=k(S({},L),{point:a?Se.Vec.snap(Se.Vec.toFixed(Se.Vec.add(L.point,C)),b):Se.Vec.toFixed(Se.Vec.add(L.point,C))})})}else{if(this.cloneInfo.state==="empty")throw Error;let{clones:A}=this.cloneInfo;A.forEach(O=>{v[O.id]={point:a?Se.Vec.snap(Se.Vec.toFixed(Se.Vec.add(O.point,C)),b):Se.Vec.toFixed(Se.Vec.add(O.point,C))}})}else if(B){if(this.cloneInfo.state==="empty")throw Error;let{clones:A,clonedBindings:O}=this.cloneInfo;this.isCloning=!1,r.forEach(L=>w[L.id]=void 0),A.forEach(L=>{L.parentId!==c&&(v[L.parentId]=k(S({},v[L.parentId]),{children:e[L.parentId]}))}),A.forEach(L=>v[L.id]=void 0),t.forEach(L=>{v[L.id]={point:a?Se.Vec.snap(Se.Vec.toFixed(Se.Vec.add(L.point,C)),b):Se.Vec.toFixed(Se.Vec.add(L.point,C))}});for(let L of O)w[L.id]=void 0;P.selectedIds=t.map(L=>L.id)}else t.forEach(A=>{v[A.id]={point:a?Se.Vec.snap(Se.Vec.toFixed(Se.Vec.add(A.point,C)),b):Se.Vec.toFixed(Se.Vec.add(A.point,C))}});return{appState:{snapLines:this.snapLines},document:{pages:{[c]:{shapes:v,bindings:w}},pageStates:{[c]:P}}}});l(this,"cancel",()=>{let{initialShapes:e,initialSelectedIds:t,bindingsToDelete:n,app:{currentPageId:r}}=this,i={},d={},a={editingId:void 0,hoveredId:void 0};if(this.isCreate?(e.forEach(({id:c})=>d[c]=void 0),a.selectedIds=[]):(e.forEach(({id:c,point:p,handles:u})=>d[c]=u?k(S({},d[c]),{point:p,handles:u}):k(S({},d[c]),{point:p})),a.selectedIds=t,n.forEach(c=>{i[c.id]=c})),this.cloneInfo.state==="ready"){let{clones:c,clonedBindings:p}=this.cloneInfo;c.forEach(u=>d[u.id]=void 0),p.forEach(u=>i[u.id]=void 0)}return{appState:{snapLines:[]},document:{pages:{[r]:{shapes:d,bindings:i}},pageStates:{[r]:a}}}});l(this,"complete",()=>{let{initialShapes:e,initialParentChildren:t,bindingsToDelete:n,app:{currentPageId:r}}=this,i={},d={},a={},c={};if(this.isCloning){if(this.cloneInfo.state==="empty"&&this.createCloneInfo(),this.cloneInfo.state!=="ready")throw Error;let{clones:p,clonedBindings:u}=this.cloneInfo;p.forEach(h=>{d[h.id]=void 0,c[h.id]=this.app.getShape(h.id),h.parentId!==r&&(d[h.parentId]=k(S({},d[h.parentId]),{children:t[h.parentId]}),c[h.parentId]=k(S({},c[h.parentId]),{children:this.app.getShape(h.parentId).children}))}),u.forEach(h=>{i[h.id]=void 0,a[h.id]=this.app.getBinding(h.id)})}else e.forEach(p=>{d[p.id]=this.isCreate?void 0:k(S({},d[p.id]),{point:p.point}),c[p.id]=S(S({},c[p.id]),this.isCreate?this.app.getShape(p.id):{point:this.app.getShape(p.id).point})});return n.forEach(p=>{var u,h,m,g,f;i[p.id]=p,d[p.fromId]=k(S({},d[p.fromId]),{id:p.fromId,handles:k(S({},(u=d[p.fromId])==null?void 0:u.handles),{[p.handleId]:k(S({},(m=(h=d[p.fromId])==null?void 0:h.handles)==null?void 0:m[p.handleId]),{bindingId:p.id})})}),c[p.fromId]=k(S({},c[p.fromId]),{id:p.fromId,handles:k(S({},c[p.fromId].handles),{[p.handleId]:k(S({},(f=(g=c[p.fromId])==null?void 0:g.handles)==null?void 0:f[p.handleId]),{bindingId:void 0})})})}),n.forEach(p=>a[p.id]=void 0),{id:"translate",before:{appState:{snapLines:[]},document:{pages:{[r]:{shapes:d,bindings:i}},pageStates:{[r]:{selectedIds:this.isCreate?[]:[...this.initialSelectedIds]}}}},after:{appState:{snapLines:[]},document:{pages:{[r]:{shapes:c,bindings:a}},pageStates:{[r]:{selectedIds:[...this.app.selectedIds]}}}}}});l(this,"createCloneInfo",()=>{let{initialShapes:e,initialParentChildren:t,app:{selectedIds:n,currentPageId:r,page:i}}=this,d={},a={},c=[],p=[];e.forEach(h=>{let m=ft.Utils.uniqueId();t[m]=t[h.id],d[h.id]=m;let g=k(S({},ft.Utils.deepClone(h)),{id:m,parentId:h.parentId,childIndex:x.getChildIndexAbove(this.app.state,h.id,r)});if(g.type==="video"){let f=document.getElementById(h.id+"_video");f&&(g.currentTime=(f.currentTime+16)%f.duration)}p.push(g)}),p.forEach(h=>{h.children!==void 0&&(h.children=h.children.map(m=>d[m]))}),p.forEach(h=>{n.includes(h.parentId)&&(h.parentId=d[h.parentId])});let u=new Set(Object.keys(d));Object.values(i.bindings).filter(h=>u.has(h.fromId)||u.has(h.toId)).forEach(h=>{if(u.has(h.fromId)&&u.has(h.toId)){let m=ft.Utils.uniqueId(),g=k(S({},ft.Utils.deepClone(h)),{id:m,fromId:d[h.fromId]||h.fromId,toId:d[h.toId]||h.toId});a[h.id]=m,c.push(g)}}),p.forEach(h=>{if(h.handles&&h.handles)for(let m in h.handles){let g=h.handles[m];g.bindingId=g.bindingId?a[g.bindingId]:void 0}}),p.forEach(h=>{if(i.shapes[h.id])throw Error("uh oh, we didn't clone correctly")}),this.cloneInfo={state:"ready",clones:p,cloneMap:d,clonedBindings:c}});this.isCreate=t,this.link=n;let{currentPageId:r,selectedIds:i,page:d}=this.app;this.initialSelectedIds=[...i];let a=(n?x.getLinkedShapeIds(this.app.state,r,n,!1):i).map(p=>this.app.getShape(p)).filter(p=>!p.isLocked),c=new Set(a.map(p=>p.id));this.hasUnlockedShapes=a.length>0,this.initialShapes=Array.from(new Set(a.filter(p=>!c.has(p.parentId)).flatMap(p=>p.children?[p,...p.children.map(u=>this.app.getShape(u))]:[p])).values()),this.initialIds=new Set(this.initialShapes.map(p=>p.id)),this.bindingsToDelete=[],Object.values(d.bindings).filter(p=>this.initialIds.has(p.fromId)||this.initialIds.has(p.toId)).forEach(p=>{this.initialIds.has(p.fromId)&&(this.initialIds.has(p.toId)||this.bindingsToDelete.push(p))}),this.initialParentChildren={},this.initialShapes.map(p=>p.parentId).filter(p=>p!==d.id).forEach(p=>{this.initialParentChildren[p]=this.app.getShape(p).children}),this.initialCommonBounds=ft.Utils.getCommonBounds(this.initialShapes.map(x.getRotatedBounds)),this.app.rotationInfo.selectedIds=[...this.app.selectedIds]}};var Og={["arrow"]:ni,["brush"]:oi,["draw"]:ri,["erase"]:ii,["handle"]:di,["rotate"]:ci,["transform"]:pi,["transformSingle"]:ui,["translate"]:hi,["grid"]:ai,["edit"]:si},Op=s=>Og[s];var jp=require("@tldraw/core"),Gp=R(require("@tldraw/vec"));var Fp=require("@tldraw/core");var Ce=class extends ir{constructor(e){super();this.app=e;l(this,"type","select");l(this,"previous");l(this,"status","idle");l(this,"setStatus",e=>{this.status=e,this.app.setStatus(this.status)});l(this,"onEnter",()=>{this.setStatus("idle")});l(this,"onExit",()=>{this.setStatus("idle")});l(this,"onCancel",()=>{this.status==="idle"?this.app.selectTool("select"):this.setStatus("idle"),this.app.cancelSession()});l(this,"getNextChildIndex",()=>{let{shapes:e,appState:{currentPageId:t}}=this.app;return e.length===0?1:e.filter(n=>n.parentId===t).sort((n,r)=>r.childIndex-n.childIndex)[0].childIndex+1});l(this,"onPinchStart",()=>{this.app.cancelSession(),this.setStatus("pinching")});l(this,"onPinchEnd",()=>{Fp.Utils.isMobileSafari()&&this.app.undoSelect(),this.setStatus("idle")});l(this,"onPinch",(e,t)=>{var n;this.status==="pinching"&&(isNaN(e.delta[0])||isNaN(e.delta[1])||(this.app.pinchZoom(e.point,e.delta,e.delta[2]),(n=this.onPointerMove)==null||n.call(this,e,t)))});l(this,"onKeyDown",e=>{if(e==="Escape"){this.onCancel();return}if(e==="Meta"||e==="Control"||e==="Alt"){this.app.updateSession();return}});l(this,"onKeyUp",e=>{if(e==="Meta"||e==="Control"||e==="Alt"){this.app.updateSession();return}});l(this,"onPointerMove",()=>{this.status==="creating"&&this.app.updateSession()});l(this,"onPointerUp",()=>{if(this.status==="creating"){this.app.completeSession();let{isToolLocked:e}=this.app.appState;e||this.app.selectTool("select")}this.setStatus("idle")})}};var No=class extends Ce{constructor(){super(...arguments);l(this,"type","arrow");l(this,"onPointerDown",()=>{if(this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:r,currentStyle:i}}=this.app,d=this.getNextChildIndex(),a=jp.Utils.uniqueId(),c=Oo.create({id:a,parentId:r,childIndex:d,point:n?Gp.default.snap(e,t):e,style:S({},i)});this.app.patchCreate([c]),this.app.startSession("arrow",c.id,"end",!0),this.setStatus("creating")})}};var Vp=require("@tldraw/core");var Ko=class extends Ce{constructor(){super(...arguments);l(this,"type","draw");l(this,"lastShapeId");l(this,"onEnter",()=>{this.lastShapeId=void 0});l(this,"onCancel",()=>{switch(this.status){case"idle":{this.app.selectTool("select");break}default:{this.setStatus("idle");break}}this.app.cancelSession()});l(this,"onPointerDown",e=>{if(this.status!=="idle"||this.app.readOnly)return;let{currentPoint:t,appState:{currentPageId:n,currentStyle:r}}=this.app,i=this.lastShapeId&&this.app.getShape(this.lastShapeId);if(e.shiftKey&&i)this.app.startSession("draw",i.id),this.setStatus("extending");else{let d=this.getNextChildIndex(),a=Vp.Utils.uniqueId(),c=Ws.create({id:a,parentId:n,childIndex:d,point:t,style:S({},r)});this.lastShapeId=a,this.app.patchCreate([c]),this.app.startSession("draw",a),this.setStatus("creating")}});l(this,"onPointerMove",()=>{if(!this.app.readOnly)switch(this.status){case"extending":case"creating":this.app.updateSession()}});l(this,"onPointerUp",()=>{this.app.completeSession(),this.setStatus("idle")})}};var mi=require("@tldraw/core"),$p=R(require("@tldraw/vec"));var Uo=class extends Ce{constructor(){super(...arguments);l(this,"type","ellipse");l(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:r,currentStyle:i}}=this.app,d=this.getNextChildIndex(),a=mi.Utils.uniqueId(),c=Ns.create({id:a,parentId:r,childIndex:d,point:n?$p.default.snap(e,t):e,style:S({},i)});this.app.patchCreate([c]),this.app.startSession("transformSingle",c.id,mi.TLBoundsCorner.BottomRight,!0),this.setStatus("creating")})}};var Np=R(require("@tldraw/vec"));var _o=class extends Ce{constructor(){super(...arguments);l(this,"type","erase");l(this,"status","idle");l(this,"onPointerDown",()=>{this.app.readOnly||this.status==="idle"&&this.setStatus("pointing")});l(this,"onPointerMove",e=>{if(!this.app.readOnly)switch(this.status){case"pointing":{Np.default.dist(e.origin,e.point)>3&&(this.app.startSession("erase"),this.app.updateSession(),this.setStatus("erasing"));break}case"erasing":this.app.updateSession()}});l(this,"onPointerUp",()=>{if(!this.app.readOnly){switch(this.status){case"pointing":{let e=this.app.shapes.filter(t=>!t.isLocked).filter(t=>this.app.getShapeUtil(t).hitTestPoint(t,this.app.currentPoint)).flatMap(t=>t.children?[t.id,...t.children]:t.id);this.app.delete(e);break}case"erasing":this.app.completeSession()}this.setStatus("idle")}});l(this,"onCancel",()=>{this.status==="idle"?this.previous?this.app.selectTool(this.previous):this.app.selectTool("select"):this.setStatus("idle"),this.app.cancelSession()})}};var Wp=require("@tldraw/core"),Kp=R(require("@tldraw/vec"));var Yo=class extends Ce{constructor(){super(...arguments);l(this,"type","line");l(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:r,currentStyle:i}}=this.app,d=this.getNextChildIndex(),a=Wp.Utils.uniqueId(),c=Oo.create({id:a,parentId:r,childIndex:d,point:n?Kp.default.snap(e,t):e,decorations:{start:void 0,end:void 0},style:S({},i)});this.app.patchCreate([c]),this.app.startSession("arrow",c.id,"end",!0),this.setStatus("creating")})}};var gi=require("@tldraw/core"),Up=R(require("@tldraw/vec"));var Zo=class extends Ce{constructor(){super(...arguments);l(this,"type","rectangle");l(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:r,currentStyle:i}}=this.app,d=this.getNextChildIndex(),a=gi.Utils.uniqueId(),c=Vs.create({id:a,parentId:r,childIndex:d,point:n?Up.default.snap(e,t):e,style:S({},i)});this.app.patchCreate([c]),this.app.startSession("transformSingle",c.id,gi.TLBoundsCorner.BottomRight,!0),this.setStatus("creating")})}};var Xo=require("@tldraw/core"),rn=R(require("@tldraw/vec"));var qo=class extends Ce{constructor(){super(...arguments);l(this,"type","select");l(this,"pointedId");l(this,"selectedGroupId");l(this,"pointedHandleId");l(this,"pointedBoundsHandle");l(this,"pointedLinkHandleId");l(this,"onEnter",()=>{this.setStatus("idle")});l(this,"onExit",()=>{this.setStatus("idle")});l(this,"clonePaint",e=>{if(this.app.selectedIds.length===0)return;let t=this.app.selectedIds.map(p=>this.app.getShape(p)),n=Xo.Utils.expandBounds(Xo.Utils.getCommonBounds(t.map(x.getBounds)),16),r=Xo.Utils.getBoundsCenter(n),i=[n.width,n.height],d=[r[0]+i[0]*Math.floor((e[0]+i[0]/2-r[0])/i[0]),r[1]+i[1]*Math.floor((e[1]+i[1]/2-r[1])/i[1])],a=Xo.Utils.centerBounds(n,d);this.app.shapes.some(p=>x.getShapeUtil(p).hitTestBounds(p,a))||this.app.duplicate(this.app.selectedIds,d)});l(this,"getShapeClone",(e,t)=>{let n=this.app.getShape(e),r=x.getShapeUtil(n);if(r.canClone){let i=r.getBounds(n),d=r.getCenter(n),a={top:[i.minX,i.minY-(i.height+32)],right:[i.maxX+32,i.minY],bottom:[i.minX,i.maxY+32],left:[i.minX-(i.width+32),i.minY],topLeft:[i.minX-(i.width+32),i.minY-(i.height+32)],topRight:[i.maxX+32,i.minY-(i.height+32)],bottomLeft:[i.minX-(i.width+32),i.maxY+32],bottomRight:[i.maxX+32,i.maxY+32]}[t];if(n.rotation!==0){let u=rn.default.add(a,[i.width/2,i.height/2]),h=rn.default.rotWith(u,d,n.rotation||0);a=rn.default.sub(h,[i.width/2,i.height/2])}let c=Xo.Utils.uniqueId(),p=k(S({},n),{id:c,point:a});return p.type==="sticky"&&(p.text=""),p}});l(this,"onCancel",()=>{this.app.session?this.app.cancelSession():this.selectNone(),this.setStatus("idle")});l(this,"onKeyDown",(e,t,n)=>{switch(e){case"Escape":{this.onCancel();break}case"Tab":{if(this.app.readOnly)return;if(!this.app.pageState.editingId&&this.status==="idle"&&this.app.selectedIds.length===1){let[r]=this.app.selectedIds,i=this.getShapeClone(r,"right");i&&(this.app.createShapes(i),this.setStatus("idle"),i.type==="sticky"&&(this.app.select(i.id),this.app.setEditingId(i.id)))}break}case"Meta":case"Control":case"Alt":{this.app.updateSession();break}case"Enter":{if(this.app.readOnly)return;let{pageState:r}=this.app;r.selectedIds.length===1&&!r.editingId&&(this.app.setEditingId(r.selectedIds[0]),n.preventDefault())}}});l(this,"onKeyUp",(e,t)=>{if(this.status==="clonePainting"&&!(t.altKey&&t.shiftKey)){this.setStatus("idle");return}if(e==="Meta"||e==="Control"||e==="Alt"){this.app.updateSession();return}});l(this,"onPointerMove",()=>{let{originPoint:e,currentPoint:t}=this.app;if(this.app.readOnly&&this.app.isPointing){this.app.session?this.app.updateSession():rn.default.dist(e,t)>3&&(this.app.startSession("brush"),this.setStatus("brushing"));return}switch(this.status){case"pointingBoundsHandle":{if(!this.pointedBoundsHandle)throw Error("No pointed bounds handle");if(rn.default.dist(e,t)>3){if(this.pointedBoundsHandle==="rotate")this.setStatus("rotating"),this.app.startSession("rotate");else if(this.pointedBoundsHandle==="center"||this.pointedBoundsHandle==="left"||this.pointedBoundsHandle==="right")this.setStatus("translating"),this.app.startSession("translate",!1,this.pointedBoundsHandle);else{this.setStatus("transforming");let n=this.app.selectedIds.flatMap(r=>x.getDocumentBranch(this.app.state,r,this.app.currentPageId));n.length===1?this.app.startSession("transformSingle",n[0],this.pointedBoundsHandle):this.app.startSession("transform",this.pointedBoundsHandle)}this.app.updateSession()}break}case"pointingCanvas":{rn.default.dist(e,t)>3&&(this.app.startSession("brush"),this.setStatus("brushing"));break}case"pointingClone":{rn.default.dist(e,t)>3&&(this.setStatus("translatingClone"),this.app.startSession("translate"),this.app.updateSession());break}case"pointingBounds":{rn.default.dist(e,t)>3&&(this.setStatus("translating"),this.app.startSession("translate"),this.app.updateSession());break}case"pointingHandle":{if(!this.pointedHandleId)throw Error("No pointed handle");if(rn.default.dist(e,t)>3){this.setStatus("translatingHandle");let n=this.app.getShape(this.app.selectedIds[0]);n&&(this.pointedHandleId==="bend"?(this.app.startSession("handle",n.id,this.pointedHandleId),this.app.updateSession()):(this.app.startSession("arrow",n.id,this.pointedHandleId,!1),this.app.updateSession()))}break}case"clonePainting":{this.clonePaint(t);break}default:if(this.app.session){this.app.updateSession();break}}});l(this,"onPointerDown",(e,t)=>{if(e.target==="canvas"&&this.status==="idle"){let{currentPoint:n}=this.app;if(e.spaceKey&&t.buttons===1)return;if(this.status==="idle"&&e.altKey&&e.shiftKey){this.setStatus("clonePainting"),this.clonePaint(n);return}if(!e.shiftKey){if(this.app.onShapeBlur(),e.altKey&&this.app.selectedIds.length>0){this.app.duplicate(this.app.selectedIds,n);return}this.selectNone()}this.setStatus("pointingCanvas")}});l(this,"onPointerUp",e=>{var t;if(this.status==="translatingClone"||this.status==="pointingClone"){this.pointedId&&(this.app.completeSession(),this.app.setEditingId(this.pointedId)),this.setStatus("idle"),this.pointedId=void 0;return}if(this.status==="pointingBounds"){if(e.target==="bounds")this.selectNone();else if(this.app.isSelected(e.target))e.shiftKey?this.pointedId!==e.target&&this.deselect(e.target):this.pointedId!==e.target&&this.app.selectedIds.length>1&&this.select(e.target);else if(this.pointedId===e.target){if(this.app.getShape(e.target).isLocked)return;e.shiftKey?this.pushSelect(e.target):this.select(e.target)}}this.setStatus("idle"),this.pointedBoundsHandle=void 0,this.pointedHandleId=void 0,this.pointedId=void 0,((t=this.app.session)==null?void 0:t.type)!=="edit"&&this.app.completeSession()});l(this,"onDoubleClickCanvas",()=>{this.app.readOnly});l(this,"onPointShape",(e,t)=>{if(e.spaceKey&&t.buttons===1||this.app.getShape(e.target).isLocked)return;let{editingId:n,hoveredId:r}=this.app.pageState;if(n&&e.target!==n&&this.app.onShapeBlur(),(this.status==="idle"||this.status==="pointingBounds")&&e.metaKey&&e.shiftKey&&r){this.pointedId=r,this.app.isSelected(r)?this.deselect(r):(this.pushSelect(r),this.setStatus("pointingBounds"));return}if(this.status==="pointingBounds"){let{parentId:i}=this.app.getShape(e.target);this.pointedId=i===this.app.currentPageId?e.target:i;return}if(this.status==="idle"){if(this.setStatus("pointingBounds"),e.metaKey){e.shiftKey||this.selectNone(),this.app.startSession("brush"),this.setStatus("brushing");return}let i,{parentId:d}=this.app.getShape(e.target);d===this.app.currentPageId?(i=e.target,this.selectedGroupId=void 0):d===this.selectedGroupId?i=e.target:(i=d,this.selectedGroupId=void 0),this.app.isSelected(i)||(this.pointedId=i,e.shiftKey?this.pushSelect(i):this.select(i))}});l(this,"onDoubleClickShape",e=>{if(this.app.readOnly)return;let t=this.app.getShape(e.target);if(t.isLocked){this.app.select(e.target);return}x.getShapeUtil(t.type).canEdit&&(t.parentId===this.app.currentPageId||t.parentId===this.selectedGroupId)&&this.app.setEditingId(e.target),t.parentId!==this.app.currentPageId&&(this.selectedGroupId=t.parentId),this.app.select(e.target)});l(this,"onRightPointShape",e=>{this.app.isSelected(e.target)||this.app.select(e.target)});l(this,"onHoverShape",e=>{this.app.setHoveredId(e.target)});l(this,"onUnhoverShape",e=>{let{currentPageId:t}=this.app;requestAnimationFrame(()=>{t===this.app.currentPageId&&this.app.pageState.hoveredId===e.target&&this.app.setHoveredId(void 0)})});l(this,"onPointBounds",e=>{if(e.metaKey){e.shiftKey||this.selectNone(),this.app.startSession("brush"),this.setStatus("brushing");return}this.setStatus("pointingBounds")});l(this,"onRightPointBounds",(e,t)=>{t.stopPropagation()});l(this,"onReleaseBounds",()=>{(this.status==="translating"||this.status==="brushing")&&this.app.completeSession(),this.setStatus("idle")});l(this,"onPointBoundsHandle",e=>{this.pointedBoundsHandle=e.target,this.setStatus("pointingBoundsHandle")});l(this,"onDoubleClickBoundsHandle",e=>{switch(e.target){case"center":case"left":case"right":{this.app.select(...x.getLinkedShapeIds(this.app.state,this.app.currentPageId,e.target,e.shiftKey));break}default:if(this.app.selectedIds.length===1){this.app.resetBounds(this.app.selectedIds);let t=this.app.getShape(this.app.selectedIds[0]);"label"in t&&this.app.setEditingId(t.id)}}});l(this,"onReleaseBoundsHandle",()=>{this.setStatus("idle")});l(this,"onPointHandle",e=>{this.pointedHandleId=e.target,this.setStatus("pointingHandle")});l(this,"onDoubleClickHandle",e=>{if(e.target==="bend"){let{selectedIds:t}=this.app;if(t.length!==1)return;let n=this.app.getShape(t[0]);x.getShapeUtil(n.type).canEdit&&(n.parentId===this.app.currentPageId||n.parentId===this.selectedGroupId)&&this.app.setEditingId(n.id);return}this.app.toggleDecoration(e.target)});l(this,"onReleaseHandle",()=>{this.setStatus("idle")});l(this,"onShapeClone",e=>{let t=this.app.selectedIds[0],n=this.getShapeClone(t,e.target);e.target==="left"||e.target==="right"||e.target==="top"||e.target==="bottom"?n&&(this.app.createShapes(n),this.pointedId=n.id,this.setStatus("pointingClone")):(this.setStatus("gridCloning"),this.app.startSession("grid",t))})}deselect(e){this.app.select(...this.app.selectedIds.filter(t=>t!==e))}select(e){this.app.select(e)}pushSelect(e){let t=this.app.getShape(e);this.app.select(...this.app.selectedIds.filter(n=>n!==t.parentId),e)}selectNone(){this.app.selectNone()}};var _p=require("@tldraw/core"),Ia=R(require("@tldraw/vec"));var Jo=class extends Ce{constructor(){super(...arguments);l(this,"type","sticky");l(this,"shapeId");l(this,"onPointerDown",()=>{if(!this.app.readOnly){if(this.status==="creating"){this.setStatus("idle"),this.app.appState.isToolLocked||this.app.selectTool("select");return}if(this.status==="idle"){let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:r,currentStyle:i}}=this.app,d=this.getNextChildIndex(),a=_p.Utils.uniqueId();this.shapeId=a;let c=Ir.create({id:a,parentId:r,childIndex:d,point:n?Ia.default.snap(e,t):e,style:S({},i)}),p=Ir.getBounds(c);c.point=Ia.default.sub(c.point,[p.width/2,p.height/2]),this.app.patchCreate([c]),this.app.startSession("translate"),this.setStatus("creating")}}});l(this,"onPointerUp",()=>{this.app.readOnly||this.status==="creating"&&(this.setStatus("idle"),this.app.completeSession(),this.app.selectTool("select"),this.app.setEditingId(this.shapeId))})}};var Yp=R(require("@tldraw/vec"));var Qo=class extends Ce{constructor(){super(...arguments);l(this,"type","text");l(this,"stopEditingShape",()=>{this.setStatus("idle"),this.app.appState.isToolLocked||this.app.selectTool("select")});l(this,"onKeyUp",()=>{});l(this,"onKeyDown",()=>{});l(this,"onPointerDown",()=>{if(this.status==="creating"){this.stopEditingShape();return}if(this.status==="idle"){let{currentPoint:e,currentGrid:t,settings:{showGrid:n}}=this.app;this.app.createTextShapeAtPoint(n?Yp.default.snap(e,t):e,void 0,!0),this.setStatus("creating");return}});l(this,"onPointerUp",()=>{});l(this,"onPointShape",e=>{if(this.app.readOnly)return;let t=this.app.getShape(e.target);t.type==="text"&&(this.setStatus("idle"),this.app.setEditingId(t.id))});l(this,"onShapeBlur",()=>{this.app.readOnly||this.stopEditingShape()})}};var fi=require("@tldraw/core"),Zp=R(require("@tldraw/vec"));var er=class extends Ce{constructor(){super(...arguments);l(this,"type","triangle");l(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:r,currentStyle:i}}=this.app,d=this.getNextChildIndex(),a=fi.Utils.uniqueId(),c=$s.create({id:a,parentId:r,childIndex:d,point:n?Zp.default.snap(e,t):e,style:S({},i)});this.app.patchCreate([c]),this.app.startSession("transformSingle",c.id,fi.TLBoundsCorner.BottomRight,!0),this.setStatus("creating")})}};var Ca=Qe.Utils.uniqueId(),ze=class extends Xs{constructor(e,t={}){super(ze.defaultState,e,ze.version,(n,r,i)=>nn(k(S({},r),{document:k(S(S({},r.document),n.document),{version:i})}),ze.version));l(this,"callbacks",{});l(this,"tools",{select:new qo(this),erase:new _o(this),["text"]:new Qo(this),["draw"]:new Ko(this),["ellipse"]:new Uo(this),["rectangle"]:new Zo(this),["triangle"]:new er(this),["line"]:new Yo(this),["arrow"]:new No(this),["sticky"]:new Jo(this)});l(this,"currentTool",this.tools.select);l(this,"session");l(this,"readOnly",!1);l(this,"isDirty",!1);l(this,"isCreating",!1);l(this,"originPoint",[0,0]);l(this,"currentPoint",[0,0]);l(this,"previousPoint",[0,0]);l(this,"shiftKey",!1);l(this,"altKey",!1);l(this,"metaKey",!1);l(this,"ctrlKey",!1);l(this,"spaceKey",!1);l(this,"isPointing",!1);l(this,"isForcePanning",!1);l(this,"isErasingWithPen",!1);l(this,"isPastePrevented",!1);l(this,"editingStartTime",-1);l(this,"fileSystemHandle",null);l(this,"viewport",Qe.Utils.getBoundsFromPoints([[0,0],[100,100]]));l(this,"rendererBounds",Qe.Utils.getBoundsFromPoints([[0,0],[100,100]]));l(this,"selectHistory",{stack:[[]],pointer:0});l(this,"clipboard");l(this,"rotationInfo",{selectedIds:[],center:[0,0]});l(this,"migrate",e=>nn(e,ze.version));l(this,"onReady",()=>{var e,t;this.loadDocument(this.document),ha().then(n=>{this.fileSystemHandle=n});try{this.patchState(k(S({},nn(this.state,ze.version)),{appState:{status:"idle"}}))}catch(n){console.error("The data appears to be corrupted. Resetting!",n),localStorage.setItem(this.document.id+"_corrupted",JSON.stringify(this.document)),this.patchState(k(S({},ze.defaultState),{appState:k(S({},ze.defaultState.appState),{status:"idle"})}))}(t=(e=this.callbacks).onMount)==null||t.call(e,this)});l(this,"cleanup",(e,t)=>{var d;let n=S({},e);n.document!==t.document&&Object.entries(n.document.pages).forEach(([a,c])=>{if(c===void 0){delete n.document.pages[a],delete n.document.pageStates[a];return}let p=t.document.pages[a],u={};if(!p||c.shapes!==p.shapes||c.bindings!==p.bindings){c.shapes=S({},c.shapes),c.bindings=S({},c.bindings);let m=new Set;Object.entries(c.shapes).forEach(([y,T])=>{var w;let b;T?b=T.parentId:(b=(w=p==null?void 0:p.shapes[y])==null?void 0:w.parentId,delete c.shapes[y]),c.id===n.appState.currentPageId&&(p==null?void 0:p.shapes[y])!==T&&(u[y]=T),b&&b!==a&&c.shapes[b]!==void 0&&m.add(c.shapes[b])}),Object.keys(c.bindings).forEach(y=>{c.bindings[y]||delete c.bindings[y]}),n.document.pages[a]=c;let g=x.getRelatedBindings(n,Object.keys(u),a),f=new Set;g.forEach(y=>{if(!c.bindings[y.id])return;let T=c.shapes[y.toId],b=c.shapes[y.fromId];if(!(T&&b)){delete n.document.pages[a].bindings[y.id];return}if(f.has(b))return;let w=x.updateArrowBindings(c,b);if(f.add(b),w){let v=S(S({},b),w);c.shapes[b.id]=v}}),m.forEach(y=>{if(!y)throw Error("no group!");let T=y.children.filter(w=>c.shapes[w]!==void 0),b=Qe.Utils.getCommonBounds(T.map(w=>c.shapes[w]).filter(Boolean).map(w=>x.getRotatedBounds(w)));c.shapes[y.id]=k(S({},y),{point:[b.minX,b.minY],size:[b.width,b.height],children:T})})}let h=S({},n.document.pageStates[a]);h.brush||delete h.brush,h.hoveredId&&!c.shapes[h.hoveredId]&&delete h.hoveredId,h.bindingId&&!c.bindings[h.bindingId]&&(x.warn(`Could not find the binding of ${a}`),delete h.bindingId),h.editingId&&!c.shapes[h.editingId]&&(x.warn("Could not find the editing shape!"),delete h.editingId),n.document.pageStates[a]=h}),Object.keys((d=n.document.assets)!=null?d:{}).forEach(a=>{var c,p;(c=n.document.assets)!=null&&c[a]||(p=n.document.assets)==null||delete p[a]});let r=n.appState.currentPageId,i=n.document.pageStates[r];if(n.room&&n.room!==t.room){let a=k(S({},n.room),{users:S({},n.room.users)});t.room&&Object.values(t.room.users).filter(Boolean).forEach(c=>{a.users[c.id]===void 0&&delete a.users[c.id]}),n.room=a}return n.room&&(n.room.users[n.room.userId]=k(S({},n.room.users[n.room.userId]),{point:this.currentPoint,selectedIds:i.selectedIds})),this.readOnly&&(n.document.pages=t.document.pages),n});l(this,"broadcastPatch",(e,t)=>{var p,u,h,m,g,f,y,T,b;let n={},r={},i={},d=(h=(u=(p=e==null?void 0:e.document)==null?void 0:p.pages)==null?void 0:u[this.currentPageId])==null?void 0:h.shapes,a=(f=(g=(m=e==null?void 0:e.document)==null?void 0:m.pages)==null?void 0:g[this.currentPageId])==null?void 0:f.bindings,c=(y=e==null?void 0:e.document)==null?void 0:y.assets;d&&Object.keys(d).forEach(w=>{n[w]=this.getShape(w,this.currentPageId)}),a&&Object.keys(a).forEach(w=>{r[w]=this.getBinding(w,this.currentPageId)}),c&&Object.keys(c).forEach(w=>{i[w]=this.document.assets[w]}),(b=(T=this.callbacks).onChangePage)==null||b.call(T,this,n,r,i,t)});l(this,"onPatch",(e,t,n)=>{var r,i,d,a,c,p;(this.callbacks.onChangePage&&((i=(r=t==null?void 0:t.document)==null?void 0:r.pages)==null?void 0:i[this.currentPageId])||((d=t==null?void 0:t.document)==null?void 0:d.assets))&&(((a=t==null?void 0:t.document)==null?void 0:a.assets)||this.session&&this.session.type!=="brush"&&this.session.type!=="erase"&&this.session.type!=="draw")&&this.broadcastPatch(t,!1),(p=(c=this.callbacks).onPatch)==null||p.call(c,this,t,n)});l(this,"onCommand",(e,t,n)=>{var r,i;this.clearSelectHistory(),this.isDirty=!0,(i=(r=this.callbacks).onCommand)==null||i.call(r,this,t,n)});l(this,"onReplace",()=>{this.clearSelectHistory(),this.isDirty=!1});l(this,"onUndo",()=>{var e,t;this.rotationInfo.selectedIds=[...this.selectedIds],(t=(e=this.callbacks).onUndo)==null||t.call(e,this)});l(this,"onRedo",()=>{var e,t;this.rotationInfo.selectedIds=[...this.selectedIds],(t=(e=this.callbacks).onRedo)==null||t.call(e,this)});l(this,"onPersist",(e,t)=>{var n,r;(r=(n=this.callbacks).onPersist)==null||r.call(n,this),this.broadcastPatch(t,!0)});l(this,"prevSelectedIds",this.selectedIds);l(this,"onStateDidChange",(e,t)=>{var n,r,i,d;(r=(n=this.callbacks).onChange)==null||r.call(n,this,t),this.room&&this.selectedIds!==this.prevSelectedIds&&((d=(i=this.callbacks).onChangePresence)==null||d.call(i,this,k(S({},this.room.users[this.room.userId]),{selectedIds:this.selectedIds,session:!!this.session})),this.prevSelectedIds=this.selectedIds)});l(this,"preventPaste",()=>{if(this.isPastePrevented)return;let e=n=>n.stopImmediatePropagation(),t=()=>{setTimeout(()=>{document.removeEventListener("paste",e,{capture:!0}),this.isPastePrevented=!1},50)};document.addEventListener("paste",e,{capture:!0}),window.addEventListener("pointerup",t,{once:!0}),this.isPastePrevented=!0});l(this,"justSent",!1);l(this,"getReservedContent",(e,t=this.currentPageId)=>{let{bindings:n}=this.document.pages[t],r={},i={},d=Object.values(n),a=new Map(d.map(g=>[g.toId,g])),c=new Map(d.map(g=>[g.fromId,g])),p=[a,c],u=[];this.session&&e.forEach(g=>u.push(g)),this.pageState.editingId&&u.push(this.pageState.editingId);let h=new Set(u),m=new Set;for(;u.length>0;){let g=u.pop();if(!g)break;if(m.has(g))continue;m.add(g);let f=this.getShape(g);r[g]=f,f.parentId!==t&&u.push(f.parentId),f.children&&u.push(...f.children),p.map(y=>y.get(f.id)).filter(Boolean).forEach(y=>{i[y.id]=y,u.push(y.toId,y.fromId)})}return{reservedShapes:r,reservedBindings:i,strongReservedShapeIds:h}});l(this,"replacePageContent",(e,t,n,r=this.currentPageId)=>{if(this.justSent)return this.justSent=!1,this;let i=this.document.pages[this.currentPageId];return Object.values(e).forEach(d=>{d.parentId!==r&&!(i.shapes[d.parentId]||e[d.parentId])&&(console.warn("Added a shape without a parent on the page"),d.parentId=r)}),this.useStore.setState(d=>{let{hoveredId:a,editingId:c,bindingId:p,selectedIds:u}=d.document.pageStates[r],h=[...u],m=c&&d.document.pages[this.currentPageId].shapes[c];m&&h.push(m.id);let{reservedShapes:g,reservedBindings:f,strongReservedShapeIds:y}=this.getReservedContent(h,this.currentPageId);Object.values(g).filter(I=>!("text"in I)).forEach(I=>{let D=e[I.id];if(!!D){if(!(I.type==="arrow"||y.has(I.id))){e[I.id]=D;return}"decorations"in D&&"decorations"in I&&(e[I.id]=k(S({},I),{decorations:D.decorations})),I.style=D.style}});let T=S(S({},e),g);m&&(T[m.id]=m);let b=S(S({},t),f),w=S({},n),v=k(S({},d),{document:k(S({},d.document),{pages:{[r]:k(S({},d.document.pages[r]),{shapes:T,bindings:b})},assets:w,pageStates:k(S({},d.document.pageStates),{[r]:k(S({},d.document.pageStates[r]),{selectedIds:u.filter(I=>T[I]!==void 0),hoveredId:a?T[a]===void 0?void 0:a:void 0,editingId:c,bindingId:p?b[p]===void 0?void 0:p:void 0})})})}),P=v.document.pages[r],C=x.getRelatedBindings(v,Object.keys(T),r),B=new Set;return C.forEach(I=>{if(!P.bindings[I.id])return;let D=P.shapes[I.fromId];if(B.has(D))return;let A=x.updateArrowBindings(P,D);if(B.add(D),A){let O=S(S({},D),A);P.shapes[D.id]=O}}),Object.values(T).forEach(I=>{if(I.type!=="group")return;let D=I.children.filter(O=>P.shapes[O]!==void 0),A=Qe.Utils.getCommonBounds(D.map(O=>P.shapes[O]).filter(Boolean).map(O=>x.getRotatedBounds(O)));P.shapes[I.id]=k(S({},I),{point:[A.minX,A.minY],size:[A.width,A.height],children:D})}),this.state.document=v.document,v},!0),this});l(this,"updateBounds",e=>{this.rendererBounds=e;let{point:t,zoom:n}=this.camera;this.updateViewport(t,n),!this.readOnly&&this.session&&this.session.update()});l(this,"updateViewport",(e,t)=>{let{width:n,height:r}=this.rendererBounds,[i,d]=_.Vec.sub(_.Vec.div([0,0],t),e),[a,c]=_.Vec.sub(_.Vec.div([n,r],t),e);this.viewport={minX:i,minY:d,maxX:a,maxY:c,width:a-i,height:c-d}});l(this,"setEditingId",(e,t=!1)=>{if(!this.readOnly){if(e)this.startSession("edit",e,t);else{if(!this.pageState.editingId)return;this.completeSession()}this.editingStartTime=performance.now(),this.patchState({document:{pageStates:{[this.currentPageId]:{editingId:e}}}},"set_editing_id")}});l(this,"setHoveredId",e=>{this.patchState({document:{pageStates:{[this.currentPageId]:{hoveredId:e}}}},"set_hovered_id")});l(this,"setSetting",(e,t)=>{if(this.session)return this;let n={settings:{[e]:typeof t=="function"?t(this.settings[e]):t}};return this.patchState(n,`settings:${e}`),this.persist(n),this});l(this,"toggleFocusMode",()=>{if(this.session)return this;let e={settings:{isFocusMode:!this.settings.isFocusMode}};return this.patchState(e,"settings:toggled_focus_mode"),this.persist(e),this});l(this,"togglePenMode",()=>{if(this.session)return this;let e={settings:{isPenMode:!this.settings.isPenMode}};return this.patchState(e,"settings:toggled_pen_mode"),this.persist(e),this});l(this,"toggleDarkMode",()=>{if(this.session)return this;let e={settings:{isDarkMode:!this.settings.isDarkMode}};return this.patchState(e,"settings:toggled_dark_mode"),this.persist(e),this});l(this,"toggleZoomSnap",()=>{if(this.session)return this;let e={settings:{isZoomSnap:!this.settings.isZoomSnap}};return this.patchState(e,"settings:toggled_zoom_snap"),this.persist(e),this});l(this,"toggleDebugMode",()=>{if(this.session)return this;let e={settings:{isDebugMode:!this.settings.isDebugMode}};return this.patchState(e,"settings:toggled_debug"),this.persist(e),this});l(this,"setMenuOpen",e=>{let t={appState:{isMenuOpen:e}};return this.patchState(t,"ui:toggled_menu_opened"),this.persist(t),this});l(this,"setIsLoading",e=>{let t={appState:{isLoading:e}};return this.patchState(t,"ui:toggled_is_loading"),this.persist(t),this});l(this,"setDisableAssets",e=>(this.patchState({appState:{disableAssets:e}},"ui:toggled_disable_images"),this));l(this,"toggleGrid",()=>{if(this.session)return this;let e={settings:{showGrid:!this.settings.showGrid}};return this.patchState(e,"settings:toggled_grid"),this.persist(e),this});l(this,"selectTool",e=>{if(this.readOnly||this.session)return this;this.isPointing=!1;let t=this.tools[e];return t===this.currentTool?(this.patchState({appState:{isToolLocked:!1}}),this):(this.currentTool.onExit(),t.previous=this.currentTool.type,this.currentTool=t,this.currentTool.onEnter(),this.patchState({appState:{activeTool:e,isToolLocked:!1}},`selected_tool:${e}`))});l(this,"toggleToolLock",()=>this.session?this:this.patchState({appState:{isToolLocked:!this.appState.isToolLocked}},"toggled_tool_lock"));l(this,"resetDocument",()=>{if(this.session)return this;this.session=void 0,this.currentTool=this.tools.select;let e=ze.defaultDocument;return e.pages.page.name="Page 1",this.resetHistory().clearSelectHistory().loadDocument(ze.defaultDocument).persist({}),this});l(this,"updateUsers",(e,t=!1)=>{this.patchState({room:{users:Object.fromEntries(e.map(n=>[n.id,n]))}},t?"room:self:update":"room:user:update")});l(this,"removeUser",e=>{this.patchState({room:{users:{[e]:void 0}}})});l(this,"mergeDocument",e=>{if(this.document.id!==e.id)return this.replaceState(k(S({},nn(k(S({},this.state),{document:e}),ze.version)),{appState:k(S({},this.appState),{currentPageId:Object.keys(e.pages)[0]})})),this;let t=S({},this.document.pageStates),n=k(S({},this.appState),{currentPageId:e.pages[this.currentPageId]?this.currentPageId:Object.keys(e.pages)[0],pages:Object.values(e.pages).map((i,d)=>({id:i.id,name:i.name,childIndex:i.childIndex||d}))});this.resetHistory(),Object.keys(this.document.pages).forEach(i=>{e.pages[i]||(i===this.appState.currentPageId&&(this.cancelSession(),this.selectNone()),t[i]=void 0)}),this.session&&this.selectedIds.filter(i=>!e.pages[this.currentPageId].shapes[i]).forEach(i=>e.pages[this.currentPageId].shapes[i]=this.page.shapes[i]),Object.entries(t).forEach(([i,d])=>{d.selectedIds=d.selectedIds.filter(a=>!!e.pages[i].shapes[a])});let{editingId:r}=this.pageState;return r&&(e.pages[this.currentPageId].shapes[r]=this.page.shapes[r],t[this.currentPageId].selectedIds=[r]),this.replaceState(k(S({},nn(k(S({},this.state),{document:k(S({},e),{pageStates:t})}),ze.version)),{appState:n}),"merge")});l(this,"updateDocument",(e,t="updated_document")=>{let n=this.state,r=k(S({},n),{document:k(S({},n.document),{assets:e.assets})});e.pages[this.currentPageId]||(r.appState=k(S({},n.appState),{currentPageId:Object.keys(e.pages)[0]}));let i=1;for(let d of Object.values(e.pages))d!==n.document.pages[d.id]&&(r.document.pages[d.id]=d,d.name||(r.document.pages[d.id].name=`Page ${i+1}`,i++));for(let d of Object.values(e.pageStates))if(d!==n.document.pageStates[d.id]){r.document.pageStates[d.id]=d;let a=e.pages[d.id],c=["bindingId","editingId","hoveredId","pointedId"];for(let p of c)a.shapes[p]||(d[p]=void 0);d.selectedIds=d.selectedIds.filter(p=>!!e.pages[a.id].shapes[p])}return this.replaceState(nn(r,r.document.version||0),`${t}:${e.id}`)});l(this,"loadRoom",e=>(this.patchState({room:{id:e,userId:Ca,users:{[Ca]:{id:Ca,color:Oi[Math.floor(Math.random()*Oi.length)],point:[100,100],selectedIds:[],activeShapes:[]}}}}),this));l(this,"loadDocument",e=>{this.setIsLoading(!0),this.selectNone(),this.resetHistory(),this.clearSelectHistory(),this.session=void 0;let t=k(S({},ze.defaultState),{settings:S({},this.state.settings),document:e,appState:k(S(S({},ze.defaultState.appState),this.state.appState),{currentPageId:Object.keys(e.pages)[0],disableAssets:this.disableAssets})});this.replaceState(nn(t,ze.version),"loaded_document");let{point:n,zoom:r}=this.camera;return this.updateViewport(n,r),this.setIsLoading(!1),this});l(this,"loadPageFromURL",(e,t)=>{let n=e.id,r=k(S({},this.state.document),{pageStates:k(S({},this.state.document.pageStates),{[n]:t}),pages:k(S({},this.document.pages),{[n]:e})});this.loadDocument(r),this.persist({})});l(this,"newProject",()=>{!this.isLocal||(this.fileSystemHandle=null,this.resetDocument())});l(this,"saveProject",()=>F(this,null,function*(){if(this.readOnly)return;let e=yield ti(nn(this.state,ze.version).document,this.fileSystemHandle);return this.fileSystemHandle=e,this.persist({}),this.isDirty=!1,this}));l(this,"saveProjectAs",e=>F(this,null,function*(){try{let t=yield ti(this.document,null,e);this.fileSystemHandle=t,this.persist({}),this.isDirty=!1}catch(t){console.error(t.message)}return this}));l(this,"openProject",()=>F(this,null,function*(){if(!!this.isLocal)try{let e=yield ga();if(!e)throw Error();let{fileHandle:t,document:n}=e;this.loadDocument(n),this.fileSystemHandle=t,this.zoomToFit(),this.persist({})}catch(e){console.error(e)}finally{this.persist({})}}));l(this,"openAsset",()=>F(this,null,function*(){if(!this.disableAssets)try{let e=yield fa();if(Array.isArray(e))this.addMediaFromFiles(e,this.centerPoint);else{if(!e)return;this.addMediaFromFiles([e])}}catch(e){console.error(e)}finally{this.persist({})}}));l(this,"signOut",()=>{});l(this,"getAppState",()=>this.appState);l(this,"getPage",(e=this.currentPageId)=>x.getPage(this.state,e||this.currentPageId));l(this,"getShapes",(e=this.currentPageId)=>x.getShapes(this.state,e||this.currentPageId));l(this,"getBindings",(e=this.currentPageId)=>x.getBindings(this.state,e||this.currentPageId));l(this,"getShape",(e,t=this.currentPageId)=>x.getShape(this.state,e,t));l(this,"getShapeBounds",(e,t=this.currentPageId)=>x.getBounds(this.getShape(e,t)));l(this,"getBinding",(e,t=this.currentPageId)=>x.getBinding(this.state,e,t));l(this,"getPageState",(e=this.currentPageId)=>x.getPageState(this.state,e||this.currentPageId));l(this,"getPagePoint",(e,t=this.currentPageId)=>{let{camera:n}=this.getPageState(t);return _.Vec.sub(_.Vec.div(e,n.zoom),n.point)});l(this,"createPage",(e,t)=>{if(this.readOnly)return this;let{width:n,height:r}=this.rendererBounds;return this.setState(fp(this,[-n/2,-r/2],e,t))});l(this,"changePage",e=>this.setState(up(this,e)));l(this,"movePage",(e,t)=>this.readOnly?this:this.setState(Cp(this,e,t)));l(this,"renamePage",(e,t)=>this.readOnly?this:this.setState(Dp(this,e,t)));l(this,"duplicatePage",e=>this.readOnly?this:this.setState(yp(this,e)));l(this,"deletePage",e=>this.readOnly?this:Object.values(this.document.pages).length<=1?this:this.setState(Sp(this,e||this.currentPageId)));l(this,"cut",(e=this.selectedIds,t)=>(t==null||t.preventDefault(),this.copy(e,t),this.readOnly||this.delete(e),this));l(this,"copy",(e=this.selectedIds,t)=>{var i;t==null||t.preventDefault(),this.clipboard=this.getContent(e);let r=`<tldraw>${JSON.stringify(S({type:"tldr/clipboard",shapes:[],assets:[],bindings:[]},this.clipboard))}</tldraw>`;return ip(r),t&&((i=t.clipboardData)==null||i.setData("text/html",r)),navigator.clipboard&&window.ClipboardItem&&navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([r],{type:"text/html"})})]),this});l(this,"paste",(e,t)=>F(this,null,function*(){var p,u;if(this.readOnly)return;let n=[],r=[],i,d=h=>F(this,null,function*(){let m=document.createElement("div");m.innerHTML=h;let g=m.firstChild;g.style.setProperty("background-color","transparent");let f=yield x.getImageForSvg(g,"svg",{scale:1,quality:1});if(f){let y=new File([f],"image.svg");n.push(y)}else a(h)}),a=h=>{let m=this.getPagePoint(e!=null?e:this.centerPoint,this.currentPageId),g=h.includes(`
`);r.push(x.getShapeUtil("text").getShape({id:Qe.Utils.uniqueId(),type:"text",parentId:this.appState.currentPageId,text:x.normalizeText(h.trim()),point:m,style:k(S({},this.appState.currentStyle),{textAlign:g?"start":this.appState.currentStyle.textAlign})}))},c=h=>{var m;try{let g=(m=h.match(/<tldraw>(.*)<\/tldraw>/))==null?void 0:m[1];if(!g)return;let f=JSON.parse(g);if(f.type==="tldr/clipboard"){i=f;return}else throw Error("Not tldraw data!")}catch(g){a(h)}};if(t!==void 0){let h=Array.from((u=(p=t.clipboardData)==null?void 0:p.items)!=null?u:[]);yield Promise.all(h.map(m=>F(this,null,function*(){var y;let{type:g,kind:f}=m;switch(f){case"string":{let T=yield new Promise(b=>m.getAsString(b));switch(g){case"text/html":{if((y=T.match(/<tldraw>(.*)<\/tldraw>/))!=null&&y[1]){c(T);return}break}case"text/plain":{T.startsWith("<svg")?yield d(T):a(T);break}}break}case"file":{let T=m.getAsFile();T&&n.push(T);break}}})))}if(i)return this.insertContent(i,{point:e,select:!0}),this;if(n.length)return this.addMediaFromFiles(n,e),this;if(r.length){let h=this.getPagePoint(e!=null?e:this.centerPoint,this.currentPageId),m=_.Vec.add(h,[0,0]);return r.forEach((g,f)=>{let y=x.getBounds(g);f===0&&(m[0]-=y.width/2,m[1]-=y.height/2),g.point=[...m],m[0]+=y.width}),this.createShapes(...r),this}return this.clipboard?this.insertContent(this.clipboard):sp().then(h=>{h&&c(h)}),this}));l(this,"getSvg",(...n)=>F(this,[...n],function*(e=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes),t={}){if(e.length===0)return;let r=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=document.createElementNS("http://www.w3.org/2000/svg","defs"),d=document.createElementNS("http://www.w3.org/2000/svg","style");if(typeof window!="undefined"&&window.focus(),t.includeFonts)try{let{fonts:g}=yield fetch(ze.assetSrc,{mode:"no-cors"}).then(f=>f.json());d.textContent=`
          @font-face {
            font-family: 'Caveat Brush';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${g.caveat}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Source Code Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${g.source_code_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Source Sans Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${g.source_sans_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Crimson Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${g.crimson_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          `}catch(g){x.warn("Could not find tldraw-assets.json file.")}else d.textContent="@import url('https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Source+Code+Pro&family=Source+Sans+Pro&family=Crimson+Pro&display=block');";i.append(d),r.append(i);let a=e.map(g=>this.getShape(g,this.currentPageId)).sort((g,f)=>g.childIndex-f.childIndex),c=Qe.Utils.getCommonBounds(a.map(x.getRotatedBounds)),p=g=>{let f=x.getShapeUtil(g),y=f.getBounds(g),T=f.getSvgElement(g,this.settings.isDarkMode);if(!!T)return g.type==="image"?T.setAttribute("xlink:href",this.document.assets[g.assetId].src):g.type==="video"&&T.setAttribute("xlink:href",this.serializeVideo(g.id)),T.setAttribute("transform",`translate(${(16+g.point[0]-c.minX).toFixed(2)}, ${(16+g.point[1]-c.minY).toFixed(2)}) rotate(${((g.rotation||0)*180/Math.PI).toFixed(2)}, ${(y.width/2).toFixed(2)}, ${(y.height/2).toFixed(2)})`),T};a.forEach(g=>{var y;if((y=g.children)!=null&&y.length){let T=document.createElementNS("http://www.w3.org/2000/svg","g");g.children.forEach(b=>{let w=this.getShape(b,this.currentPageId),v=p(w);v&&T.append(v)}),r.append(T);return}let f=p(g);f&&r.append(f)}),r.setAttribute("viewBox",[0,0,c.width+16*2,c.height+16*2].join(" ")),r.setAttribute("width",(c.width+16*2).toString()),r.setAttribute("height",(c.height+16*2).toString());let u=this.settings.exportBackground,h="#212529",m="rgb(248, 249, 250)";switch(u){case"auto":{r.style.setProperty("background-color",this.settings.isDarkMode?h:m);break}case"dark":{r.style.setProperty("background-color",h);break}case"light":{r.style.setProperty("background-color",m);break}case"transparent":default:{r.style.setProperty("background-color","transparent");break}}return r.querySelectorAll(".tl-fill-hitarea, .tl-stroke-hitarea, .tl-binding-indicator").forEach(g=>g.remove()),r}));l(this,"copySvg",(...t)=>F(this,[...t],function*(e=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes)){if(e.length===0)return;let n=yield this.getSvg(e);if(!n)return;let r=x.getSvgString(n,1);this.clipboard=this.getContent(e);let i=JSON.stringify(S({type:"tldr/clipboard",shapes:[],assets:[],bindings:[]},this.clipboard));return navigator.clipboard&&window.ClipboardItem&&navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([i],{type:"text/html"}),"text/plain":new Blob([r],{type:"text/plain"})})]),r}));l(this,"getContent",e=>{let t=this.getPage(this.currentPageId);if(e&&e.length===0||(e||(e=this.selectedIds),e.length===0&&(e=Object.keys(t.shapes)),e.length===0))return;let n=e.map(a=>t.shapes[a]).flatMap(a=>{var c;return[a,...((c=a.children)!=null?c:[]).map(p=>t.shapes[p])]}).map(We),r=new Set(n.map(a=>a.id));n.forEach(a=>{a.parentId===this.currentPageId&&(a.parentId="currentPageId")});let i=Object.values(t.bindings).filter(a=>{if(r.has(a.fromId)||r.has(a.toId))return!0;if(r.has(a.fromId)){let p=n.find(u=>u.id===a.fromId).handles;p&&Object.values(p).forEach(u=>{u.bindingId===a.id&&(u.bindingId=void 0)})}if(r.has(a.toId)){let p=n.find(u=>u.id===a.toId).handles;p&&Object.values(p).forEach(u=>{u.bindingId===a.id&&(u.bindingId=void 0)})}return!1}).map(We),d=[...new Set(n.map(a=>{if(!!a.assetId)return this.document.assets[a.assetId]}).filter(Boolean).map(We))];return{shapes:n,bindings:i,assets:d}});l(this,"copyJson",(e=this.selectedIds)=>{let t=this.getContent(e);return t&&x.copyStringToClipboard(JSON.stringify(t)),this});l(this,"exportJson",(e=this.selectedIds)=>{let t=this.getContent(e);if(t){let n=new Blob([JSON.stringify(t)],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download="export.json",i.click()}return this});l(this,"insertContent",(e,t={})=>this.setState(Hp(this,e,t),"insert_content"));l(this,"getImage",(...n)=>F(this,[...n],function*(e="png",t={}){let{ids:r=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes)}=t,i=yield this.getSvg(r,{includeFonts:e!=="svg"});if(!i)return;if(e==="svg"){let a=x.getSvgString(i,1);return new Blob([a],{type:"image/svg+xml"})}let d=yield x.getImageForSvg(i,e,t);if(!!d)return d}));l(this,"copyImage",(...n)=>F(this,[...n],function*(e="png",t={}){if(e==="svg"){this.copySvg(t.ids);return}if(!(navigator.clipboard&&window.ClipboardItem)){console.warn("Sorry, your browser does not support copying images.");return}let r=yield this.getImage(e,t);!r||navigator.clipboard.write([new ClipboardItem({[r.type]:r})])}));l(this,"exportImage",(...n)=>F(this,[...n],function*(e="png",t={}){var a;let{pageId:r=this.currentPageId}=t,i=yield this.getImage(e,t);if(!i)return;let d=(a=this.document.pages[r].name)!=null?a:"export";if(this.callbacks.onExport)this.callbacks.onExport(this,{name:d,type:e,blob:i});else{let c=URL.createObjectURL(i),p=document.createElement("a");p.href=c,p.download=`${d}.${e}`,p.click()}}));l(this,"setCamera",(e,t,n)=>(this.updateViewport(e,t),this.patchState({document:{pageStates:{[this.currentPageId]:{camera:{point:e,zoom:t}}}}},n),this));l(this,"resetCamera",()=>this.setCamera(this.centerPoint,1,"reset_camera"));l(this,"pan",e=>{let{camera:t}=this.pageState;return this.setCamera(_.Vec.toFixed(_.Vec.sub(t.point,e)),t.zoom,"panned")});l(this,"pinchZoom",(e,t,n)=>{let{camera:r}=this.pageState,i=_.Vec.sub(r.point,_.Vec.div(t,r.zoom)),d=n,a=_.Vec.sub(_.Vec.div(e,r.zoom),i),c=_.Vec.sub(_.Vec.div(e,d),i);return this.setCamera(_.Vec.toFixed(_.Vec.add(i,_.Vec.sub(c,a))),d,"pinch_zoomed")});l(this,"zoomTo",(e,t=this.centerPoint)=>{let{zoom:n,point:r}=this.camera,i=_.Vec.sub(_.Vec.div(t,n),r),d=_.Vec.sub(_.Vec.div(t,e),r);return this.setCamera(_.Vec.toFixed(_.Vec.add(r,_.Vec.sub(d,i))),e,"zoomed_camera")});l(this,"zoomIn",()=>{let e=Math.round(this.camera.zoom*100/25),t=x.getCameraZoom((e+1)*.25);return this.zoomTo(t)});l(this,"zoomOut",()=>{let e=Math.round(this.camera.zoom*100/25),t=x.getCameraZoom((e-1)*.25);return this.zoomTo(t)});l(this,"zoomToFit",()=>{let{shapes:e,pageState:{camera:t}}=this;if(e.length===0)return this;let{rendererBounds:n}=this,r=Qe.Utils.getCommonBounds(e.map(x.getBounds)),i=x.getCameraZoom(Math.min((n.width-128)/r.width,(n.height-128)/r.height));i=t.zoom===i||t.zoom<1?Math.min(1,i):i;let d=(n.width-r.width*i)/2/i,a=(n.height-r.height*i)/2/i;return this.setCamera(_.Vec.toFixed(_.Vec.sub([d,a],[r.minX,r.minY])),i,"zoomed_to_fit")});l(this,"zoomToSelection",()=>{if(this.selectedIds.length===0)return this;let{rendererBounds:e}=this,t=x.getSelectedBounds(this.state),n=x.getCameraZoom(Math.min((e.width-128)/t.width,(e.height-128)/t.height));n=this.camera.zoom===n||this.camera.zoom<1?Math.min(1,n):n;let r=(e.width-t.width*n)/2/n,i=(e.height-t.height*n)/2/n;return this.setCamera(_.Vec.toFixed(_.Vec.sub([r,i],[t.minX,t.minY])),n,"zoomed_to_selection")});l(this,"zoomToContent",()=>{let e=this.shapes,t=this.pageState;if(e.length===0)return this;let{rendererBounds:n}=this,{zoom:r}=t.camera,i=Qe.Utils.getCommonBounds(e.map(x.getBounds)),d=(n.width-i.width*r)/2/r,a=(n.height-i.height*r)/2/r;return this.setCamera(_.Vec.toFixed(_.Vec.sub([d,a],[i.minX,i.minY])),this.camera.zoom,"zoomed_to_content")});l(this,"resetZoom",()=>this.zoomTo(1));l(this,"zoomBy",Qe.Utils.throttle((e,t)=>{let{zoom:n}=this.camera,r=x.getCameraZoom(n-e*n);return this.zoomTo(r,t)},16));l(this,"clearSelectHistory",()=>(this.selectHistory.pointer=0,this.selectHistory.stack=[this.selectedIds],this));l(this,"addToSelectHistory",e=>(this.selectHistory.pointer<this.selectHistory.stack.length&&(this.selectHistory.stack=this.selectHistory.stack.slice(0,this.selectHistory.pointer+1)),this.selectHistory.pointer++,this.selectHistory.stack.push(e),this));l(this,"setSelectedIds",(e,t=!1)=>{let n=t?[...this.pageState.selectedIds,...e]:[...e];return this.patchState({appState:{activeTool:"select"},document:{pageStates:{[this.currentPageId]:{selectedIds:n}}}},"selected")});l(this,"undoSelect",()=>(this.selectHistory.pointer>0&&(this.selectHistory.pointer--,this.setSelectedIds(this.selectHistory.stack[this.selectHistory.pointer])),this));l(this,"redoSelect",()=>(this.selectHistory.pointer<this.selectHistory.stack.length-1&&(this.selectHistory.pointer++,this.setSelectedIds(this.selectHistory.stack[this.selectHistory.pointer])),this));l(this,"select",(...e)=>(e.forEach(t=>{if(!this.page.shapes[t])throw Error(`That shape does not exist on page ${this.currentPageId}`)}),this.setSelectedIds(e),this.addToSelectHistory(e),this));l(this,"selectAll",(e=this.currentPageId)=>this.session?this:(this.setSelectedIds(Object.values(this.document.pages[e].shapes).filter(t=>t.parentId===e).map(t=>t.id)),this.addToSelectHistory(this.selectedIds),this.selectTool("select"),this));l(this,"selectNone",()=>(this.setSelectedIds([]),this.addToSelectHistory(this.selectedIds),this));l(this,"startSession",(e,...t)=>{var i,d;if(this.readOnly&&e!=="brush")return this;this.session&&(x.warn(`Already in a session! (${this.session.constructor.name})`),this.cancelSession());let n=Op(e);this.session=new n(this,...t);let r=this.session.start();return r&&this.patchState(r,`session:start_${this.session.constructor.name}`),(d=(i=this.callbacks).onSessionStart)==null||d.call(i,this,this.session.constructor.name),this});l(this,"updateSession",()=>{let{session:e}=this;if(!e)return this;let t=e.update();return t?this.patchState(t,`session:${e==null?void 0:e.constructor.name}`):this});l(this,"cancelSession",()=>{var n,r;let{session:e}=this;if(!e)return this;this.session=void 0;let t=e.cancel();return t&&this.patchState(t,`session:cancel:${e.constructor.name}`),this.setEditingId(),(r=(n=this.callbacks).onSessionEnd)==null||r.call(n,this,e.constructor.name),this});l(this,"completeSession",()=>{var n,r,i,d,a,c,p,u,h;let{session:e}=this;if(!e)return this;this.session=void 0;let t=e.complete();if(t===void 0)this.isCreating=!1,this.patchState({appState:{status:"idle"},document:{pageStates:{[this.currentPageId]:{editingId:void 0,bindingId:void 0,hoveredId:void 0}}}},`session:complete:${e.constructor.name}`);else if("after"in t){if(this.isCreating){if(t.before={appState:k(S({},t.before.appState),{status:"idle"}),document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(this.selectedIds.map(m=>[m,void 0]))}},pageStates:{[this.currentPageId]:{selectedIds:[],editingId:null,bindingId:null,hoveredId:null}}}},this.appState.isToolLocked){let m=((i=(r=(n=t.after)==null?void 0:n.document)==null?void 0:r.pageStates)==null?void 0:i[this.currentPageId])||{};m.selectedIds=[]}this.isCreating=!1}t.after.appState=k(S({},t.after.appState),{status:"idle"}),t.after.document=k(S({},t.after.document),{pageStates:k(S({},(d=t.after.document)==null?void 0:d.pageStates),{[this.currentPageId]:k(S({},(((a=t.after.document)==null?void 0:a.pageStates)||{})[this.currentPageId]),{editingId:null})})}),this.setState(t,`session:complete:${e.constructor.name}`)}else this.patchState(k(S({},t),{appState:k(S({},t.appState),{status:"idle"}),document:k(S({},t.document),{pageStates:{[this.currentPageId]:k(S({},(p=(c=t.document)==null?void 0:c.pageStates)==null?void 0:p[this.currentPageId]),{editingId:null})}})}),`session:complete:${e.constructor.name}`);return(h=(u=this.callbacks).onSessionEnd)==null||h.call(u,this,e.constructor.name),this});l(this,"createShapes",(...e)=>e.length===0?this:this.create(e.map(t=>x.getShapeUtil(t.type).create(S({parentId:this.currentPageId},t)))));l(this,"updateShapes",(...e)=>{let t=this.document.pages[this.currentPageId].shapes,n=e.filter(r=>t[r.id]);return n.length===0?this:this.setState(ua(this,n,this.currentPageId),"updated_shapes")});l(this,"create",(e=[],t=[])=>e.length===0?this:this.setState(ra(this,e,t)));l(this,"patchCreate",(e=[],t=[])=>e.length===0?this:this.patchState(ra(this,e,t).after));l(this,"delete",(e=this.selectedIds)=>{var n,r;if(e.length===0)return this;if(this.session)return this;let t=sa(this,e);if(this.callbacks.onAssetDelete&&((n=t.before.document)==null?void 0:n.assets)&&((r=t.after.document)==null?void 0:r.assets)){let i=Object.keys(t.before.document.assets).filter(c=>!!t.before.document.assets[c]),d=Object.keys(t.after.document.assets).filter(c=>!!t.after.document.assets[c]);i.filter(c=>!d.includes(c)).forEach(c=>this.callbacks.onAssetDelete(this,c))}return this.setState(t)});l(this,"deleteAll",()=>(this.selectAll(),this.delete(),this));l(this,"style",(e,t=this.selectedIds)=>this.setState(Ep(this,t,e)));l(this,"align",(e,t=this.selectedIds)=>t.length<2?this:this.setState(pp(this,t,e)));l(this,"distribute",(e,t=this.selectedIds)=>t.length<3?this:this.setState(Tp(this,t,e)));l(this,"stretch",(e,t=this.selectedIds)=>t.length<2?this:this.setState(Mp(this,t,e)));l(this,"flipHorizontal",(e=this.selectedIds)=>e.length===0?this:this.setState(aa(this,e,"horizontal")));l(this,"flipVertical",(e=this.selectedIds)=>e.length===0?this:this.setState(aa(this,e,"vertical")));l(this,"moveToPage",(e,t=this.currentPageId,n=this.selectedIds)=>{if(n.length===0)return this;let{rendererBounds:r}=this;return this.setState(Ip(this,n,r,t,e)),this});l(this,"moveToBack",(e=this.selectedIds)=>e.length===0?this:this.setState(Er(this,e,"toBack")));l(this,"moveBackward",(e=this.selectedIds)=>e.length===0?this:this.setState(Er(this,e,"backward")));l(this,"moveForward",(e=this.selectedIds)=>e.length===0?this:this.setState(Er(this,e,"forward")));l(this,"moveToFront",(e=this.selectedIds)=>e.length===0?this:this.setState(Er(this,e,"toFront")));l(this,"nudge",(e,t=!1,n=this.selectedIds)=>{if(n.length===0)return this;let r=t?this.settings.showGrid?this.currentGrid*4:10:this.settings.showGrid?this.currentGrid:1;return this.setState(Rp(this,n,_.Vec.mul(e,r)))});l(this,"duplicate",(e=this.selectedIds,t)=>this.readOnly?this:e.length===0?this:this.setState(wp(this,e,t)));l(this,"resetBounds",(e=this.selectedIds)=>{let t=da(this,e,this.currentPageId);return this.setState(da(this,e,this.currentPageId),t.id)});l(this,"toggleHidden",(e=this.selectedIds)=>e.length===0?this:this.setState(Qs(this,e,"isHidden")));l(this,"toggleLocked",(e=this.selectedIds)=>e.length===0?this:this.setState(Qs(this,e,"isLocked")));l(this,"toggleAspectRatioLocked",(e=this.selectedIds)=>e.length===0?this:this.setState(Qs(this,e,"isAspectRatioLocked")));l(this,"toggleDecoration",(e,t=this.selectedIds)=>t.length===0||!(e==="start"||e==="end")?this:this.setState(Bp(this,t,e)));l(this,"setShapeProps",(e,t=this.selectedIds)=>this.setState(Lp(this,t,e)));l(this,"rotate",(e=Math.PI*-.5,t=this.selectedIds)=>{if(t.length===0)return this;let n=Pp(this,t,e);return n?this.setState(n):this});l(this,"group",(e=this.selectedIds,t=Qe.Utils.uniqueId(),n=this.currentPageId)=>{if(this.readOnly)return this;if(e.length===1&&this.getShape(e[0],n).type==="group")return this.ungroup(e,n);if(e.length<2)return this;let r=xp(this,e,t,n);return r?this.setState(r):this});l(this,"ungroup",(e=this.selectedIds,t=this.currentPageId)=>{if(this.readOnly)return this;let n=e.map(i=>this.getShape(i,t)).filter(i=>i.type==="group");if(n.length===0)return this;let r=Ap(this,e,n,t);return r?this.setState(r):this});l(this,"cancel",()=>{var e,t;return(t=(e=this.currentTool).onCancel)==null||t.call(e),this});l(this,"addMediaFromFiles",(n,...r)=>F(this,[n,...r],function*(e,t=this.centerPoint){this.setIsLoading(!0);let i=[],d=this.getPagePoint(t);for(let a of e){let c=Qe.Utils.uniqueId(),p=a.name.match(/\.[0-9a-z]+$/i);if(!p)throw Error("No extension");let u=ls.includes(p[0].toLowerCase()),h=ds.includes(p[0].toLowerCase());if(!(u||h))throw Error("Wrong extension");let m=u?"image":"video",g=u?"image":"video",f;try{if(this.callbacks.onAssetCreate){let y=yield this.callbacks.onAssetCreate(this,a,c);if(!y)throw Error("Asset creation callback returned false");f=y}else f=yield Sa(a);if(typeof f=="string"){let y=[0,0];if(u){if(p[0]==".svg"){let w,v=yield ba(a),P=this.getViewboxFromSVG(v);P&&(w=P.split(" "),y[0]=parseFloat(w[2]),y[1]=parseFloat(w[3]))}_.Vec.isEqual(y,[0,0])&&(y=yield Ta(f))}else y=yield ya(f);let T=Object.values(this.document.assets).find(w=>w.type===g&&w.src===f),b;if(T)b=T.id;else{b=c;let w={id:b,type:g,name:a.name,src:f,size:y};this.patchState({document:{assets:{[b]:w}}})}i.push(this.getImageOrVideoShapeAtPoint(c,m,t,y,b))}}catch(y){console.warn(y)}}if(i.length){let a=_.Vec.add(d,[0,0]);i.forEach((p,u)=>{let h=x.getBounds(p);u===0&&(a[0]-=h.width/2,a[1]-=h.height/2),p.point=[...a],a[0]+=h.width});let c=Qe.Utils.getCommonBounds(i.map(x.getBounds));this.createShapes(...i),Qe.Utils.boundsContain(this.viewport,c)||(this.zoomToSelection(),this.zoom>1&&this.resetZoom())}return this.setIsLoading(!1),this}));l(this,"getViewboxFromSVG",e=>{let t=/.*?viewBox=["'](-?[\d.]+[, ]+-?[\d.]+[, ][\d.]+[, ][\d.]+)["']/;if(typeof e=="string"){let n=e.match(t);return n&&n.length>=2?n[1]:null}return this.setIsLoading(!1),null});l(this,"onKeyDown",(e,t,n)=>{var r,i;switch(n.key){case"/":{if(this.status==="idle"&&!this.pageState.editingId){let{shiftKey:d,metaKey:a,altKey:c,ctrlKey:p,spaceKey:u}=this;this.onPointerDown({target:"canvas",pointerId:0,origin:t.point,point:t.point,delta:[0,0],pressure:.5,shiftKey:d,ctrlKey:p,metaKey:a,altKey:c,spaceKey:u},{shiftKey:d,altKey:c,ctrlKey:p,pointerId:0,clientX:t.point[0],clientY:t.point[1]})}break}case"Escape":{this.cancel();break}case"Meta":{this.metaKey=!0;break}case"Alt":{this.altKey=!0;break}case"Control":{this.ctrlKey=!0;break}case" ":{this.isForcePanning=!0,this.spaceKey=!0;break}}return(i=(r=this.currentTool).onKeyDown)==null||i.call(r,e,t,n),this});l(this,"onKeyUp",(e,t,n)=>{var r,i;if(!!t){switch(n.key){case"/":{let{currentPoint:d,shiftKey:a,metaKey:c,altKey:p,ctrlKey:u,spaceKey:h}=this;this.onPointerUp({target:"canvas",pointerId:0,origin:d,point:d,delta:[0,0],pressure:.5,shiftKey:a,ctrlKey:u,metaKey:c,altKey:p,spaceKey:h},{shiftKey:a,altKey:p,ctrlKey:u,pointerId:0,clientX:d[0],clientY:d[1]});break}case"Meta":{this.metaKey=!1;break}case"Alt":{this.altKey=!1;break}case"Control":{this.ctrlKey=!1;break}case" ":{this.isForcePanning=!1,this.spaceKey=!1;break}}(i=(r=this.currentTool).onKeyUp)==null||i.call(r,e,t,n)}});l(this,"refreshBoundingBoxes",()=>{let e=this.shapes.map(n=>[n.id,S({point:[...n.point]},"label"in n&&{label:""})]),t=this.shapes.map(n=>[n.id,S({point:[...n.point]},"label"in n&&{label:n.label})]);jd(),this.patchState({document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(e)}}}}),this.patchState({document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(t)}}}})});l(this,"onDragOver",e=>{e.preventDefault()});l(this,"onDrop",e=>F(this,null,function*(){var t;return e.preventDefault(),this.disableAssets?this:((t=e.dataTransfer.files)!=null&&t.length&&this.addMediaFromFiles(Object.values(e.dataTransfer.files),[e.clientX,e.clientY]),this)}));l(this,"onPinchStart",(e,t)=>{var n,r;(r=(n=this.currentTool).onPinchStart)==null||r.call(n,e,t)});l(this,"onPinchEnd",(e,t)=>{var n,r;return(r=(n=this.currentTool).onPinchEnd)==null?void 0:r.call(n,e,t)});l(this,"onPinch",(e,t)=>{var n,r;return(r=(n=this.currentTool).onPinch)==null?void 0:r.call(n,e,t)});l(this,"onPan",(e,t)=>{if(this.appState.status==="pinching")return;let n=_.Vec.div(e.delta,this.camera.zoom),r=this.camera.point,i=_.Vec.sub(r,n);_.Vec.isEqual(i,r)||(this.pan(n),this.isForcePanning||this.onPointerMove(e,t),zd&&this.isForcePanning&&this.preventPaste())});l(this,"onZoom",(e,t)=>{if(this.state.appState.status!=="idle")return;let n=e.delta[2]/50;this.zoomBy(n,e.point),this.onPointerMove(e,t)});l(this,"updateInputs",e=>{this.currentPoint=this.getPagePoint(e.point).concat(e.pressure),this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.metaKey=e.metaKey});l(this,"onPointerMove",(e,t)=>{var n,r,i,d,a;if(this.previousPoint=this.currentPoint,this.updateInputs(e,t),this.isForcePanning&&this.isPointing){(n=this.onPan)==null||n.call(this,k(S({},e),{delta:_.Vec.neg(e.delta)}),t);return}if((i=(r=this.currentTool).onPointerMove)==null||i.call(r,e,t),this.state.room){let{users:c,userId:p}=this.state.room;(a=(d=this.callbacks).onChangePresence)==null||a.call(d,this,k(S({},c[p]),{point:this.getPagePoint(e.point),session:!!this.session}))}});l(this,"onPointerDown",(e,t)=>{var n,r;if(t.buttons===4)this.isForcePanning=!0;else if(this.isPointing)return;this.isPointing=!0,this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),!this.isForcePanning&&(this.currentTool.type==="draw"&&t.pointerType==="pen"&&t.button===5&&(this.selectTool("erase"),this.isErasingWithPen=!0),(r=(n=this.currentTool).onPointerDown)==null||r.call(n,e,t))});l(this,"onPointerUp",(e,t)=>{var n,r;this.isPointing=!1,this.shiftKey||(this.isForcePanning=!1),this.updateInputs(e,t),(r=(n=this.currentTool).onPointerUp)==null||r.call(n,e,t),this.isErasingWithPen&&t.pointerType==="pen"&&t.button===5&&(this.selectTool("draw"),this.isErasingWithPen=!1)});l(this,"onPointCanvas",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onPointCanvas)==null||r.call(n,e,t)});l(this,"onDoubleClickCanvas",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onDoubleClickCanvas)==null||r.call(n,e,t)});l(this,"onRightPointCanvas",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onRightPointCanvas)==null||r.call(n,e,t)});l(this,"onDragCanvas",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onDragCanvas)==null||r.call(n,e,t)});l(this,"onReleaseCanvas",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onReleaseCanvas)==null||r.call(n,e,t)});l(this,"onPointShape",(e,t)=>{var n,r;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(r=(n=this.currentTool).onPointShape)==null||r.call(n,e,t)});l(this,"onReleaseShape",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onReleaseShape)==null||r.call(n,e,t)});l(this,"onDoubleClickShape",(e,t)=>{var n,r;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(r=(n=this.currentTool).onDoubleClickShape)==null||r.call(n,e,t)});l(this,"onRightPointShape",(e,t)=>{var n,r;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(r=(n=this.currentTool).onRightPointShape)==null||r.call(n,e,t)});l(this,"onDragShape",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onDragShape)==null||r.call(n,e,t)});l(this,"onHoverShape",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onHoverShape)==null||r.call(n,e,t)});l(this,"onUnhoverShape",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onUnhoverShape)==null||r.call(n,e,t)});l(this,"onPointBounds",(e,t)=>{var n,r;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(r=(n=this.currentTool).onPointBounds)==null||r.call(n,e,t)});l(this,"onDoubleClickBounds",(e,t)=>{var n,r;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(r=(n=this.currentTool).onDoubleClickBounds)==null||r.call(n,e,t)});l(this,"onRightPointBounds",(e,t)=>{var n,r;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(r=(n=this.currentTool).onRightPointBounds)==null||r.call(n,e,t)});l(this,"onDragBounds",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onDragBounds)==null||r.call(n,e,t)});l(this,"onHoverBounds",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onHoverBounds)==null||r.call(n,e,t)});l(this,"onUnhoverBounds",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onUnhoverBounds)==null||r.call(n,e,t)});l(this,"onReleaseBounds",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onReleaseBounds)==null||r.call(n,e,t)});l(this,"onPointBoundsHandle",(e,t)=>{var n,r;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(r=(n=this.currentTool).onPointBoundsHandle)==null||r.call(n,e,t)});l(this,"onDoubleClickBoundsHandle",(e,t)=>{var r,i;if(this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(i=(r=this.currentTool).onDoubleClickBoundsHandle)==null||i.call(r,e,t),this.selectedIds.length!==1)return;let n=this.getShape(this.selectedIds[0]);if(n.type==="image"||n.type==="video"){let d=this.document.assets[n.assetId],a=x.getShapeUtil(n),c=a.getCenter(n),p=a.getCenter(k(S({},n),{size:d.size})),u=_.Vec.sub(p,c);this.updateShapes({id:n.id,point:_.Vec.sub(n.point,u),size:d.size})}});l(this,"onRightPointBoundsHandle",(e,t)=>{var n,r;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(r=(n=this.currentTool).onRightPointBoundsHandle)==null||r.call(n,e,t)});l(this,"onDragBoundsHandle",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onDragBoundsHandle)==null||r.call(n,e,t)});l(this,"onHoverBoundsHandle",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onHoverBoundsHandle)==null||r.call(n,e,t)});l(this,"onUnhoverBoundsHandle",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onUnhoverBoundsHandle)==null||r.call(n,e,t)});l(this,"onReleaseBoundsHandle",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onReleaseBoundsHandle)==null||r.call(n,e,t)});l(this,"onPointHandle",(e,t)=>{var n,r;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(r=(n=this.currentTool).onPointHandle)==null||r.call(n,e,t)});l(this,"onDoubleClickHandle",(e,t)=>{var n,r;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(r=(n=this.currentTool).onDoubleClickHandle)==null||r.call(n,e,t)});l(this,"onRightPointHandle",(e,t)=>{var n,r;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(r=(n=this.currentTool).onRightPointHandle)==null||r.call(n,e,t)});l(this,"onDragHandle",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onDragHandle)==null||r.call(n,e,t)});l(this,"onHoverHandle",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onHoverHandle)==null||r.call(n,e,t)});l(this,"onUnhoverHandle",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onUnhoverHandle)==null||r.call(n,e,t)});l(this,"onReleaseHandle",(e,t)=>{var n,r;this.updateInputs(e,t),(r=(n=this.currentTool).onReleaseHandle)==null||r.call(n,e,t)});l(this,"onShapeChange",e=>{let t=this.document.pages[this.currentPageId].shapes,n=S(S({},t[e.id]),e),r=ua(this,[n],this.currentPageId).after;return this.patchState(r,"patched_shapes")});l(this,"onShapeBlur",()=>{var n,r;if(performance.now()-this.editingStartTime<50)return;let{editingId:e}=this.pageState,{isToolLocked:t}=this.getAppState();if(e){let i=this.getShape(e);this.setEditingId(),i.type==="text"&&(i.text.trim().length<=0?this.patchState(sa(this,[e]).after,"delete_empty_text"):t||this.select(e))}(r=(n=this.currentTool).onShapeBlur)==null||r.call(n)});l(this,"onShapeClone",(e,t)=>{var n,r;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(r=(n=this.currentTool).onShapeClone)==null||r.call(n,e,t)});l(this,"onRenderCountChange",e=>{let t=this.getAppState();t.isEmptyCanvas&&e.length>0?this.patchState({appState:{isEmptyCanvas:!1}},"empty_canvas:false"):!t.isEmptyCanvas&&e.length<=0&&this.patchState({appState:{isEmptyCanvas:!0}},"empty_canvas:true")});l(this,"onError",()=>{});l(this,"getShapeUtil",x.getShapeUtil);this.callbacks=t}setStatus(e){return this.patchState({appState:{status:e}},`set_status:${e}`)}get isMenuOpen(){return this.appState.isMenuOpen}get isLoading(){return this.appState.isLoading}get disableAssets(){return this.appState.disableAssets}get history(){return this.stack.slice(0,this.pointer+1)}set history(e){this.replaceHistory(e)}get document(){return this.state.document}get settings(){return this.state.settings}get appState(){return this.state.appState}get currentPageId(){return this.state.appState.currentPageId}get page(){return this.state.document.pages[this.currentPageId]}get shapes(){return Object.values(this.page.shapes)}get bindings(){return Object.values(this.page.bindings)}get assets(){return Object.values(this.document.assets)}get pageState(){return this.state.document.pageStates[this.currentPageId]}get camera(){return this.pageState.camera}get zoom(){return this.pageState.camera.zoom}get selectedIds(){return this.pageState.selectedIds}createTextShapeAtPoint(e,t,n){let{shapes:r,appState:{currentPageId:i,currentStyle:d}}=this,a=r.length===0?1:r.filter(h=>h.parentId===i).sort((h,m)=>m.childIndex-h.childIndex)[0].childIndex+1,c=tn["text"],p=c.create({id:t||Qe.Utils.uniqueId(),parentId:i,childIndex:a,point:e,style:S({},d)}),u=c.getBounds(p);return p.point=_.Vec.sub(p.point,[u.width/2,u.height/2]),n?this.patchCreate([x.getShapeUtil(p.type).create(p)]):this.createShapes(p),this.setEditingId(p.id,!0),this}getImageOrVideoShapeAtPoint(e,t,n,r,i){let{shapes:d,appState:{currentPageId:a,currentStyle:c}}=this,p=d.length===0?1:d.filter(m=>m.parentId===a).sort((m,g)=>g.childIndex-m.childIndex)[0].childIndex+1,u=tn[t];if(r[0]>this.viewport.width){let m=r[1]/r[0];r[0]=this.viewport.width-128/this.camera.zoom*2,r[1]=r[0]*m,(r[1]<32||r[1]<32)&&(r[1]=32,r[0]=r[1]/m)}else if(r[1]>this.viewport.height){let m=r[0]/r[1];r[1]=this.viewport.height-128/this.camera.zoom*2,r[0]=r[1]*m,(r[1]<32||r[1]<32)&&(r[0]=32,r[1]=r[0]/m)}return u.create({id:e,parentId:a,childIndex:p,point:n,size:r,style:S({},c),assetId:i})}isSelected(e){return this.selectedIds.includes(e)}serializeVideo(e){let t=document.getElementById(e+"_video");if(t){let n=document.createElement("canvas");return n.width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0),n.toDataURL("image/png")}else throw new Error("Video with id "+e+" not found")}serializeImage(e){let t=document.getElementById(e+"_image");if(t){let n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0),n.toDataURL("image/png")}else throw new Error("Image with id "+e+" not found")}patchAssets(e){this.document.assets=S(S({},this.document.assets),e)}get room(){return this.state.room}get isLocal(){return this.state.room===void 0||this.state.room.id==="local"}get status(){return this.appState.status}get currentUser(){if(!!this.state.room)return this.state.room.users[this.state.room.userId]}get centerPoint(){let{width:e,height:t}=this.rendererBounds;return _.Vec.toFixed([e/2,t/2])}get currentGrid(){let{zoom:e}=this.camera;return e<.15?8*16:e<1?8*4:8*1}},$t=ze;l($t,"version",15.5),l($t,"defaultDocument",{id:"doc",name:"New Document",version:ze.version,pages:{page:{id:"page",name:"Page 1",childIndex:1,shapes:{},bindings:{}}},pageStates:{page:{id:"page",selectedIds:[],camera:{point:[0,0],zoom:1}}},assets:{}}),l($t,"defaultState",{settings:{isCadSelectMode:!1,isPenMode:!1,isDarkMode:!1,isZoomSnap:!1,isFocusMode:!1,isSnapping:!1,isDebugMode:!1,isReadonlyMode:!1,keepStyleMenuOpen:!1,nudgeDistanceLarge:16,nudgeDistanceSmall:1,showRotateHandles:!0,showBindingHandles:!0,showCloneHandles:!1,showGrid:!1,language:"en",dockPosition:"bottom",exportBackground:"transparent"},appState:{status:"idle",activeTool:"select",hoveredId:void 0,currentPageId:"page",currentStyle:Oe,isToolLocked:!1,isMenuOpen:!1,isEmptyCanvas:!1,eraseLine:[],snapLines:[],isLoading:!1,disableAssets:!1},document:ze.defaultDocument}),l($t,"assetSrc","tldraw-assets.json");var jA={select:qo,erase:_o,["text"]:Qo,["draw"]:Ko,["ellipse"]:Uo,["rectangle"]:Zo,["triangle"]:er,["line"]:Yo,["arrow"]:No,["sticky"]:Jo};var Re=require("react/jsx-runtime"),Fg=qp.ErrorBoundary,jg=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches:!1;function Gg({id:s,document:o,currentPageId:e,autofocus:t=!0,showMenu:n=!0,showMultiplayerMenu:r=!0,showPages:i=!0,showTools:d=!0,showZoom:a=!0,showStyles:c=!0,showUI:p=!0,readOnly:u=!1,disableAssets:h=!1,darkMode:m=jg,components:g,onMount:f,onChange:y,onChangePresence:T,onNewProject:b,onSaveProject:w,onSaveProjectAs:v,onOpenProject:P,onOpenMedia:C,onUndo:B,onRedo:I,onPersist:D,onPatch:A,onCommand:O,onChangePage:L,onAssetCreate:se,onAssetDelete:J,onAssetUpload:ne,onSessionStart:ie,onSessionEnd:et,onExport:sn,hideCursors:bn}){let[Tn,zr]=re.useState(s),[be,Or]=re.useState(()=>new $t(s,{onMount:f,onChange:y,onChangePresence:T,onNewProject:b,onSaveProject:w,onSaveProjectAs:v,onOpenProject:P,onOpenMedia:C,onUndo:B,onRedo:I,onPersist:D,onPatch:A,onCommand:O,onChangePage:L,onAssetDelete:J,onAssetCreate:se,onAssetUpload:ne,onSessionStart:ie,onSessionEnd:et})),[yn,Si]=re.useState(null),[wn,or]=re.useState(null),[rr,Qp]=re.useState(null),[eu,Da]=re.useState(null),tu=re.useCallback((Kn,Fr,nu,ou)=>{Da(()=>Kn),Si(()=>ou),or(()=>Fr),Qp(()=>nu)},[]);return re.useLayoutEffect(()=>{if(s===Tn)return;let Kn=new $t(s,{onMount:f,onChange:y,onChangePresence:T,onNewProject:b,onSaveProject:w,onSaveProjectAs:v,onOpenProject:P,onOpenMedia:C,onUndo:B,onRedo:I,onPersist:D,onPatch:A,onCommand:O,onChangePage:L,onAssetDelete:J,onAssetCreate:se,onAssetUpload:ne,onExport:sn,onSessionStart:ie,onSessionEnd:et});zr(s),Or(Kn)},[Tn,s]),re.useEffect(()=>{!o||(o.id===be.document.id?be.updateDocument(o):be.loadDocument(o))},[o,be]),re.useEffect(()=>{be.setDisableAssets(h)},[be,h]),re.useEffect(()=>{!e||be.changePage(e)},[e,be]),re.useEffect(()=>{be.readOnly=u,u||(be.selectNone(),be.cancelSession(),be.setEditingId())},[be,u]),re.useEffect(()=>{m!==be.settings.isDarkMode&&be.toggleDarkMode()},[be,m]),re.useEffect(()=>{be.callbacks={onMount:f,onChange:y,onChangePresence:T,onNewProject:b,onSaveProject:w,onSaveProjectAs:v,onOpenProject:P,onOpenMedia:C,onUndo:B,onRedo:I,onPersist:D,onPatch:A,onCommand:O,onChangePage:L,onAssetDelete:J,onAssetCreate:se,onAssetUpload:ne,onExport:sn,onSessionStart:ie,onSessionEnd:et}},[f,y,T,b,w,v,P,C,B,I,D,A,O,L,J,se,ne,sn,ie,et]),re.useLayoutEffect(()=>{var Fr;if(typeof window=="undefined"||!((Fr=window.document)!=null&&Fr.fonts))return;function Kn(){be.refreshBoundingBoxes()}return window.document.fonts.addEventListener("loadingdone",Kn),()=>{window.document.fonts.removeEventListener("loadingdone",Kn)}},[be]),(0,Re.jsx)(wi.Provider,{value:be,children:(0,Re.jsx)(xi.Provider,{value:{onYes:wn,onCancel:yn,onNo:rr,dialogState:eu,setDialogState:Da,openDialog:tu},children:(0,Re.jsx)(Vg,{id:Tn,autofocus:t,showPages:i,showMenu:n,showMultiplayerMenu:r,showStyles:c,showZoom:a,showTools:d,showUI:p,readOnly:u,components:g,hideCursors:bn},Tn||"Tldraw")})})}var Vg=re.memo(function({id:o,autofocus:e,showPages:t,showMenu:n,showMultiplayerMenu:r,showZoom:i,showStyles:d,showTools:a,readOnly:c,showUI:p,components:u,hideCursors:h}){var be,Or;let m=V(),[g,f]=re.useState(null),y=re.useRef(null),T=m.useStore(),{document:b,settings:w,appState:v,room:P}=T,C=T.appState.activeTool==="select",B=b.pages[v.currentPageId],I=b.pageStates[B.id],D=b.assets,{selectedIds:A}=I,O=A.length===1&&B.shapes[A[0]]&&x.getShapeUtil(B.shapes[A[0]].type).hideBounds,L=A.length===1&&B.shapes[A[0]]&&x.getShapeUtil(B.shapes[A[0]].type).hideResizeHandles,se=re.useMemo(()=>({isDarkMode:w.isDarkMode}),[w.isDarkMode]),J=w.isCadSelectMode?!v.selectByContain:v.selectByContain,ne=re.useMemo(()=>{let{selectByContain:yn}=v,{isDarkMode:Si,isCadSelectMode:wn}=w;if(Si){let rr=wn?yn?"69, 155, 255":"105, 209, 73":"180, 180, 180";return{brushFill:`rgba(${rr}, ${wn?.08:.05})`,brushStroke:`rgba(${rr}, ${wn?.5:.25})`,brushDashStroke:`rgba(${rr}, .6)`,selected:"rgba(38, 150, 255, 1.000)",selectFill:"rgba(38, 150, 255, 0.05)",background:"#212529",foreground:"#49555f"}}let or=wn?yn?"0, 89, 242":"51, 163, 23":"0,0,0";return{brushFill:`rgba(${or}, ${wn?.08:.05})`,brushStroke:`rgba(${or}, ${wn?.4:.25})`,brushDashStroke:`rgba(${or}, .6)`}},[w.isDarkMode,w.isCadSelectMode,v.selectByContain]),ie=m.session!==void 0,et=ie&&((be=m.session)==null?void 0:be.constructor.name)!=="BrushSession"||!C||O||!!I.editingId,sn=ie||!C,bn=ie&&T.appState.status!=="brushing"||!C,Tn=ie||!C||I.camera.zoom<.2,zr=fl(w.language);return re.useLayoutEffect(()=>{let yn=y.current;!yn||(w.isDarkMode?yn.classList.add(yi):yn.classList.remove(yi))},[w.isDarkMode]),op(y),(0,Re.jsx)(ki.Provider,{value:y,children:(0,Re.jsxs)(Jp.IntlProvider,{locale:zr.locale,messages:zr.messages,children:[(0,Re.jsx)(vl,{container:g}),(0,Re.jsxs)(Ng,{ref:y,tabIndex:-0,children:[(0,Re.jsx)(Di,{}),(0,Re.jsx)($g,{focusableRef:y,autofocus:e}),(0,Re.jsx)(Sl,{children:(0,Re.jsx)(Fg,{FallbackComponent:bl,children:(0,Re.jsx)(Xp.Renderer,{id:o,containerRef:y,shapeUtils:tn,page:B,pageState:I,assets:D,snapLines:v.snapLines,eraseLine:v.eraseLine,grid:8,users:P==null?void 0:P.users,userId:P==null?void 0:P.userId,theme:ne,meta:se,components:u,hideCursors:h,hideBounds:et,hideHandles:sn,hideResizeHandles:L,hideIndicators:bn,hideBindingHandles:!w.showBindingHandles,hideCloneHandles:Tn,hideRotateHandles:!w.showRotateHandles,hideGrid:!w.showGrid,showDashedBrush:J,performanceMode:(Or=m.session)==null?void 0:Or.performanceMode,onPinchStart:m.onPinchStart,onPinchEnd:m.onPinchEnd,onPinch:m.onPinch,onPan:m.onPan,onZoom:m.onZoom,onPointerDown:m.onPointerDown,onPointerMove:m.onPointerMove,onPointerUp:m.onPointerUp,onPointCanvas:m.onPointCanvas,onDoubleClickCanvas:m.onDoubleClickCanvas,onRightPointCanvas:m.onRightPointCanvas,onDragCanvas:m.onDragCanvas,onReleaseCanvas:m.onReleaseCanvas,onPointShape:m.onPointShape,onDoubleClickShape:m.onDoubleClickShape,onRightPointShape:m.onRightPointShape,onDragShape:m.onDragShape,onHoverShape:m.onHoverShape,onUnhoverShape:m.onUnhoverShape,onReleaseShape:m.onReleaseShape,onPointBounds:m.onPointBounds,onDoubleClickBounds:m.onDoubleClickBounds,onRightPointBounds:m.onRightPointBounds,onDragBounds:m.onDragBounds,onHoverBounds:m.onHoverBounds,onUnhoverBounds:m.onUnhoverBounds,onReleaseBounds:m.onReleaseBounds,onPointBoundsHandle:m.onPointBoundsHandle,onDoubleClickBoundsHandle:m.onDoubleClickBoundsHandle,onRightPointBoundsHandle:m.onRightPointBoundsHandle,onDragBoundsHandle:m.onDragBoundsHandle,onHoverBoundsHandle:m.onHoverBoundsHandle,onUnhoverBoundsHandle:m.onUnhoverBoundsHandle,onReleaseBoundsHandle:m.onReleaseBoundsHandle,onPointHandle:m.onPointHandle,onDoubleClickHandle:m.onDoubleClickHandle,onRightPointHandle:m.onRightPointHandle,onDragHandle:m.onDragHandle,onHoverHandle:m.onHoverHandle,onUnhoverHandle:m.onUnhoverHandle,onReleaseHandle:m.onReleaseHandle,onError:m.onError,onRenderCountChange:m.onRenderCountChange,onShapeChange:m.onShapeChange,onShapeBlur:m.onShapeBlur,onShapeClone:m.onShapeClone,onBoundsChange:m.updateBounds,onKeyDown:m.onKeyDown,onKeyUp:m.onKeyUp,onDragOver:m.onDragOver,onDrop:m.onDrop})})}),p&&(0,Re.jsx)(Wg,{ref:f,children:w.isFocusMode?(0,Re.jsx)(yl,{onSelect:m.toggleFocusMode}):(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(tp,{readOnly:c,showPages:t,showMenu:n,showMultiplayerMenu:r,showStyles:d,showZoom:i}),(0,Re.jsx)(Kg,{}),a&&!c&&(0,Re.jsx)(Dd,{})]})})]})]})})}),$g=re.memo(function({focusableRef:o,autofocus:e}){return Fa(o),re.useEffect(()=>{var t;e&&((t=o.current)==null||t.focus())},[e]),null}),Ng=M("div",{position:"absolute",height:"100%",width:"100%",minHeight:0,minWidth:0,maxHeight:"100%",maxWidth:"100%",overflow:"hidden",boxSizing:"border-box",outline:"none",userSelect:"none",WebkitUserSelect:"none","& .tl-container":{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1},"& input, textarea, button, select, label, button":{webkitTouchCallout:"none",webkitUserSelect:"none","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent"}}),Wg=M("div",{position:"absolute",top:0,left:0,height:"100%",width:"100%",padding:"8px 8px 0 8px",display:"flex",alignItems:"flex-start",justifyContent:"flex-start",pointerEvents:"none",zIndex:2,"& > *":{pointerEvents:"all"}}),Kg=M("div",{flexGrow:2});
//# sourceMappingURL=index.js.map
